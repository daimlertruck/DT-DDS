var mr=Object.defineProperty;var o=(e,n)=>mr(e,"name",{value:n,configurable:!0});import{j as ee}from"./jsx-runtime-Cgz2XvFB.js";import{B as Ir}from"./index-juXVSS06.js";import{D as dn}from"./Dropdown-BrFqBjo9.js";import{I as Jt}from"./Icon-BrO18bYS.js";import{I as yr}from"./IconButton-BsV1J9zH.js";import{L as br}from"./LabelField-C0PWGpoP.js";import{T as Qt}from"./Tooltip-CWTpTbyk.js";import{j as H,f as ke}from"./emotion-styled.browser.esm-Cgg3GKEJ.js";import{g as xr,R as He,r as p}from"./index-CwbBKW39.js";import{C as wr}from"./Checkbox-siqGYWeX.js";import{T as cn}from"./Typography-CEwLj33J.js";function re(e,n){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(n.indexOf(a)!==-1)continue;i[a]=e[a]}return i}o(re,"_objectWithoutPropertiesLoose");function at(e,n){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},at(e,n)}o(at,"_setPrototypeOf");function Cr(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,at(e,n)}o(Cr,"_inheritsLoose");var fn={exports:{}},Sr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dr=Sr,kr=Dr;function pn(){}o(pn,"emptyFunction");function gn(){}o(gn,"emptyFunctionWithReset");gn.resetWarningCache=pn;var Or=o(function(){function e(a,r,t,u,s,l){if(l!==kr){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}o(e,"shim"),e.isRequired=e;function n(){return e}o(n,"getShim");var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:gn,resetWarningCache:pn};return i.PropTypes=i,i},"factoryWithThrowingShims");fn.exports=Or();var Mr=fn.exports;const k=xr(Mr);var W={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=Symbol.for("react.element"),lt=Symbol.for("react.portal"),ze=Symbol.for("react.fragment"),Ge=Symbol.for("react.strict_mode"),Ye=Symbol.for("react.profiler"),Xe=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Kr=Symbol.for("react.server_context"),Qe=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Er=Symbol.for("react.offscreen"),hn;hn=Symbol.for("react.module.reference");function se(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case st:switch(e=e.type,e){case ze:case Ye:case Ge:case Ze:case et:return e;default:switch(e=e&&e.$$typeof,e){case Kr:case Je:case Qe:case nt:case tt:case Xe:return e;default:return n}}case lt:return n}}}o(se,"v");W.ContextConsumer=Je;W.ContextProvider=Xe;W.Element=st;W.ForwardRef=Qe;W.Fragment=ze;W.Lazy=nt;W.Memo=tt;W.Portal=lt;W.Profiler=Ye;W.StrictMode=Ge;W.Suspense=Ze;W.SuspenseList=et;W.isAsyncMode=function(){return!1};W.isConcurrentMode=function(){return!1};W.isContextConsumer=function(e){return se(e)===Je};W.isContextProvider=function(e){return se(e)===Xe};W.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===st};W.isForwardRef=function(e){return se(e)===Qe};W.isFragment=function(e){return se(e)===ze};W.isLazy=function(e){return se(e)===nt};W.isMemo=function(e){return se(e)===tt};W.isPortal=function(e){return se(e)===lt};W.isProfiler=function(e){return se(e)===Ye};W.isStrictMode=function(e){return se(e)===Ge};W.isSuspense=function(e){return se(e)===Ze};W.isSuspenseList=function(e){return se(e)===et};W.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ze||e===Ye||e===Ge||e===Ze||e===et||e===Er||typeof e=="object"&&e!==null&&(e.$$typeof===nt||e.$$typeof===tt||e.$$typeof===Xe||e.$$typeof===Je||e.$$typeof===Qe||e.$$typeof===hn||e.getModuleId!==void 0)};W.typeOf=se;const Zt=o(e=>typeof e=="object"&&e!=null&&e.nodeType===1,"t"),en=o((e,n)=>(!n||e!=="hidden")&&e!=="visible"&&e!=="clip","e"),Pe=o((e,n)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const i=getComputedStyle(e,null);return en(i.overflowY,n)||en(i.overflowX,n)||(a=>{const r=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch{return null}})(a);return!!r&&(r.clientHeight<a.scrollHeight||r.clientWidth<a.scrollWidth)})(e)}return!1},"n"),Te=o((e,n,i,a,r,t,u,s)=>t<e&&u>n||t>e&&u<n?0:t<=e&&s<=i||u>=n&&s>=i?t-e-a:u>n&&s<i||t<e&&s>i?u-n+r:0,"o"),Hr=o(e=>{const n=e.parentElement;return n??(e.getRootNode().host||null)},"l"),Rr=o((e,n)=>{var i,a,r,t;if(typeof document>"u")return[];const{inline:u,boundary:s,skipOverflowHiddenElements:l}=n,h=typeof s=="function"?s:q=>q!==s;if(!Zt(e))throw new TypeError("Invalid target");const C=document.scrollingElement||document.documentElement,P=[];let O=e;for(;Zt(O)&&h(O);){if(O=Hr(O),O===C){P.push(O);break}O!=null&&O===document.body&&Pe(O)&&!Pe(document.documentElement)||O!=null&&Pe(O,l)&&P.push(O)}const K=(a=(i=window.visualViewport)==null?void 0:i.width)!=null?a:innerWidth,B=(t=(r=window.visualViewport)==null?void 0:r.height)!=null?t:innerHeight,{scrollX:j,scrollY:V}=window,{height:L,width:d,top:f,right:c,bottom:g,left:m}=e.getBoundingClientRect(),{top:_,right:S,left:v}=(q=>{const R=window.getComputedStyle(q);return{top:parseFloat(R.scrollMarginTop)||0,right:parseFloat(R.scrollMarginRight)||0,bottom:parseFloat(R.scrollMarginBottom)||0,left:parseFloat(R.scrollMarginLeft)||0}})(e);let y=f-_,M=u==="center"?m+d/2-v+S:u==="end"?c+S:m-v;const $=[];for(let q=0;q<P.length;q++){const R=P[q],{height:Y,width:te,top:A,right:x,bottom:E,left:D}=R.getBoundingClientRect();if(f>=0&&m>=0&&g<=B&&c<=K&&(R===C&&!Pe(R)||f>=A&&g<=E&&m>=D&&c<=x))return $;const U=getComputedStyle(R),w=parseInt(U.borderLeftWidth,10),b=parseInt(U.borderTopWidth,10),I=parseInt(U.borderRightWidth,10),T=parseInt(U.borderBottomWidth,10);let F=0,z=0;const G="offsetWidth"in R?R.offsetWidth-R.clientWidth-w-I:0,Q="offsetHeight"in R?R.offsetHeight-R.clientHeight-b-T:0,X="offsetWidth"in R?R.offsetWidth===0?0:te/R.offsetWidth:0,Z="offsetHeight"in R?R.offsetHeight===0?0:Y/R.offsetHeight:0;if(C===R)F=Te(V,V+B,B,b,T,V+y,V+y+L,L),z=u==="start"?M:u==="center"?M-K/2:u==="end"?M-K:Te(j,j+K,K,w,I,j+M,j+M+d,d),F=Math.max(0,F+V),z=Math.max(0,z+j);else{F=Te(A,E,Y,b,T+Q,y,y+L,L),z=u==="start"?M-D-w:u==="center"?M-(D+te/2)+G/2:u==="end"?M-x+I+G:Te(D,x,te,w,I+G,M,M+d,d);const{scrollLeft:ne,scrollTop:le}=R;F=Z===0?0:Math.max(0,Math.min(le+F/Z,R.scrollHeight-Y/Z+Q)),z=X===0?0:Math.max(0,Math.min(ne+z/X,R.scrollWidth-te/X+G)),y+=le-F,M+=ne-z}$.push({el:R,top:F,left:z})}return $},"r");var Se=o(function(){return Se=Object.assign||o(function(n){for(var i,a=1,r=arguments.length;a<r;a++){i=arguments[a];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}return n},"__assign"),Se.apply(this,arguments)},"__assign");var vn=0;function tn(e){return typeof e=="function"?e:ge}o(tn,"cbToCb");function ge(){}o(ge,"noop");function mn(e,n){if(e){var i=Rr(e,{boundary:n});i.forEach(function(a){var r=a.el,t=a.top,u=a.left;r.scrollTop=t,r.scrollLeft=u})}}o(mn,"scrollIntoView");function nn(e,n,i){var a=e===n||n instanceof i.Node&&e.contains&&e.contains(n);return a}o(nn,"isOrContainsNode");function rt(e,n){var i;function a(){i&&clearTimeout(i)}o(a,"cancel");function r(){for(var t=arguments.length,u=new Array(t),s=0;s<t;s++)u[s]=arguments[s];a(),i=setTimeout(function(){i=null,e.apply(void 0,u)},n)}return o(r,"wrapper"),r.cancel=a,r}o(rt,"debounce");function N(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(a){for(var r=arguments.length,t=new Array(r>1?r-1:0),u=1;u<r;u++)t[u-1]=arguments[u];return n.some(function(s){return s&&s.apply(void 0,[a].concat(t)),a.preventDownshiftDefault||a.hasOwnProperty("nativeEvent")&&a.nativeEvent.preventDownshiftDefault})}}o(N,"callAllEventHandlers");function ce(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(a){n.forEach(function(r){typeof r=="function"?r(a):r&&(r.current=a)})}}o(ce,"handleRefs");function In(){return String(vn++)}o(In,"generateId");function Pr(){if("useId"in He){console.warn("It is not necessary to call resetIdCounter when using React 18+");return}vn=0}o(Pr,"resetIdCounter");function Tr(e){var n=e.isOpen,i=e.resultCount,a=e.previousResultCount;return n?i?i!==a?i+" result"+(i===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}o(Tr,"getA11yStatusMessage");function rn(e,n){return e=Array.isArray(e)?e[0]:e,!e&&n?n:e}o(rn,"unwrapArray");function $r(e){return typeof e.type=="string"}o($r,"isDOMElement");function _r(e){return e.props}o(_r,"getElementProps");var Br=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function $e(e){e===void 0&&(e={});var n={};return Br.forEach(function(i){e.hasOwnProperty(i)&&(n[i]=e[i])}),n}o($e,"pickState");function Re(e,n){return!e||!n?e:Object.keys(e).reduce(function(i,a){return i[a]=Fe(n,a)?n[a]:e[a],i},{})}o(Re,"getState");function Fe(e,n){return e[n]!==void 0}o(Fe,"isControlledProp");function De(e){var n=e.key,i=e.keyCode;return i>=37&&i<=40&&n.indexOf("Arrow")!==0?"Arrow"+n:n}o(De,"normalizeArrowKey");function fe(e,n,i,a,r){r===void 0&&(r=!1);var t=i.length;if(t===0)return-1;var u=t-1;(typeof e!="number"||e<0||e>u)&&(e=n>0?-1:u+1);var s=e+n;s<0?s=r?u:0:s>u&&(s=r?0:u);var l=me(s,n<0,i,a,r);return l===-1?e>=t?-1:e:l}o(fe,"getHighlightedIndex");function me(e,n,i,a,r){r===void 0&&(r=!1);var t=i.length;if(n){for(var u=e;u>=0;u--)if(!a(i[u],u))return u}else for(var s=e;s<t;s++)if(!a(i[s],s))return s;return r?me(n?t-1:0,n,i,a):-1}o(me,"getNonDisabledIndex");function Le(e,n,i,a){return a===void 0&&(a=!0),i&&n.some(function(r){return r&&(nn(r,e,i)||a&&nn(r,i.document.activeElement,i))})}o(Le,"targetWithinDownshift");var Vr=rt(function(e){yn(e).textContent=""},500);function yn(e){var n=e.getElementById("a11y-status-message");return n||(n=e.createElement("div"),n.setAttribute("id","a11y-status-message"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-relevant","additions text"),Object.assign(n.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(n),n)}o(yn,"getStatusDiv");function bn(e,n){if(!(!e||!n)){var i=yn(n);i.textContent=e,Vr(n)}}o(bn,"setStatus");function Ar(e){var n=e==null?void 0:e.getElementById("a11y-status-message");n&&n.remove()}o(Ar,"cleanupStatusDiv");var xn=0,wn=1,Cn=2,_e=3,Be=4,Sn=5,Dn=6,kn=7,On=8,Mn=9,Kn=10,En=11,Hn=12,Rn=13,Pn=14,Tn=15,$n=16,Fr=Object.freeze({__proto__:null,blurButton:Pn,blurInput:Kn,changeInput:En,clickButton:Rn,clickItem:Mn,controlledPropUpdatedSelectedItem:Tn,itemMouseEnter:Cn,keyDownArrowDown:Be,keyDownArrowUp:_e,keyDownEnd:On,keyDownEnter:Dn,keyDownEscape:Sn,keyDownHome:kn,keyDownSpaceButton:Hn,mouseUp:wn,touchEnd:$n,unknown:xn}),Lr=["refKey","ref"],jr=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],Nr=["onKeyDown","onBlur","onChange","onInput","onChangeText"],Ur=["refKey","ref"],Wr=["onMouseMove","onMouseDown","onClick","onPress","index","item"],qr=(function(){var e=(function(n){function i(r){var t;t=n.call(this,r)||this,t.id=t.props.id||"downshift-"+In(),t.menuId=t.props.menuId||t.id+"-menu",t.labelId=t.props.labelId||t.id+"-label",t.inputId=t.props.inputId||t.id+"-input",t.getItemId=t.props.getItemId||function(d){return t.id+"-item-"+d},t.items=[],t.itemCount=null,t.previousResultCount=0,t.timeoutIds=[],t.internalSetTimeout=function(d,f){var c=setTimeout(function(){t.timeoutIds=t.timeoutIds.filter(function(g){return g!==c}),d()},f);t.timeoutIds.push(c)},t.setItemCount=function(d){t.itemCount=d},t.unsetItemCount=function(){t.itemCount=null},t.isItemDisabled=function(d,f){var c=t.getItemNodeFromIndex(f);return c&&c.hasAttribute("disabled")},t.setHighlightedIndex=function(d,f){d===void 0&&(d=t.props.defaultHighlightedIndex),f===void 0&&(f={}),f=$e(f),t.internalSetState(H({highlightedIndex:d},f))},t.clearSelection=function(d){t.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:t.props.defaultHighlightedIndex,isOpen:t.props.defaultIsOpen},d)},t.selectItem=function(d,f,c){f=$e(f),t.internalSetState(H({isOpen:t.props.defaultIsOpen,highlightedIndex:t.props.defaultHighlightedIndex,selectedItem:d,inputValue:t.props.itemToString(d)},f),c)},t.selectItemAtIndex=function(d,f,c){var g=t.items[d];g!=null&&t.selectItem(g,f,c)},t.selectHighlightedItem=function(d,f){return t.selectItemAtIndex(t.getState().highlightedIndex,d,f)},t.internalSetState=function(d,f){var c,g,m={},_=typeof d=="function";return!_&&d.hasOwnProperty("inputValue")&&t.props.onInputValueChange(d.inputValue,H({},t.getStateAndHelpers(),d)),t.setState(function(S){var v;S=t.getState(S);var y=_?d(S):d;y=t.props.stateReducer(S,y),c=y.hasOwnProperty("selectedItem");var M={};return c&&y.selectedItem!==S.selectedItem&&(g=y.selectedItem),(v=y).type||(v.type=xn),Object.keys(y).forEach(function($){S[$]!==y[$]&&(m[$]=y[$]),$!=="type"&&(y[$],Fe(t.props,$)||(M[$]=y[$]))}),_&&y.hasOwnProperty("inputValue")&&t.props.onInputValueChange(y.inputValue,H({},t.getStateAndHelpers(),y)),M},function(){tn(f)();var S=Object.keys(m).length>1;S&&t.props.onStateChange(m,t.getStateAndHelpers()),c&&t.props.onSelect(d.selectedItem,t.getStateAndHelpers()),g!==void 0&&t.props.onChange(g,t.getStateAndHelpers()),t.props.onUserAction(m,t.getStateAndHelpers())})},t.rootRef=function(d){return t._rootNode=d},t.getRootProps=function(d,f){var c,g=d===void 0?{}:d,m=g.refKey,_=m===void 0?"ref":m,S=g.ref,v=re(g,Lr),y=f===void 0?{}:f,M=y.suppressRefError,$=M===void 0?!1:M;t.getRootProps.called=!0,t.getRootProps.refKey=_,t.getRootProps.suppressRefError=$;var q=t.getState(),R=q.isOpen;return H((c={},c[_]=ce(S,t.rootRef),c.role="combobox",c["aria-expanded"]=R,c["aria-haspopup"]="listbox",c["aria-owns"]=R?t.menuId:void 0,c["aria-labelledby"]=t.labelId,c),v)},t.keyDownHandlers={ArrowDown:o(function(f){var c=this;if(f.preventDefault(),this.getState().isOpen){var g=f.shiftKey?5:1;this.moveHighlightedIndex(g,{type:Be})}else this.internalSetState({isOpen:!0,type:Be},function(){var m=c.getItemCount();if(m>0){var _=c.getState(),S=_.highlightedIndex,v=fe(S,1,{length:m},c.isItemDisabled,!0);c.setHighlightedIndex(v,{type:Be})}})},"ArrowDown"),ArrowUp:o(function(f){var c=this;if(f.preventDefault(),this.getState().isOpen){var g=f.shiftKey?-5:-1;this.moveHighlightedIndex(g,{type:_e})}else this.internalSetState({isOpen:!0,type:_e},function(){var m=c.getItemCount();if(m>0){var _=c.getState(),S=_.highlightedIndex,v=fe(S,-1,{length:m},c.isItemDisabled,!0);c.setHighlightedIndex(v,{type:_e})}})},"ArrowUp"),Enter:o(function(f){if(f.which!==229){var c=this.getState(),g=c.isOpen,m=c.highlightedIndex;if(g&&m!=null){f.preventDefault();var _=this.items[m],S=this.getItemNodeFromIndex(m);if(_==null||S&&S.hasAttribute("disabled"))return;this.selectHighlightedItem({type:Dn})}}},"Enter"),Escape:o(function(f){f.preventDefault(),this.reset(H({type:Sn},!this.state.isOpen&&{selectedItem:null,inputValue:""}))},"Escape")},t.buttonKeyDownHandlers=H({},t.keyDownHandlers,{" ":o(function(f){f.preventDefault(),this.toggleMenu({type:Hn})},"_")}),t.inputKeyDownHandlers=H({},t.keyDownHandlers,{Home:o(function(f){var c=this.getState(),g=c.isOpen;if(g){f.preventDefault();var m=this.getItemCount();if(!(m<=0||!g)){var _=me(0,!1,{length:m},this.isItemDisabled);this.setHighlightedIndex(_,{type:kn})}}},"Home"),End:o(function(f){var c=this.getState(),g=c.isOpen;if(g){f.preventDefault();var m=this.getItemCount();if(!(m<=0||!g)){var _=me(m-1,!0,{length:m},this.isItemDisabled);this.setHighlightedIndex(_,{type:On})}}},"End")}),t.getToggleButtonProps=function(d){var f=d===void 0?{}:d,c=f.onClick;f.onPress;var g=f.onKeyDown,m=f.onKeyUp,_=f.onBlur,S=re(f,jr),v=t.getState(),y=v.isOpen,M={onClick:N(c,t.buttonHandleClick),onKeyDown:N(g,t.buttonHandleKeyDown),onKeyUp:N(m,t.buttonHandleKeyUp),onBlur:N(_,t.buttonHandleBlur)},$=S.disabled?{}:M;return H({type:"button",role:"button","aria-label":y?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},$,S)},t.buttonHandleKeyUp=function(d){d.preventDefault()},t.buttonHandleKeyDown=function(d){var f=De(d);t.buttonKeyDownHandlers[f]&&t.buttonKeyDownHandlers[f].call(t,d)},t.buttonHandleClick=function(d){if(d.preventDefault(),t.props.environment){var f=t.props.environment.document,c=f.body,g=f.activeElement;c&&c===g&&d.target.focus()}t.internalSetTimeout(function(){return t.toggleMenu({type:Rn})})},t.buttonHandleBlur=function(d){var f=d.target;t.internalSetTimeout(function(){if(!(t.isMouseDown||!t.props.environment)){var c=t.props.environment.document.activeElement;(c==null||c.id!==t.inputId)&&c!==f&&t.reset({type:Pn})}})},t.getLabelProps=function(d){return H({htmlFor:t.inputId,id:t.labelId},d)},t.getInputProps=function(d){var f=d===void 0?{}:d,c=f.onKeyDown,g=f.onBlur,m=f.onChange,_=f.onInput;f.onChangeText;var S=re(f,Nr),v,y={};v="onChange";var M=t.getState(),$=M.inputValue,q=M.isOpen,R=M.highlightedIndex;if(!S.disabled){var Y;y=(Y={},Y[v]=N(m,_,t.inputHandleChange),Y.onKeyDown=N(c,t.inputHandleKeyDown),Y.onBlur=N(g,t.inputHandleBlur),Y)}return H({"aria-autocomplete":"list","aria-activedescendant":q&&typeof R=="number"&&R>=0?t.getItemId(R):void 0,"aria-controls":q?t.menuId:void 0,"aria-labelledby":S&&S["aria-label"]?void 0:t.labelId,autoComplete:"off",value:$,id:t.inputId},y,S)},t.inputHandleKeyDown=function(d){var f=De(d);f&&t.inputKeyDownHandlers[f]&&t.inputKeyDownHandlers[f].call(t,d)},t.inputHandleChange=function(d){t.internalSetState({type:En,isOpen:!0,inputValue:d.target.value,highlightedIndex:t.props.defaultHighlightedIndex})},t.inputHandleBlur=function(){t.internalSetTimeout(function(){var d;if(!(t.isMouseDown||!t.props.environment)){var f=t.props.environment.document.activeElement,c=(f==null||(d=f.dataset)==null?void 0:d.toggle)&&t._rootNode&&t._rootNode.contains(f);c||t.reset({type:Kn})}})},t.menuRef=function(d){t._menuNode=d},t.getMenuProps=function(d,f){var c,g=d===void 0?{}:d,m=g.refKey,_=m===void 0?"ref":m,S=g.ref,v=re(g,Ur),y=f===void 0?{}:f,M=y.suppressRefError,$=M===void 0?!1:M;return t.getMenuProps.called=!0,t.getMenuProps.refKey=_,t.getMenuProps.suppressRefError=$,H((c={},c[_]=ce(S,t.menuRef),c.role="listbox",c["aria-labelledby"]=v&&v["aria-label"]?void 0:t.labelId,c.id=t.menuId,c),v)},t.getItemProps=function(d){var f,c=d===void 0?{}:d,g=c.onMouseMove,m=c.onMouseDown,_=c.onClick;c.onPress;var S=c.index,v=c.item,y=v===void 0?void 0:v,M=re(c,Wr);S===void 0?(t.items.push(y),S=t.items.indexOf(y)):t.items[S]=y;var $="onClick",q=_,R=(f={onMouseMove:N(g,function(){S!==t.getState().highlightedIndex&&(t.setHighlightedIndex(S,{type:Cn}),t.avoidScrolling=!0,t.internalSetTimeout(function(){return t.avoidScrolling=!1},250))}),onMouseDown:N(m,function(te){te.preventDefault()})},f[$]=N(q,function(){t.selectItemAtIndex(S,{type:Mn})}),f),Y=M.disabled?{onMouseDown:R.onMouseDown}:R;return H({id:t.getItemId(S),role:"option","aria-selected":t.getState().highlightedIndex===S},Y,M)},t.clearItems=function(){t.items=[]},t.reset=function(d,f){d===void 0&&(d={}),d=$e(d),t.internalSetState(function(c){var g=c.selectedItem;return H({isOpen:t.props.defaultIsOpen,highlightedIndex:t.props.defaultHighlightedIndex,inputValue:t.props.itemToString(g)},d)},f)},t.toggleMenu=function(d,f){d===void 0&&(d={}),d=$e(d),t.internalSetState(function(c){var g=c.isOpen;return H({isOpen:!g},g&&{highlightedIndex:t.props.defaultHighlightedIndex},d)},function(){var c=t.getState(),g=c.isOpen,m=c.highlightedIndex;g&&t.getItemCount()>0&&typeof m=="number"&&t.setHighlightedIndex(m,d),tn(f)()})},t.openMenu=function(d){t.internalSetState({isOpen:!0},d)},t.closeMenu=function(d){t.internalSetState({isOpen:!1},d)},t.updateStatus=rt(function(){var d;if((d=t.props)!=null&&(d=d.environment)!=null&&d.document){var f=t.getState(),c=t.items[f.highlightedIndex],g=t.getItemCount(),m=t.props.getA11yStatusMessage(H({itemToString:t.props.itemToString,previousResultCount:t.previousResultCount,resultCount:g,highlightedItem:c},f));t.previousResultCount=g,bn(m,t.props.environment.document)}},200);var u=t.props,s=u.defaultHighlightedIndex,l=u.initialHighlightedIndex,h=l===void 0?s:l,C=u.defaultIsOpen,P=u.initialIsOpen,O=P===void 0?C:P,K=u.initialInputValue,B=K===void 0?"":K,j=u.initialSelectedItem,V=j===void 0?null:j,L=t.getState({highlightedIndex:h,isOpen:O,inputValue:B,selectedItem:V});return L.selectedItem!=null&&t.props.initialInputValue===void 0&&(L.inputValue=t.props.itemToString(L.selectedItem)),t.state=L,t}o(i,"Downshift3"),Cr(i,n);var a=i.prototype;return a.internalClearTimeouts=o(function(){this.timeoutIds.forEach(function(t){clearTimeout(t)}),this.timeoutIds=[]},"internalClearTimeouts"),a.getState=o(function(t){return t===void 0&&(t=this.state),Re(t,this.props)},"getState$1"),a.getItemCount=o(function(){var t=this.items.length;return this.itemCount!=null?t=this.itemCount:this.props.itemCount!==void 0&&(t=this.props.itemCount),t},"getItemCount"),a.getItemNodeFromIndex=o(function(t){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(t)):null},"getItemNodeFromIndex"),a.scrollHighlightedItemIntoView=o(function(){{var t=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(t,this._menuNode)}},"scrollHighlightedItemIntoView"),a.moveHighlightedIndex=o(function(t,u){var s=this.getItemCount(),l=this.getState(),h=l.highlightedIndex;if(s>0){var C=fe(h,t,{length:s},this.isItemDisabled,!0);this.setHighlightedIndex(C,u)}},"moveHighlightedIndex"),a.getStateAndHelpers=o(function(){var t=this.getState(),u=t.highlightedIndex,s=t.inputValue,l=t.selectedItem,h=t.isOpen,C=this.props.itemToString,P=this.id,O=this.getRootProps,K=this.getToggleButtonProps,B=this.getLabelProps,j=this.getMenuProps,V=this.getInputProps,L=this.getItemProps,d=this.openMenu,f=this.closeMenu,c=this.toggleMenu,g=this.selectItem,m=this.selectItemAtIndex,_=this.selectHighlightedItem,S=this.setHighlightedIndex,v=this.clearSelection,y=this.clearItems,M=this.reset,$=this.setItemCount,q=this.unsetItemCount,R=this.internalSetState;return{getRootProps:O,getToggleButtonProps:K,getLabelProps:B,getMenuProps:j,getInputProps:V,getItemProps:L,reset:M,openMenu:d,closeMenu:f,toggleMenu:c,selectItem:g,selectItemAtIndex:m,selectHighlightedItem:_,setHighlightedIndex:S,clearSelection:v,clearItems:y,setItemCount:$,unsetItemCount:q,setState:R,itemToString:C,id:P,highlightedIndex:u,inputValue:s,isOpen:h,selectedItem:l}},"getStateAndHelpers"),a.componentDidMount=o(function(){var t=this;if(!this.props.environment)this.cleanup=function(){t.internalClearTimeouts()};else{var u=o(function(){t.isMouseDown=!0},"onMouseDown2"),s=o(function(K){t.isMouseDown=!1;var B=Le(K.target,[t._rootNode,t._menuNode],t.props.environment);!B&&t.getState().isOpen&&t.reset({type:wn},function(){return t.props.onOuterClick(t.getStateAndHelpers())})},"onMouseUp2"),l=o(function(){t.isTouchMove=!1},"onTouchStart2"),h=o(function(){t.isTouchMove=!0},"onTouchMove2"),C=o(function(K){var B=Le(K.target,[t._rootNode,t._menuNode],t.props.environment,!1);!t.isTouchMove&&!B&&t.getState().isOpen&&t.reset({type:$n},function(){return t.props.onOuterClick(t.getStateAndHelpers())})},"onTouchEnd2"),P=this.props.environment;P.addEventListener("mousedown",u),P.addEventListener("mouseup",s),P.addEventListener("touchstart",l),P.addEventListener("touchmove",h),P.addEventListener("touchend",C),this.cleanup=function(){t.internalClearTimeouts(),t.updateStatus.cancel(),P.removeEventListener("mousedown",u),P.removeEventListener("mouseup",s),P.removeEventListener("touchstart",l),P.removeEventListener("touchmove",h),P.removeEventListener("touchend",C)}}},"componentDidMount"),a.shouldScroll=o(function(t,u){var s=this.props.highlightedIndex===void 0?this.getState():this.props,l=s.highlightedIndex,h=u.highlightedIndex===void 0?t:u,C=h.highlightedIndex,P=l&&this.getState().isOpen&&!t.isOpen,O=l!==C;return P||O},"shouldScroll"),a.componentDidUpdate=o(function(t,u){Fe(this.props,"selectedItem")&&this.props.selectedItemChanged(t.selectedItem,this.props.selectedItem)&&this.internalSetState({type:Tn,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(u,t)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},"componentDidUpdate"),a.componentWillUnmount=o(function(){this.cleanup()},"componentWillUnmount"),a.render=o(function(){var t=rn(this.props.children,ge);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var u=rn(t(this.getStateAndHelpers()));if(!u)return null;if(this.getRootProps.called||this.props.suppressRefError)return u;if($r(u))return p.cloneElement(u,this.getRootProps(_r(u)))},"render"),i})(p.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:Tr,itemToString:o(function(i){return i==null?"":String(i)},"itemToString2"),onStateChange:ge,onInputValueChange:ge,onUserAction:ge,onChange:ge,onSelect:ge,onOuterClick:ge,selectedItemChanged:o(function(i,a){return i!==a},"selectedItemChanged"),environment:typeof window>"u"?void 0:window,stateReducer:o(function(i,a){return a},"stateReducer2"),suppressRefError:!1,scrollIntoView:mn},e.stateChangeTypes=Fr,e})(),_n={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function zr(e,n,i){var a=e.props,r=e.type,t={};Object.keys(n).forEach(function(u){Gr(u,e,n,i),i[u]!==n[u]&&(t[u]=i[u])}),a.onStateChange&&Object.keys(t).length&&a.onStateChange(H({type:r},t))}o(zr,"callOnChangeProps");function Gr(e,n,i,a){var r=n.props,t=n.type,u="on"+ct(e)+"Change";r[u]&&a[e]!==void 0&&a[e]!==i[e]&&r[u](H({type:t},a))}o(Gr,"invokeOnChangeHandler");function Yr(e,n){return n.changes}o(Yr,"stateReducer");var on=rt(function(e,n){bn(e,n)},200),Xr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect,Bn="useId"in He?o(function(n){var i=n.id,a=n.labelId,r=n.menuId,t=n.getItemId,u=n.toggleButtonId,s=n.inputId,l="downshift-"+He.useId();i||(i=l);var h=p.useRef({labelId:a||i+"-label",menuId:r||i+"-menu",getItemId:t||function(C){return i+"-item-"+C},toggleButtonId:u||i+"-toggle-button",inputId:s||i+"-input"});return h.current},"useElementIds2"):o(function(n){var i=n.id,a=i===void 0?"downshift-"+In():i,r=n.labelId,t=n.menuId,u=n.getItemId,s=n.toggleButtonId,l=n.inputId,h=p.useRef({labelId:r||a+"-label",menuId:t||a+"-menu",getItemId:u||function(C){return a+"-item-"+C},toggleButtonId:s||a+"-toggle-button",inputId:l||a+"-input"});return h.current},"useElementIds3");function dt(e,n,i,a){var r,t;if(e===void 0){if(n===void 0)throw new Error(a);r=i[n],t=n}else t=n===void 0?i.indexOf(e):n,r=e;return[r,t]}o(dt,"getItemAndIndex");function Jr(e){return/^\S{1}$/.test(e)}o(Jr,"isAcceptedCharacterKey");function ct(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}o(ct,"capitalizeString");function it(e){var n=p.useRef(e);return n.current=e,n}o(it,"useLatestRef");function Vn(e,n,i,a){var r=p.useRef(),t=p.useRef(),u=p.useCallback(function(K,B){t.current=B,K=Re(K,B.props);var j=e(K,B),V=B.props.stateReducer(K,H({},B,{changes:j}));return V},[e]),s=p.useReducer(u,n,i),l=s[0],h=s[1],C=it(n),P=p.useCallback(function(K){return h(H({props:C.current},K))},[C]),O=t.current;return p.useEffect(function(){var K=Re(r.current,O==null?void 0:O.props),B=O&&r.current&&!a(K,l);B&&zr(O,K,l),r.current=l},[l,O,a]),[l,P]}o(Vn,"useEnhancedReducer");function An(e,n,i,a){var r=Vn(e,n,i,a),t=r[0],u=r[1];return[Re(t,n),u]}o(An,"useControlledReducer$1");var Ee={itemToString:o(function(n){return n?String(n):""},"itemToString"),itemToKey:o(function(n){return n},"itemToKey"),stateReducer:Yr,scrollIntoView:mn,environment:typeof window>"u"?void 0:window};function he(e,n,i){i===void 0&&(i=_n);var a=e["default"+ct(n)];return a!==void 0?a:i[n]}o(he,"getDefaultValue$1");function be(e,n,i){i===void 0&&(i=_n);var a=e[n];if(a!==void 0)return a;var r=e["initial"+ct(n)];return r!==void 0?r:he(e,n,i)}o(be,"getInitialValue$1");function Fn(e){var n=be(e,"selectedItem"),i=be(e,"isOpen"),a=Qr(e),r=be(e,"inputValue");return{highlightedIndex:a<0&&n&&i?e.items.findIndex(function(t){return e.itemToKey(t)===e.itemToKey(n)}):a,isOpen:i,selectedItem:n,inputValue:r}}o(Fn,"getInitialState$2");function xe(e,n,i){var a=e.items,r=e.initialHighlightedIndex,t=e.defaultHighlightedIndex,u=e.isItemDisabled,s=e.itemToKey,l=n.selectedItem,h=n.highlightedIndex;return a.length===0?-1:r!==void 0&&h===r&&!u(a[r],r)?r:t!==void 0&&!u(a[t],t)?t:l?a.findIndex(function(C){return s(l)===s(C)}):i<0&&!u(a[a.length-1],a.length-1)?a.length-1:i>0&&!u(a[0],0)?0:-1}o(xe,"getHighlightedIndexOnOpen");function Ln(e,n,i){var a=p.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return p.useEffect(function(){if(!e)return ge;var r=i.map(function(C){return C.current});function t(){a.current.isTouchEnd=!1,a.current.isMouseDown=!0}o(t,"onMouseDown");function u(C){a.current.isMouseDown=!1,Le(C.target,r,e)||n()}o(u,"onMouseUp");function s(){a.current.isTouchEnd=!1,a.current.isTouchMove=!1}o(s,"onTouchStart");function l(){a.current.isTouchMove=!0}o(l,"onTouchMove");function h(C){a.current.isTouchEnd=!0,!a.current.isTouchMove&&!Le(C.target,r,e,!1)&&n()}return o(h,"onTouchEnd"),e.addEventListener("mousedown",t),e.addEventListener("mouseup",u),e.addEventListener("touchstart",s),e.addEventListener("touchmove",l),e.addEventListener("touchend",h),o(function(){e.removeEventListener("mousedown",t),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",h)},"cleanup")},[i,e,n]),a.current}o(Ln,"useMouseAndTouchTracker");var ft=o(function(){return ge},"useGetterPropsCalledChecker2");function pt(e,n,i,a){a===void 0&&(a={});var r=a.document,t=ot();p.useEffect(function(){if(!(!e||t||!r)){var u=e(n);on(u,r)}},i),p.useEffect(function(){return function(){on.cancel(),Ar(r)}},[r])}o(pt,"useA11yMessageStatus");function jn(e){var n=e.highlightedIndex,i=e.isOpen,a=e.itemRefs,r=e.getItemNodeFromIndex,t=e.menuElement,u=e.scrollIntoView,s=p.useRef(!0);return Xr(function(){n<0||!i||!Object.keys(a.current).length||(s.current===!1?s.current=!0:u(r(n),t))},[n]),s}o(jn,"useScrollIntoView");function je(e,n,i){var a;i===void 0&&(i=!0);var r=((a=e.items)==null?void 0:a.length)&&n>=0;return H({isOpen:!1,highlightedIndex:-1},r&&H({selectedItem:e.items[n],isOpen:he(e,"isOpen"),highlightedIndex:he(e,"highlightedIndex")},i&&{inputValue:e.itemToString(e.items[n])}))}o(je,"getChangesOnSelection");function Nn(e,n){return e.isOpen===n.isOpen&&e.inputValue===n.inputValue&&e.highlightedIndex===n.highlightedIndex&&e.selectedItem===n.selectedItem}o(Nn,"isDropdownsStateEqual");function ot(){var e=He.useRef(!0);return He.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}o(ot,"useIsInitialMount");function Ne(e){var n=he(e,"highlightedIndex");return n>-1&&e.isItemDisabled(e.items[n],n)?-1:n}o(Ne,"getDefaultHighlightedIndex");function Qr(e){var n=be(e,"highlightedIndex");return n>-1&&e.isItemDisabled(e.items[n],n)?-1:n}o(Qr,"getInitialHighlightedIndex");var Ve={environment:k.shape({addEventListener:k.func.isRequired,removeEventListener:k.func.isRequired,document:k.shape({createElement:k.func.isRequired,getElementById:k.func.isRequired,activeElement:k.any.isRequired,body:k.any.isRequired}).isRequired,Node:k.func.isRequired}),itemToString:k.func,itemToKey:k.func,stateReducer:k.func},Un=H({},Ve,{getA11yStatusMessage:k.func,highlightedIndex:k.number,defaultHighlightedIndex:k.number,initialHighlightedIndex:k.number,isOpen:k.bool,defaultIsOpen:k.bool,initialIsOpen:k.bool,selectedItem:k.any,initialSelectedItem:k.any,defaultSelectedItem:k.any,id:k.string,labelId:k.string,menuId:k.string,getItemId:k.func,toggleButtonId:k.string,onSelectedItemChange:k.func,onHighlightedIndexChange:k.func,onStateChange:k.func,onIsOpenChange:k.func,scrollIntoView:k.func});function Wn(e,n,i){var a=n.type,r=n.props,t;switch(a){case i.ItemMouseMove:t={highlightedIndex:n.disabled?-1:n.index};break;case i.MenuMouseLeave:t={highlightedIndex:-1};break;case i.ToggleButtonClick:case i.FunctionToggleMenu:t={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:xe(r,e,0)};break;case i.FunctionOpenMenu:t={isOpen:!0,highlightedIndex:xe(r,e,0)};break;case i.FunctionCloseMenu:t={isOpen:!1};break;case i.FunctionSetHighlightedIndex:t={highlightedIndex:r.isItemDisabled(r.items[n.highlightedIndex],n.highlightedIndex)?-1:n.highlightedIndex};break;case i.FunctionSetInputValue:t={inputValue:n.inputValue};break;case i.FunctionReset:t={highlightedIndex:Ne(r),isOpen:he(r,"isOpen"),selectedItem:he(r,"selectedItem"),inputValue:he(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return H({},e,t)}o(Wn,"downshiftCommonReducer");function Zr(e){for(var n=e.keysSoFar,i=e.highlightedIndex,a=e.items,r=e.itemToString,t=e.isItemDisabled,u=n.toLowerCase(),s=0;s<a.length;s++){var l=(s+i+(n.length<2?1:0))%a.length,h=a[l];if(h!==void 0&&r(h).toLowerCase().startsWith(u)&&!t(h,l))return l}return i}o(Zr,"getItemIndexByCharacterKey");Se(Se({},Un),{items:k.array.isRequired,isItemDisabled:k.func});var ei=Se(Se({},Ee),{isItemDisabled:o(function(){return!1},"isItemDisabled")}),Ae=0,gt=1,ht=2,Ue=3,vt=4,mt=5,It=6,yt=7,bt=8,xt=9,wt=10,We=11,qn=12,zn=13,Ct=14,Gn=15,Yn=16,Xn=17,Jn=18,St=19,ut=20,Qn=21,Zn=Object.freeze({__proto__:null,FunctionCloseMenu:Xn,FunctionOpenMenu:Yn,FunctionReset:Qn,FunctionSelectItem:St,FunctionSetHighlightedIndex:Jn,FunctionSetInputValue:ut,FunctionToggleMenu:Gn,ItemClick:Ct,ItemMouseMove:zn,MenuMouseLeave:qn,ToggleButtonBlur:We,ToggleButtonClick:Ae,ToggleButtonKeyDownArrowDown:gt,ToggleButtonKeyDownArrowUp:ht,ToggleButtonKeyDownCharacter:Ue,ToggleButtonKeyDownEnd:It,ToggleButtonKeyDownEnter:yt,ToggleButtonKeyDownEscape:vt,ToggleButtonKeyDownHome:mt,ToggleButtonKeyDownPageDown:wt,ToggleButtonKeyDownPageUp:xt,ToggleButtonKeyDownSpaceButton:bt});function ti(e,n){var i,a=n.type,r=n.props,t=n.altKey,u;switch(a){case Ct:u={isOpen:he(r,"isOpen"),highlightedIndex:Ne(r),selectedItem:r.items[n.index]};break;case Ue:{var s=n.key,l=""+e.inputValue+s,h=!e.isOpen&&e.selectedItem?r.items.findIndex(function(K){return r.itemToKey(K)===r.itemToKey(e.selectedItem)}):e.highlightedIndex,C=Zr({keysSoFar:l,highlightedIndex:h,items:r.items,itemToString:r.itemToString,isItemDisabled:r.isItemDisabled});u={inputValue:l,highlightedIndex:C,isOpen:!0}}break;case gt:{var P=e.isOpen?fe(e.highlightedIndex,1,r.items,r.isItemDisabled):t&&e.selectedItem==null?-1:xe(r,e,1);u={highlightedIndex:P,isOpen:!0}}break;case ht:if(e.isOpen&&t)u=je(r,e.highlightedIndex,!1);else{var O=e.isOpen?fe(e.highlightedIndex,-1,r.items,r.isItemDisabled):xe(r,e,-1);u={highlightedIndex:O,isOpen:!0}}break;case yt:case bt:u=je(r,e.highlightedIndex,!1);break;case mt:u={highlightedIndex:me(0,!1,r.items,r.isItemDisabled),isOpen:!0};break;case It:u={highlightedIndex:me(r.items.length-1,!0,r.items,r.isItemDisabled),isOpen:!0};break;case xt:u={highlightedIndex:fe(e.highlightedIndex,-10,r.items,r.isItemDisabled)};break;case wt:u={highlightedIndex:fe(e.highlightedIndex,10,r.items,r.isItemDisabled)};break;case vt:u={isOpen:!1,highlightedIndex:-1};break;case We:u=H({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((i=r.items)==null?void 0:i.length)&&{selectedItem:r.items[e.highlightedIndex]});break;case St:u={selectedItem:n.selectedItem};break;default:return Wn(e,n,Zn)}return H({},e,u)}o(ti,"downshiftSelectReducer");var ni=["onClick"],ri=["onMouseLeave","refKey","ref"],ii=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],oi=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];er.stateChangeTypes=Zn;function er(e){e===void 0&&(e={});var n=H({},ei,e),i=n.scrollIntoView,a=n.environment,r=n.getA11yStatusMessage,t=An(ti,n,Fn,Nn),u=t[0],s=t[1],l=u.isOpen,h=u.highlightedIndex,C=u.selectedItem,P=u.inputValue,O=p.useRef(null),K=p.useRef(null),B=p.useRef({}),j=p.useRef(null),V=Bn(n),L=it({state:u,props:n}),d=p.useCallback(function(x){return B.current[V.getItemId(x)]},[V]);pt(r,u,[l,h,C,P],a);var f=jn({menuElement:K.current,highlightedIndex:h,isOpen:l,itemRefs:B,scrollIntoView:i,getItemNodeFromIndex:d});p.useEffect(function(){return j.current=rt(function(x){x({type:ut,inputValue:""})},500),function(){j.current.cancel()}},[]),p.useEffect(function(){P&&j.current(s)},[s,P]),p.useEffect(function(){var x=be(n,"isOpen");x&&O.current&&O.current.focus()},[]);var c=Ln(a,p.useCallback(o(function(){L.current.state.isOpen&&s({type:We})},"handleBlur"),[s,L]),p.useMemo(function(){return[K,O]},[K.current,O.current])),g=ft();p.useEffect(function(){l||(B.current={})},[l]);var m=p.useMemo(function(){return{ArrowDown:o(function(E){E.preventDefault(),s({type:gt,altKey:E.altKey})},"ArrowDown"),ArrowUp:o(function(E){E.preventDefault(),s({type:ht,altKey:E.altKey})},"ArrowUp"),Home:o(function(E){E.preventDefault(),s({type:mt})},"Home"),End:o(function(E){E.preventDefault(),s({type:It})},"End"),Escape:o(function(){L.current.state.isOpen&&s({type:vt})},"Escape"),Enter:o(function(E){E.preventDefault(),s({type:L.current.state.isOpen?yt:Ae})},"Enter"),PageUp:o(function(E){L.current.state.isOpen&&(E.preventDefault(),s({type:xt}))},"PageUp"),PageDown:o(function(E){L.current.state.isOpen&&(E.preventDefault(),s({type:wt}))},"PageDown")," ":o(function(E){E.preventDefault();var D=L.current.state;if(!D.isOpen){s({type:Ae});return}D.inputValue?s({type:Ue,key:" "}):s({type:bt})},"_")}},[s,L]),_=p.useCallback(function(){s({type:Gn})},[s]),S=p.useCallback(function(){s({type:Xn})},[s]),v=p.useCallback(function(){s({type:Yn})},[s]),y=p.useCallback(function(x){s({type:Jn,highlightedIndex:x})},[s]),M=p.useCallback(function(x){s({type:St,selectedItem:x})},[s]),$=p.useCallback(function(){s({type:Qn})},[s]),q=p.useCallback(function(x){s({type:ut,inputValue:x})},[s]),R=p.useCallback(function(x){var E=x===void 0?{}:x,D=E.onClick,U=re(E,ni),w=o(function(){var I;(I=O.current)==null||I.focus()},"labelHandleClick2");return H({id:V.labelId,htmlFor:V.toggleButtonId,onClick:N(D,w)},U)},[V]),Y=p.useCallback(function(x,E){var D,U=x===void 0?{}:x,w=U.onMouseLeave,b=U.refKey,I=b===void 0?"ref":b,T=U.ref,F=re(U,ri),z=E===void 0?{}:E;z.suppressRefError;var G=o(function(){s({type:qn})},"menuHandleMouseLeave2");return H((D={},D[I]=ce(T,function(Q){K.current=Q}),D.id=V.menuId,D.role="listbox",D["aria-labelledby"]=F&&F["aria-label"]?void 0:""+V.labelId,D.onMouseLeave=N(w,G),D),F)},[s,g,V]),te=p.useCallback(function(x,E){var D,U=x===void 0?{}:x,w=U.onBlur,b=U.onClick;U.onPress;var I=U.onKeyDown,T=U.refKey,F=T===void 0?"ref":T,z=U.ref,G=re(U,ii),Q=E===void 0?{}:E;Q.suppressRefError;var X=L.current.state,Z=o(function(){s({type:Ae})},"toggleButtonHandleClick2"),ne=o(function(){X.isOpen&&!c.isMouseDown&&s({type:We})},"toggleButtonHandleBlur2"),le=o(function(J){var ie=De(J);ie&&m[ie]?m[ie](J):Jr(ie)&&s({type:Ue,key:ie})},"toggleButtonHandleKeyDown2"),ae=H((D={},D[F]=ce(z,function(de){O.current=de}),D["aria-activedescendant"]=X.isOpen&&X.highlightedIndex>-1?V.getItemId(X.highlightedIndex):"",D["aria-controls"]=V.menuId,D["aria-expanded"]=L.current.state.isOpen,D["aria-haspopup"]="listbox",D["aria-labelledby"]=G&&G["aria-label"]?void 0:""+V.labelId,D.id=V.toggleButtonId,D.role="combobox",D.tabIndex=0,D.onBlur=N(w,ne),D),G);return G.disabled||(ae.onClick=N(b,Z),ae.onKeyDown=N(I,le)),ae},[s,V,L,c,g,m]),A=p.useCallback(function(x){var E,D=x===void 0?{}:x,U=D.item,w=D.index,b=D.onMouseMove,I=D.onClick,T=D.onMouseDown;D.onPress;var F=D.refKey,z=F===void 0?"ref":F,G=D.disabled,Q=D.ref,X=re(D,oi);G!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var Z=L.current,ne=Z.state,le=Z.props,ae=dt(U,w,le.items,"Pass either item or index to getItemProps!"),de=ae[0],J=ae[1],ie=le.isItemDisabled(de,J),we=o(function(){c.isTouchEnd||J===ne.highlightedIndex||(f.current=!1,s({type:zn,index:J,disabled:ie}))},"itemHandleMouseMove2"),Ce=o(function(){s({type:Ct,index:J})},"itemHandleClick2"),Oe=o(function(pe){return pe.preventDefault()},"itemHandleMouseDown2"),oe=H((E={},E[z]=ce(Q,function(ue){ue&&(B.current[V.getItemId(J)]=ue)}),E["aria-disabled"]=ie,E["aria-selected"]=de===ne.selectedItem,E.id=V.getItemId(J),E.role="option",E),X);return ie||(oe.onClick=N(I,Ce)),oe.onMouseMove=N(b,we),oe.onMouseDown=N(T,Oe),oe},[L,V,c,f,s]);return{getToggleButtonProps:te,getLabelProps:R,getMenuProps:Y,getItemProps:A,toggleMenu:_,openMenu:v,closeMenu:S,setHighlightedIndex:y,selectItem:M,reset:$,setInputValue:q,highlightedIndex:h,isOpen:l,selectedItem:C,inputValue:P}}o(er,"useSelect$1");var Dt=0,kt=1,Ot=2,Mt=3,Kt=4,Et=5,Ht=6,Rt=7,Pt=8,qe=9,Tt=10,tr=11,nr=12,$t=13,rr=14,ir=15,or=16,ar=17,ur=18,_t=19,sr=20,lr=21,Bt=22,dr=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:Bt,FunctionCloseMenu:ar,FunctionOpenMenu:or,FunctionReset:lr,FunctionSelectItem:_t,FunctionSetHighlightedIndex:ur,FunctionSetInputValue:sr,FunctionToggleMenu:ir,InputBlur:qe,InputChange:Pt,InputClick:Tt,InputKeyDownArrowDown:Dt,InputKeyDownArrowUp:kt,InputKeyDownEnd:Kt,InputKeyDownEnter:Rt,InputKeyDownEscape:Ot,InputKeyDownHome:Mt,InputKeyDownPageDown:Ht,InputKeyDownPageUp:Et,ItemClick:$t,ItemMouseMove:nr,MenuMouseLeave:tr,ToggleButtonClick:rr});function ai(e){var n=Fn(e),i=n.selectedItem,a=n.inputValue;return a===""&&i&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(a=e.itemToString(i)),H({},n,{inputValue:a})}o(ai,"getInitialState$1");H({},Un,{items:k.array.isRequired,isItemDisabled:k.func,inputValue:k.string,defaultInputValue:k.string,initialInputValue:k.string,inputId:k.string,onInputValueChange:k.func});function ui(e,n,i,a){var r=p.useRef(),t=Vn(e,n,i,a),u=t[0],s=t[1],l=ot();return p.useEffect(function(){if(Fe(n,"selectedItem")){if(!l){var h=n.itemToKey(n.selectedItem)!==n.itemToKey(r.current);h&&s({type:Bt,inputValue:n.itemToString(n.selectedItem)})}r.current=u.selectedItem===r.current?n.selectedItem:u.selectedItem}},[u.selectedItem,n.selectedItem]),[Re(u,n),s]}o(ui,"useControlledReducer");var si=H({},Ee,{isItemDisabled:o(function(){return!1},"isItemDisabled")});function li(e,n){var i,a=n.type,r=n.props,t=n.altKey,u;switch(a){case $t:u={isOpen:he(r,"isOpen"),highlightedIndex:Ne(r),selectedItem:r.items[n.index],inputValue:r.itemToString(r.items[n.index])};break;case Dt:e.isOpen?u={highlightedIndex:fe(e.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:t&&e.selectedItem==null?-1:xe(r,e,1),isOpen:r.items.length>=0};break;case kt:e.isOpen?t?u=je(r,e.highlightedIndex):u={highlightedIndex:fe(e.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:xe(r,e,-1),isOpen:r.items.length>=0};break;case Rt:u=je(r,e.highlightedIndex);break;case Ot:u=H({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Et:u={highlightedIndex:fe(e.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case Ht:u={highlightedIndex:fe(e.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case Mt:u={highlightedIndex:me(0,!1,r.items,r.isItemDisabled)};break;case Kt:u={highlightedIndex:me(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case qe:u=H({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((i=r.items)==null?void 0:i.length)&&n.selectItem&&{selectedItem:r.items[e.highlightedIndex],inputValue:r.itemToString(r.items[e.highlightedIndex])});break;case Pt:u={isOpen:!0,highlightedIndex:Ne(r),inputValue:n.inputValue};break;case Tt:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:xe(r,e,0)};break;case _t:u={selectedItem:n.selectedItem,inputValue:r.itemToString(n.selectedItem)};break;case Bt:u={inputValue:n.inputValue};break;default:return Wn(e,n,dr)}return H({},e,u)}o(li,"downshiftUseComboboxReducer");var di=["onMouseLeave","refKey","ref"],ci=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],fi=["onClick","onPress","refKey","ref"],pi=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];cr.stateChangeTypes=dr;function cr(e){e===void 0&&(e={});var n=H({},si,e),i=n.items,a=n.scrollIntoView,r=n.environment,t=n.getA11yStatusMessage,u=ui(li,n,ai,Nn),s=u[0],l=u[1],h=s.isOpen,C=s.highlightedIndex,P=s.selectedItem,O=s.inputValue,K=p.useRef(null),B=p.useRef({}),j=p.useRef(null),V=p.useRef(null),L=ot(),d=Bn(n),f=p.useRef(),c=it({state:s,props:n}),g=p.useCallback(function(w){return B.current[d.getItemId(w)]},[d]);pt(t,s,[h,C,P,O],r);var m=jn({menuElement:K.current,highlightedIndex:C,isOpen:h,itemRefs:B,scrollIntoView:a,getItemNodeFromIndex:g});p.useEffect(function(){var w=be(n,"isOpen");w&&j.current&&j.current.focus()},[]),p.useEffect(function(){L||(f.current=i.length)});var _=Ln(r,p.useCallback(o(function(){c.current.state.isOpen&&l({type:qe,selectItem:!1})},"handleBlur"),[l,c]),p.useMemo(function(){return[K,V,j]},[K.current,V.current,j.current])),S=ft();p.useEffect(function(){h||(B.current={})},[h]),p.useEffect(function(){var w;!h||!(r!=null&&r.document)||!(j!=null&&(w=j.current)!=null&&w.focus)||r.document.activeElement!==j.current&&j.current.focus()},[h,r]);var v=p.useMemo(function(){return{ArrowDown:o(function(b){b.preventDefault(),l({type:Dt,altKey:b.altKey})},"ArrowDown"),ArrowUp:o(function(b){b.preventDefault(),l({type:kt,altKey:b.altKey})},"ArrowUp"),Home:o(function(b){c.current.state.isOpen&&(b.preventDefault(),l({type:Mt}))},"Home"),End:o(function(b){c.current.state.isOpen&&(b.preventDefault(),l({type:Kt}))},"End"),Escape:o(function(b){var I=c.current.state;(I.isOpen||I.inputValue||I.selectedItem||I.highlightedIndex>-1)&&(b.preventDefault(),l({type:Ot}))},"Escape"),Enter:o(function(b){var I=c.current.state;!I.isOpen||b.which===229||(b.preventDefault(),l({type:Rt}))},"Enter"),PageUp:o(function(b){c.current.state.isOpen&&(b.preventDefault(),l({type:Et}))},"PageUp"),PageDown:o(function(b){c.current.state.isOpen&&(b.preventDefault(),l({type:Ht}))},"PageDown")}},[l,c]),y=p.useCallback(function(w){return H({id:d.labelId,htmlFor:d.inputId},w)},[d]),M=p.useCallback(function(w,b){var I,T=w===void 0?{}:w,F=T.onMouseLeave,z=T.refKey,G=z===void 0?"ref":z,Q=T.ref,X=re(T,di),Z=b===void 0?{}:b;return Z.suppressRefError,H((I={},I[G]=ce(Q,function(ne){K.current=ne}),I.id=d.menuId,I.role="listbox",I["aria-labelledby"]=X&&X["aria-label"]?void 0:""+d.labelId,I.onMouseLeave=N(F,function(){l({type:tr})}),I),X)},[l,S,d]),$=p.useCallback(function(w){var b,I,T=w===void 0?{}:w,F=T.item,z=T.index,G=T.refKey,Q=G===void 0?"ref":G,X=T.ref,Z=T.onMouseMove,ne=T.onMouseDown,le=T.onClick;T.onPress;var ae=T.disabled,de=re(T,ci);ae!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var J=c.current,ie=J.props,we=J.state,Ce=dt(F,z,ie.items,"Pass either item or index to getItemProps!"),Oe=Ce[0],oe=Ce[1],ue=ie.isItemDisabled(Oe,oe),pe="onClick",Ie=le,ve=o(function(){_.isTouchEnd||oe===we.highlightedIndex||(m.current=!1,l({type:nr,index:oe,disabled:ue}))},"itemHandleMouseMove2"),ye=o(function(){l({type:$t,index:oe})},"itemHandleClick2"),hr=o(function(vr){return vr.preventDefault()},"itemHandleMouseDown2");return H((b={},b[Q]=ce(X,function(Me){Me&&(B.current[d.getItemId(oe)]=Me)}),b["aria-disabled"]=ue,b["aria-selected"]=oe===we.highlightedIndex,b.id=d.getItemId(oe),b.role="option",b),!ue&&(I={},I[pe]=N(Ie,ye),I),{onMouseMove:N(Z,ve),onMouseDown:N(ne,hr)},de)},[l,d,c,_,m]),q=p.useCallback(function(w){var b,I=w===void 0?{}:w,T=I.onClick;I.onPress;var F=I.refKey,z=F===void 0?"ref":F,G=I.ref,Q=re(I,fi),X=c.current.state,Z=o(function(){l({type:rr})},"toggleButtonHandleClick2");return H((b={},b[z]=ce(G,function(ne){V.current=ne}),b["aria-controls"]=d.menuId,b["aria-expanded"]=X.isOpen,b.id=d.toggleButtonId,b.tabIndex=-1,b),!Q.disabled&&H({},{onClick:N(T,Z)}),Q)},[l,c,d]),R=p.useCallback(function(w,b){var I,T=w===void 0?{}:w,F=T.onKeyDown,z=T.onChange,G=T.onInput,Q=T.onBlur;T.onChangeText;var X=T.onClick,Z=T.refKey,ne=Z===void 0?"ref":Z,le=T.ref,ae=re(T,pi),de=b===void 0?{}:b;de.suppressRefError;var J=c.current.state,ie=o(function(ve){var ye=De(ve);ye&&v[ye]&&v[ye](ve)},"inputHandleKeyDown2"),we=o(function(ve){l({type:Pt,inputValue:ve.target.value})},"inputHandleChange2"),Ce=o(function(ve){if(r!=null&&r.document&&J.isOpen&&!_.isMouseDown){var ye=ve.relatedTarget===null&&r.document.activeElement!==r.document.body;l({type:qe,selectItem:!ye})}},"inputHandleBlur2"),Oe=o(function(){l({type:Tt})},"inputHandleClick2"),oe="onChange",ue={};if(!ae.disabled){var pe;ue=(pe={},pe[oe]=N(z,G,we),pe.onKeyDown=N(F,ie),pe.onBlur=N(Q,Ce),pe.onClick=N(X,Oe),pe)}return H((I={},I[ne]=ce(le,function(Ie){j.current=Ie}),I["aria-activedescendant"]=J.isOpen&&J.highlightedIndex>-1?d.getItemId(J.highlightedIndex):"",I["aria-autocomplete"]="list",I["aria-controls"]=d.menuId,I["aria-expanded"]=J.isOpen,I["aria-labelledby"]=ae&&ae["aria-label"]?void 0:d.labelId,I.autoComplete="off",I.id=d.inputId,I.role="combobox",I.value=J.inputValue,I),ue,ae)},[l,d,r,v,c,_,S]),Y=p.useCallback(function(){l({type:ir})},[l]),te=p.useCallback(function(){l({type:ar})},[l]),A=p.useCallback(function(){l({type:or})},[l]),x=p.useCallback(function(w){l({type:ur,highlightedIndex:w})},[l]),E=p.useCallback(function(w){l({type:_t,selectedItem:w})},[l]),D=p.useCallback(function(w){l({type:sr,inputValue:w})},[l]),U=p.useCallback(function(){l({type:lr})},[l]);return{getItemProps:$,getLabelProps:y,getMenuProps:M,getInputProps:R,getToggleButtonProps:q,toggleMenu:Y,openMenu:A,closeMenu:te,setHighlightedIndex:x,setInputValue:D,selectItem:E,reset:U,highlightedIndex:C,isOpen:h,selectedItem:P,inputValue:O}}o(cr,"useCombobox");var fr={activeIndex:-1,selectedItems:[]};function an(e,n){return be(e,n,fr)}o(an,"getInitialValue");function un(e,n){return he(e,n,fr)}o(un,"getDefaultValue");function gi(e){var n=an(e,"activeIndex"),i=an(e,"selectedItems");return{activeIndex:n,selectedItems:i}}o(gi,"getInitialState");function sn(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var n=e.target;return!(n instanceof HTMLInputElement&&n.value!==""&&(n.selectionStart!==0||n.selectionEnd!==0))}o(sn,"isKeyDownOperationPermitted");function hi(e,n){return e.selectedItems===n.selectedItems&&e.activeIndex===n.activeIndex}o(hi,"isStateEqual");Ve.stateReducer,Ve.itemToKey,Ve.environment,k.array,k.array,k.array,k.func,k.number,k.number,k.number,k.func,k.func,k.string,k.string;var vi={itemToKey:Ee.itemToKey,stateReducer:Ee.stateReducer,environment:Ee.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Vt=0,At=1,Ft=2,Lt=3,jt=4,Nt=5,Ut=6,Wt=7,qt=8,zt=9,Gt=10,Yt=11,Xt=12,mi=Object.freeze({__proto__:null,DropdownClick:Wt,DropdownKeyDownBackspace:Ut,DropdownKeyDownNavigationPrevious:Nt,FunctionAddSelectedItem:qt,FunctionRemoveSelectedItem:zt,FunctionReset:Xt,FunctionSetActiveIndex:Yt,FunctionSetSelectedItems:Gt,SelectedItemClick:Vt,SelectedItemKeyDownBackspace:Ft,SelectedItemKeyDownDelete:At,SelectedItemKeyDownNavigationNext:Lt,SelectedItemKeyDownNavigationPrevious:jt});function Ii(e,n){var i=n.type,a=n.index,r=n.props,t=n.selectedItem,u=e.activeIndex,s=e.selectedItems,l;switch(i){case Vt:l={activeIndex:a};break;case jt:l={activeIndex:u-1<0?0:u-1};break;case Lt:l={activeIndex:u+1>=s.length?-1:u+1};break;case Ft:case At:{if(u<0)break;var h=u;s.length===1?h=-1:u===s.length-1&&(h=s.length-2),l=H({selectedItems:[].concat(s.slice(0,u),s.slice(u+1))},{activeIndex:h});break}case Nt:l={activeIndex:s.length-1};break;case Ut:l={selectedItems:s.slice(0,s.length-1)};break;case qt:l={selectedItems:[].concat(s,[t])};break;case Wt:l={activeIndex:-1};break;case zt:{var C=u,P=s.findIndex(function(B){return r.itemToKey(B)===r.itemToKey(t)});if(P<0)break;s.length===1?C=-1:P===s.length-1&&(C=s.length-2),l={selectedItems:[].concat(s.slice(0,P),s.slice(P+1)),activeIndex:C};break}case Gt:{var O=n.selectedItems;l={selectedItems:O};break}case Yt:{var K=n.activeIndex;l={activeIndex:K};break}case Xt:l={activeIndex:un(r,"activeIndex"),selectedItems:un(r,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return H({},e,l)}o(Ii,"downshiftMultipleSelectionReducer");var yi=["refKey","ref","onClick","onKeyDown","selectedItem","index"],bi=["refKey","ref","onKeyDown","onClick","preventKeyAction"];pr.stateChangeTypes=mi;function pr(e){e===void 0&&(e={});var n=H({},vi,e),i=n.getA11yStatusMessage,a=n.environment,r=n.keyNavigationNext,t=n.keyNavigationPrevious,u=An(Ii,n,gi,hi),s=u[0],l=u[1],h=s.activeIndex,C=s.selectedItems,P=ot(),O=p.useRef(null),K=p.useRef();K.current=[];var B=it({state:s,props:n});pt(i,s,[h,C],a),p.useEffect(function(){P||(h===-1&&O.current?O.current.focus():K.current[h]&&K.current[h].focus())},[h]);var j=ft(),V=p.useMemo(function(){var v;return v={},v[t]=function(){l({type:jt})},v[r]=function(){l({type:Lt})},v.Delete=o(function(){l({type:At})},"Delete"),v.Backspace=o(function(){l({type:Ft})},"Backspace"),v},[l,r,t]),L=p.useMemo(function(){var v;return v={},v[t]=function(y){sn(y)&&l({type:Nt})},v.Backspace=o(function(M){sn(M)&&l({type:Ut})},"Backspace"),v},[l,t]),d=p.useCallback(function(v){var y,M=v===void 0?{}:v,$=M.refKey,q=$===void 0?"ref":$,R=M.ref,Y=M.onClick,te=M.onKeyDown,A=M.selectedItem,x=M.index,E=re(M,yi),D=B.current.state,U=dt(A,x,D.selectedItems,"Pass either item or index to getSelectedItemProps!"),w=U[1],b=w>-1&&w===D.activeIndex,I=o(function(){l({type:Vt,index:w})},"selectedItemHandleClick2"),T=o(function(z){var G=De(z);G&&V[G]&&V[G](z)},"selectedItemHandleKeyDown2");return H((y={},y[q]=ce(R,function(F){F&&K.current.push(F)}),y.tabIndex=b?0:-1,y.onClick=N(Y,I),y.onKeyDown=N(te,T),y),E)},[l,B,V]),f=p.useCallback(function(v,y){var M,$=v===void 0?{}:v,q=$.refKey,R=q===void 0?"ref":q,Y=$.ref,te=$.onKeyDown,A=$.onClick,x=$.preventKeyAction,E=x===void 0?!1:x,D=re($,bi),U=y===void 0?{}:y;U.suppressRefError;var w=o(function(T){var F=De(T);F&&L[F]&&L[F](T)},"dropdownHandleKeyDown2"),b=o(function(){l({type:Wt})},"dropdownHandleClick2");return H((M={},M[R]=ce(Y,function(I){I&&(O.current=I)}),M),!E&&{onKeyDown:N(te,w),onClick:N(A,b)},D)},[l,L,j]),c=p.useCallback(function(v){l({type:qt,selectedItem:v})},[l]),g=p.useCallback(function(v){l({type:zt,selectedItem:v})},[l]),m=p.useCallback(function(v){l({type:Gt,selectedItems:v})},[l]),_=p.useCallback(function(v){l({type:Yt,activeIndex:v})},[l]),S=p.useCallback(function(){l({type:Xt})},[l]);return{getSelectedItemProps:d,getDropdownProps:f,addSelectedItem:c,removeSelectedItem:g,setSelectedItems:m,setActiveIndex:_,reset:S,selectedItems:C,activeIndex:h}}o(pr,"useMultipleSelection");const xi=Object.freeze(Object.defineProperty({__proto__:null,default:qr,resetIdCounter:Pr,useCombobox:cr,useMultipleSelection:pr,useSelect:er},Symbol.toStringTag,{value:"Module"})),gr=p.createContext(void 0),wi=o(()=>{const e=p.useContext(gr);if(!e)throw new Error("useSelectContext must be used within a SelectProvider");return e},"useSelectContext"),Ci=o(({children:e,value:n})=>{const{highlightedIndex:i,selectedItems:a,...r}=n,t=o(s=>s===i,"isItemHighlighted"),u=o(s=>!!a.find(l=>l.value===s.value),"isItemSelected");return ee.jsx(gr.Provider,{value:{isItemHighlighted:t,isItemSelected:u,...r},children:e})},"SelectProvider"),Si=ke(wr)`
  ${({theme:e})=>`
    pointer-events: none;
    padding: ${e.spacing.spacing_40} ${e.spacing.spacing_50};

    &[data-selected="true"] span {
      ${e.fontStyles.bodyMdBold};
    }

    span {
      color: inherit;
    }
  `}
`,Di=o(({dataTestId:e,index:n,children:i,style:a,value:r,isDisabled:t=!1})=>{const{getItemProps:u,isItemHighlighted:s,isItemSelected:l,isMulti:h}=wi(),C={value:r,isDisabled:t},P=l(C),O=s(n);return ee.jsx(dn.Option,{dataTestId:e,isDisabled:t,isHighlighted:O,isSelected:P,style:{...a,...h?{padding:0}:{}},...u({item:C,index:n}),children:h?ee.jsx(Si,{"aria-hidden":"true",isChecked:P,isDisabled:t,role:"presentation",tabIndex:-1,children:i}):i})},"SelectOption"),ki=ke.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.spacing_30};
`,Oi=o((e,n)=>({default:n.palette.surface.default,contrast:n.palette.surface.contrast,light:n.palette.surface.light})[e],"getThemedBackgroundFill"),Mi=ke(cn,{shouldForwardProp:o(e=>e!=="scale"&&e!=="isFloatingLabel","shouldForwardProp")})`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  ${({theme:e,scale:n,isFloatingLabel:i})=>`
    ${i?`padding-top: ${n==="standard"?e.spacing.spacing_50:e.spacing.spacing_40};`:`padding-block: ${n==="standard"?e.spacing.spacing_30:e.spacing.spacing_20};`}
  `}
`,Ki=ke.div`
  transition: border 0.2s ease-in-out;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;

  ${({theme:e,isOpen:n=!1,variant:i="outlined",fill:a="default",scale:r})=>`
    ${e.fontStyles.bodyMdRegular}
    color: ${e.palette.content.default};
    padding: ${r==="standard"?e.spacing.spacing_40:`${e.spacing.spacing_30} ${e.spacing.spacing_40}`};
    gap: ${e.spacing.spacing_30};
    background-color: ${Oi(a,e)};
    border-radius: ${e.shape.formField};
    cursor: pointer;
    user-select: none;



    border-width: ${i==="outlined"?"1px":"0 0 1px"};
    border-color: ${n?e.palette.informative.default:e.palette.border.medium};
    border-style: solid;

    &:not([disabled]){
      &:focus-visible {
        outline: 2px solid ${e.palette.primary.default};
        outline-offset: 1px; 
      }

      &:not([aria-invalid="true"]){
        &:focus-visible, &:hover {
          border-color: ${e.palette.informative.default};
        }
      }

      &[aria-invalid="true"]{
        border-color: ${e.palette.error.default};

        i {
          color: ${e.palette.error.default}
        } 
      }
    }

    &[disabled] {
      color: ${e.palette.content.light};
      cursor: not-allowed;

      i {
        color: inherit;
      }
    }
  `};
`,Ei=ke.div`
  display: flex;

  ${({scale:e,hasItems:n,isFloatingLabel:i,theme:a})=>`
    gap: ${a.spacing.spacing_30};

    ${(!n||!i)&&`padding-block: ${e==="standard"?a.spacing.spacing_20:a.spacing.spacing_10}`}
  `}
`,Hi=ke(cn)`
  ${({theme:e})=>`
    padding-left: ${e.spacing.spacing_40};
  `}
`,{useSelect:Ke}=xi,ln="helper-text-id",Ri=o(({dataTestId:e,style:n,value:i,label:a,isMulti:r,isRequired:t,children:u,isDisabled:s,labelIcon:l,hasError:h=!1,helperText:C="",variant:P="outlined",fill:O="default",isFloatingLabel:K=!0,scale:B="standard",onChange:j})=>{const V=p.useRef(null),L=o(A=>{(A.code==="Enter"||A.code==="Space")&&d(A)},"handleClearKeyDown"),d=o(A=>{A.stopPropagation(),r&&j([])},"handleClearSelection"),f=p.useMemo(()=>{const A=p.Children.map(u,x=>p.isValidElement(x)&&x.props.value!=null?{value:x.props.value,isDisabled:x.props.isDisabled,label:x.props.children}:null);return(A==null?void 0:A.filter(Boolean))??[]},[u]),c=p.useMemo(()=>new Set(i?[i].flat():[]),[i]),g=p.useMemo(()=>f.filter(A=>c.has(A.value)),[f,c]),m=!!(g!=null&&g.length),_=o(()=>{var A;return g.length>1?`${g.length} options selected`:(A=g[0])==null?void 0:A.label},"selectedValueContainerText"),{isOpen:S,closeMenu:v,getToggleButtonProps:y,getLabelProps:M,getMenuProps:$,highlightedIndex:q,getItemProps:R}=Ke({items:f,isItemDisabled(A){return!!A.isDisabled},defaultHighlightedIndex:r||!(g!=null&&g[0])?0:void 0,selectedItem:r?null:(g==null?void 0:g[0])??null,stateReducer(A,x){const{changes:E,type:D}=x;switch(D){case Ke.stateChangeTypes.ToggleButtonBlur:return{...E,isOpen:!1,selectedItem:A.selectedItem,highlightedIndex:A.highlightedIndex};case Ke.stateChangeTypes.ItemClick:case Ke.stateChangeTypes.ToggleButtonKeyDownEnter:case Ke.stateChangeTypes.ToggleButtonKeyDownSpaceButton:return r?{...E,isOpen:!0,highlightedIndex:A.highlightedIndex}:E;default:return E}},onSelectedItemChange:o(({selectedItem:A})=>{if(A){if(r){const x=Array.isArray(i)?i:[],D=c.has(A.value)?x.filter(U=>U!==A.value):[...x,A.value];j(D);return}j(A.value)}},"onSelectedItemChange")}),Y=s||f.length===1,te=y({disabled:Y,tabIndex:Y?-1:0,ref:V});return ee.jsx(Ci,{value:{highlightedIndex:q,getItemProps:R,selectedItems:g,isMulti:!!r},children:ee.jsxs(Ir,{dataTestId:e??"select",style:{alignItems:"start",gap:4},children:[ee.jsxs(ki,{style:n,children:[ee.jsx(br,{...M(),hasError:h,icon:l,isActive:K?m:S,isCentered:!0,isDisabled:Y,isFloating:K,isRequired:t,scale:B,...K&&{style:{pointerEvents:"none"}},children:a}),ee.jsxs(Ki,{...te,...!!C&&{"aria-describedby":ln},...h&&{"aria-invalid":h},"data-testid":"select-container",fill:O,isOpen:S,scale:B,variant:P,children:[ee.jsx(Mi,{color:"content.default",dataTestId:"select-value",element:"span",fontStyles:"bodyMdRegular",isFloatingLabel:K,scale:B,...Y&&{color:"content.light"},children:_()}),ee.jsxs(Ei,{hasItems:m,isFloatingLabel:K,scale:B,children:[r&&m?ee.jsxs(Qt,{children:[ee.jsx(yr,{dataTestId:"clear-selection",onClick:d,onKeyDown:L,onMouseDown:o(A=>A.preventDefault(),"onMouseDown"),children:ee.jsx(Jt,{code:"close_small"})}),ee.jsx(Qt.Content,{children:"Clear all"})]}):null,ee.jsx(Jt,{code:S?"expand_less":"expand_more"})]})]})]}),C?ee.jsx(Hi,{color:s?"content.light":h?"error.default":"content.medium",dataTestId:"select-helper-text",element:"span",fontStyles:"bodySmRegular",id:ln,children:C}):null,ee.jsx(dn,{...$(),anchorRef:V,"aria-multiselectable":r,as:"ul",isOpen:S,onClose:v,style:{maxHeight:200},children:u})]})})},"Select");Ri.Option=Di;export{Ri as S};
