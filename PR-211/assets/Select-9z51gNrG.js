import{j as M}from"./jsx-runtime-CKrituN3.js";import"./index-8Kg4V25X.js";import"./index-BtM5VmRH.js";import{r as c,R as be}from"./index-CBqU2yxZ.js";import{u as Ot}from"./useClickOutside-D7JrBqcS.js";import{I as et}from"./Icon-CHFlL13I.js";import{L as Dt}from"./LabelField-B64ZKOub.js";import{T as tt}from"./Tooltip-DLc0orTQ.js";import{T as Et}from"./Typography-C0EWJ3ZN.js";import{P as s}from"./index-D3ylJrlI.js";import{C as Tt}from"./Checkbox-dTg7DYwj.js";import{n as X}from"./emotion-styled.browser.esm-DhD7UCCJ.js";import{D as Rt}from"./z-index-Bx-k-k_v.js";function he(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,l;for(l=0;l<i.length;l++)r=i[l],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O.apply(this,arguments)}var v={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),Me=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),De=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),kt=Symbol.for("react.server_context"),Te=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Bt=Symbol.for("react.offscreen"),st;st=Symbol.for("react.module.reference");function A(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case je:switch(e=e.type,e){case $e:case Oe:case Me:case Re:case ke:return e;default:switch(e=e&&e.$$typeof,e){case kt:case Ee:case Te:case Ke:case Be:case De:return e;default:return t}}case Ae:return t}}}v.ContextConsumer=Ee;v.ContextProvider=De;v.Element=je;v.ForwardRef=Te;v.Fragment=$e;v.Lazy=Ke;v.Memo=Be;v.Portal=Ae;v.Profiler=Oe;v.StrictMode=Me;v.Suspense=Re;v.SuspenseList=ke;v.isAsyncMode=function(){return!1};v.isConcurrentMode=function(){return!1};v.isContextConsumer=function(e){return A(e)===Ee};v.isContextProvider=function(e){return A(e)===De};v.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===je};v.isForwardRef=function(e){return A(e)===Te};v.isFragment=function(e){return A(e)===$e};v.isLazy=function(e){return A(e)===Ke};v.isMemo=function(e){return A(e)===Be};v.isPortal=function(e){return A(e)===Ae};v.isProfiler=function(e){return A(e)===Oe};v.isStrictMode=function(e){return A(e)===Me};v.isSuspense=function(e){return A(e)===Re};v.isSuspenseList=function(e){return A(e)===ke};v.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$e||e===Oe||e===Me||e===Re||e===ke||e===Bt||typeof e=="object"&&e!==null&&(e.$$typeof===Ke||e.$$typeof===Be||e.$$typeof===De||e.$$typeof===Ee||e.$$typeof===Te||e.$$typeof===st||e.getModuleId!==void 0)};v.typeOf=A;const nt=e=>typeof e=="object"&&e!=null&&e.nodeType===1,rt=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",He=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return rt(n.overflowY,t)||rt(n.overflowX,t)||(i=>{const r=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(e)}return!1},ve=(e,t,n,i,r,l,u,o)=>l<e&&u>t||l>e&&u<t?0:l<=e&&o<=n||u>=t&&o>=n?l-e-i:u>t&&o<n||l<e&&o>n?u-t+r:0,Kt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Ht=(e,t)=>{var n,i,r,l;if(typeof document>"u")return[];const{scrollMode:u,block:o,inline:a,boundary:h,skipOverflowHiddenElements:I}=t,P=typeof h=="function"?h:Z=>Z!==h;if(!nt(e))throw new TypeError("Invalid target");const $=document.scrollingElement||document.documentElement,b=[];let g=e;for(;nt(g)&&P(g);){if(g=Kt(g),g===$){b.push(g);break}g!=null&&g===document.body&&He(g)&&!He(document.documentElement)||g!=null&&He(g,I)&&b.push(g)}const T=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,m=(l=(r=window.visualViewport)==null?void 0:r.height)!=null?l:innerHeight,{scrollX:w,scrollY:N}=window,{height:k,width:F,top:G,right:Y,bottom:ie,left:te}=e.getBoundingClientRect(),{top:ue,right:oe,bottom:se,left:R}=(Z=>{const y=window.getComputedStyle(Z);return{top:parseFloat(y.scrollMarginTop)||0,right:parseFloat(y.scrollMarginRight)||0,bottom:parseFloat(y.scrollMarginBottom)||0,left:parseFloat(y.scrollMarginLeft)||0}})(e);let x=o==="start"||o==="nearest"?G-ue:o==="end"?ie+se:G+k/2-ue+se,S=a==="center"?te+F/2-R+oe:a==="end"?Y+oe:te-R;const le=[];for(let Z=0;Z<b.length;Z++){const y=b[Z],{height:p,width:f,top:d,right:C,bottom:V,left:L}=y.getBoundingClientRect();if(u==="if-needed"&&G>=0&&te>=0&&ie<=m&&Y<=T&&G>=d&&ie<=V&&te>=L&&Y<=C)return le;const B=getComputedStyle(y),W=parseInt(B.borderLeftWidth,10),K=parseInt(B.borderTopWidth,10),q=parseInt(B.borderRightWidth,10),H=parseInt(B.borderBottomWidth,10);let D=0,E=0;const J="offsetWidth"in y?y.offsetWidth-y.clientWidth-W-q:0,Q="offsetHeight"in y?y.offsetHeight-y.clientHeight-K-H:0,ne="offsetWidth"in y?y.offsetWidth===0?0:f/y.offsetWidth:0,z="offsetHeight"in y?y.offsetHeight===0?0:p/y.offsetHeight:0;if($===y)D=o==="start"?x:o==="end"?x-m:o==="nearest"?ve(N,N+m,m,K,H,N+x,N+x+k,k):x-m/2,E=a==="start"?S:a==="center"?S-T/2:a==="end"?S-T:ve(w,w+T,T,W,q,w+S,w+S+F,F),D=Math.max(0,D+N),E=Math.max(0,E+w);else{D=o==="start"?x-d-K:o==="end"?x-V+H+Q:o==="nearest"?ve(d,V,p,K,H+Q,x,x+k,k):x-(d+p/2)+Q/2,E=a==="start"?S-L-W:a==="center"?S-(L+f/2)+J/2:a==="end"?S-C+q+J:ve(L,C,f,W,q+J,S,S+F,F);const{scrollLeft:U,scrollTop:j}=y;D=z===0?0:Math.max(0,Math.min(j+D/z,y.scrollHeight-p/z+Q)),E=ne===0?0:Math.max(0,Math.min(U+E/ne,y.scrollWidth-f/ne+J)),x+=j-D,S+=U-E}le.push({el:y,top:D,left:E})}return le};var ce=function(){return ce=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},ce.apply(this,arguments)};var Pt=0;function at(){}function Ft(e,t){if(e){var n=Ht(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(i){var r=i.el,l=i.top,u=i.left;r.scrollTop=l,r.scrollLeft=u})}}function it(e,t,n){var i=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return i}function Ve(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];i(),n=setTimeout(function(){n=null,e.apply(void 0,u)},t)}return r.cancel=i,r}function re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,l=new Array(r>1?r-1:0),u=1;u<r;u++)l[u-1]=arguments[u];return t.some(function(o){return o&&o.apply(void 0,[i].concat(l)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){t.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function Lt(){return String(Pt++)}function Fe(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,i){return n[i]=jt(t,i)?t[i]:e[i],n},{})}function jt(e,t){return e[t]!==void 0}function At(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function me(e,t,n,i,r){r===void 0&&(r=!1);var l=n.length;if(l===0)return-1;var u=l-1;(typeof e!="number"||e<0||e>u)&&(e=t>0?-1:u+1);var o=e+t;o<0?o=r?u:0:o>u&&(o=r?0:u);var a=xe(o,t<0,n,i,r);return a===-1?e>=l?-1:e:a}function xe(e,t,n,i,r){r===void 0&&(r=!1);var l=n.length;if(t){for(var u=e;u>=0;u--)if(!i(n[u],u))return u}else for(var o=e;o<l;o++)if(!i(n[o],o))return o;return r?xe(t?l-1:0,t,n,i):-1}function ot(e,t,n,i){return i===void 0&&(i=!0),n&&t.some(function(r){return r&&(it(r,e,n)||i&&it(r,n.document.activeElement,n))})}var Vt=Ve(function(e){ct(e).textContent=""},500);function ct(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Wt(e,t){if(!(!e||!t)){var n=ct(t);n.textContent=e,Vt(t)}}function Nt(e){var t=e==null?void 0:e.getElementById("a11y-status-message");t&&t.remove()}var dt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function qt(e,t,n){var i=e.props,r=e.type,l={};Object.keys(t).forEach(function(u){zt(u,e,t,n),n[u]!==t[u]&&(l[u]=n[u])}),i.onStateChange&&Object.keys(l).length&&i.onStateChange(O({type:r},l))}function zt(e,t,n,i){var r=t.props,l=t.type,u="on"+We(e)+"Change";r[u]&&i[e]!==void 0&&i[e]!==n[e]&&r[u](O({type:l},i))}function Ut(e,t){return t.changes}var lt=Ve(function(e,t){Wt(e,t)},200),Xt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect,Gt="useId"in be?function(t){var n=t.id,i=t.labelId,r=t.menuId,l=t.getItemId,u=t.toggleButtonId,o=t.inputId,a="downshift-"+be.useId();n||(n=a);var h=c.useRef({labelId:i||n+"-label",menuId:r||n+"-menu",getItemId:l||function(I){return n+"-item-"+I},toggleButtonId:u||n+"-toggle-button",inputId:o||n+"-input"});return h.current}:function(t){var n=t.id,i=n===void 0?"downshift-"+Lt():n,r=t.labelId,l=t.menuId,u=t.getItemId,o=t.toggleButtonId,a=t.inputId,h=c.useRef({labelId:r||i+"-label",menuId:l||i+"-menu",getItemId:u||function(I){return i+"-item-"+I},toggleButtonId:o||i+"-toggle-button",inputId:a||i+"-input"});return h.current};function Yt(e,t,n,i){var r,l;if(e===void 0){if(t===void 0)throw new Error(i);r=n[t],l=t}else l=t===void 0?n.indexOf(e):t,r=e;return[r,l]}function Zt(e){return/^\S{1}$/.test(e)}function We(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ft(e){var t=c.useRef(e);return t.current=e,t}function Jt(e,t,n,i){var r=c.useRef(),l=c.useRef(),u=c.useCallback(function(b,g){l.current=g,b=Fe(b,g.props);var T=e(b,g),m=g.props.stateReducer(b,O({},g,{changes:T}));return m},[e]),o=c.useReducer(u,t,n),a=o[0],h=o[1],I=ft(t),P=c.useCallback(function(b){return h(O({props:I.current},b))},[I]),$=l.current;return c.useEffect(function(){var b=Fe(r.current,$==null?void 0:$.props),g=$&&r.current&&!i(b,a);g&&qt($,b,a),r.current=a},[a,$,i]),[a,P]}function Qt(e,t,n,i){var r=Jt(e,t,n,i),l=r[0],u=r[1];return[Fe(l,t),u]}var ge={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:Ut,scrollIntoView:Ft,environment:typeof window>"u"?void 0:window};function ee(e,t,n){n===void 0&&(n=dt);var i=e["default"+We(t)];return i!==void 0?i:n[t]}function fe(e,t,n){n===void 0&&(n=dt);var i=e[t];if(i!==void 0)return i;var r=e["initial"+We(t)];return r!==void 0?r:ee(e,t,n)}function _t(e){var t=fe(e,"selectedItem"),n=fe(e,"isOpen"),i=fe(e,"highlightedIndex"),r=fe(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(l){return e.itemToKey(l)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:r}}function we(e,t,n){var i=e.items,r=e.initialHighlightedIndex,l=e.defaultHighlightedIndex,u=e.isItemDisabled,o=e.itemToKey,a=t.selectedItem,h=t.highlightedIndex;return i.length===0?-1:r!==void 0&&h===r&&!u(i[r])?r:l!==void 0&&!u(i[l])?l:a?i.findIndex(function(I){return o(a)===o(I)}):n<0&&!u(i[i.length-1])?i.length-1:n>0&&!u(i[0])?0:-1}function en(e,t,n){var i=c.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return c.useEffect(function(){if(!e)return at;var r=t.map(function(I){return I.current});function l(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function u(I){i.current.isMouseDown=!1,ot(I.target,r,e)||n()}function o(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function a(){i.current.isTouchMove=!0}function h(I){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!ot(I.target,r,e,!1)&&n()}return e.addEventListener("mousedown",l),e.addEventListener("mouseup",u),e.addEventListener("touchstart",o),e.addEventListener("touchmove",a),e.addEventListener("touchend",h),function(){e.removeEventListener("mousedown",l),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",o),e.removeEventListener("touchmove",a),e.removeEventListener("touchend",h)}},[e,n]),i.current}var tn=function(){return at};function nn(e,t,n,i){i===void 0&&(i={});var r=i.document,l=ln();c.useEffect(function(){if(!(!e||l||!r)){var u=e(t);lt(u,r)}},n),c.useEffect(function(){return function(){lt.cancel(),Nt(r)}},[r])}function rn(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,l=e.menuElement,u=e.scrollIntoView,o=c.useRef(!0);return Xt(function(){t<0||!n||!Object.keys(i.current).length||(o.current===!1?o.current=!0:u(r(t),l))},[t]),o}function ut(e,t,n){var i;n===void 0&&(n=!0);var r=((i=e.items)==null?void 0:i.length)&&t>=0;return O({isOpen:!1,highlightedIndex:-1},r&&O({selectedItem:e.items[t],isOpen:ee(e,"isOpen"),highlightedIndex:ee(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function on(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function ln(){var e=be.useRef(!0);return be.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}var Ie={environment:s.shape({addEventListener:s.func.isRequired,removeEventListener:s.func.isRequired,document:s.shape({createElement:s.func.isRequired,getElementById:s.func.isRequired,activeElement:s.any.isRequired,body:s.any.isRequired}).isRequired,Node:s.func.isRequired}),itemToString:s.func,itemToKey:s.func,stateReducer:s.func},gt=O({},Ie,{getA11yStatusMessage:s.func,highlightedIndex:s.number,defaultHighlightedIndex:s.number,initialHighlightedIndex:s.number,isOpen:s.bool,defaultIsOpen:s.bool,initialIsOpen:s.bool,selectedItem:s.any,initialSelectedItem:s.any,defaultSelectedItem:s.any,id:s.string,labelId:s.string,menuId:s.string,getItemId:s.func,toggleButtonId:s.string,onSelectedItemChange:s.func,onHighlightedIndexChange:s.func,onStateChange:s.func,onIsOpenChange:s.func,scrollIntoView:s.func});function un(e,t,n){var i=t.type,r=t.props,l;switch(i){case n.ItemMouseMove:l={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:l={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:l={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:we(r,e,0)};break;case n.FunctionOpenMenu:l={isOpen:!0,highlightedIndex:we(r,e,0)};break;case n.FunctionCloseMenu:l={isOpen:!1};break;case n.FunctionSetHighlightedIndex:l={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:l={inputValue:t.inputValue};break;case n.FunctionReset:l={highlightedIndex:ee(r,"highlightedIndex"),isOpen:ee(r,"isOpen"),selectedItem:ee(r,"selectedItem"),inputValue:ee(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return O({},e,l)}function sn(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,r=e.itemToString,l=e.isItemDisabled,u=t.toLowerCase(),o=0;o<i.length;o++){var a=(o+n+(t.length<2?1:0))%i.length,h=i[a];if(h!==void 0&&r(h).toLowerCase().startsWith(u)&&!l(h,a))return a}return n}ce(ce({},gt),{items:s.array.isRequired,isItemDisabled:s.func});var an=ce(ce({},ge),{isItemDisabled:function(){return!1}}),ye=0,Ne=1,qe=2,Se=3,ze=4,Ue=5,Xe=6,Ge=7,Ye=8,Ze=9,Je=10,Ce=11,pt=12,ht=13,Qe=14,vt=15,mt=16,It=17,yt=18,_e=19,Le=20,bt=21,xt=Object.freeze({__proto__:null,ToggleButtonClick:ye,ToggleButtonKeyDownArrowDown:Ne,ToggleButtonKeyDownArrowUp:qe,ToggleButtonKeyDownCharacter:Se,ToggleButtonKeyDownEscape:ze,ToggleButtonKeyDownHome:Ue,ToggleButtonKeyDownEnd:Xe,ToggleButtonKeyDownEnter:Ge,ToggleButtonKeyDownSpaceButton:Ye,ToggleButtonKeyDownPageUp:Ze,ToggleButtonKeyDownPageDown:Je,ToggleButtonBlur:Ce,MenuMouseLeave:pt,ItemMouseMove:ht,ItemClick:Qe,FunctionToggleMenu:vt,FunctionOpenMenu:mt,FunctionCloseMenu:It,FunctionSetHighlightedIndex:yt,FunctionSelectItem:_e,FunctionSetInputValue:Le,FunctionReset:bt});function cn(e,t){var n,i=t.type,r=t.props,l=t.altKey,u;switch(i){case Qe:u={isOpen:ee(r,"isOpen"),highlightedIndex:ee(r,"highlightedIndex"),selectedItem:r.items[t.index]};break;case Se:{var o=t.key,a=""+e.inputValue+o,h=!e.isOpen&&e.selectedItem?r.items.findIndex(function(b){return r.itemToKey(b)===r.itemToKey(e.selectedItem)}):e.highlightedIndex,I=sn({keysSoFar:a,highlightedIndex:h,items:r.items,itemToString:r.itemToString,isItemDisabled:r.isItemDisabled});u={inputValue:a,highlightedIndex:I,isOpen:!0}}break;case Ne:{var P=e.isOpen?me(e.highlightedIndex,1,r.items,r.isItemDisabled):l&&e.selectedItem==null?-1:we(r,e,1);u={highlightedIndex:P,isOpen:!0}}break;case qe:if(e.isOpen&&l)u=ut(r,e.highlightedIndex,!1);else{var $=e.isOpen?me(e.highlightedIndex,-1,r.items,r.isItemDisabled):we(r,e,-1);u={highlightedIndex:$,isOpen:!0}}break;case Ge:case Ye:u=ut(r,e.highlightedIndex,!1);break;case Ue:u={highlightedIndex:xe(0,!1,r.items,r.isItemDisabled),isOpen:!0};break;case Xe:u={highlightedIndex:xe(r.items.length-1,!0,r.items,r.isItemDisabled),isOpen:!0};break;case Ze:u={highlightedIndex:me(e.highlightedIndex,-10,r.items,r.isItemDisabled)};break;case Je:u={highlightedIndex:me(e.highlightedIndex,10,r.items,r.isItemDisabled)};break;case ze:u={isOpen:!1,highlightedIndex:-1};break;case Ce:u=O({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&{selectedItem:r.items[e.highlightedIndex]});break;case _e:u={selectedItem:t.selectedItem};break;default:return un(e,t,xt)}return O({},e,u)}var dn=["onClick"],fn=["onMouseLeave","refKey","ref"],gn=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],pn=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];ae.stateChangeTypes=xt;function ae(e){e===void 0&&(e={});var t=O({},an,e),n=t.scrollIntoView,i=t.environment,r=t.getA11yStatusMessage,l=Qt(cn,t,_t,on),u=l[0],o=l[1],a=u.isOpen,h=u.highlightedIndex,I=u.selectedItem,P=u.inputValue,$=c.useRef(null),b=c.useRef(null),g=c.useRef({}),T=c.useRef(null),m=Gt(t),w=ft({state:u,props:t}),N=c.useCallback(function(p){return g.current[m.getItemId(p)]},[m]);nn(r,u,[a,h,I,P],i);var k=rn({menuElement:b.current,highlightedIndex:h,isOpen:a,itemRefs:g,scrollIntoView:n,getItemNodeFromIndex:N});c.useEffect(function(){return T.current=Ve(function(p){p({type:Le,inputValue:""})},500),function(){T.current.cancel()}},[]),c.useEffect(function(){P&&T.current(o)},[o,P]),c.useEffect(function(){var p=fe(t,"isOpen");p&&$.current&&$.current.focus()},[]);var F=en(i,[$,b],c.useCallback(function(){w.current.state.isOpen&&o({type:Ce})},[o,w])),G=tn();c.useEffect(function(){a||(g.current={})},[a]);var Y=c.useMemo(function(){return{ArrowDown:function(f){f.preventDefault(),o({type:Ne,altKey:f.altKey})},ArrowUp:function(f){f.preventDefault(),o({type:qe,altKey:f.altKey})},Home:function(f){f.preventDefault(),o({type:Ue})},End:function(f){f.preventDefault(),o({type:Xe})},Escape:function(){w.current.state.isOpen&&o({type:ze})},Enter:function(f){f.preventDefault(),o({type:w.current.state.isOpen?Ge:ye})},PageUp:function(f){w.current.state.isOpen&&(f.preventDefault(),o({type:Ze}))},PageDown:function(f){w.current.state.isOpen&&(f.preventDefault(),o({type:Je}))}," ":function(f){f.preventDefault();var d=w.current.state;if(!d.isOpen){o({type:ye});return}d.inputValue?o({type:Se,key:" "}):o({type:Ye})}}},[o,w]),ie=c.useCallback(function(){o({type:vt})},[o]),te=c.useCallback(function(){o({type:It})},[o]),ue=c.useCallback(function(){o({type:mt})},[o]),oe=c.useCallback(function(p){o({type:yt,highlightedIndex:p})},[o]),se=c.useCallback(function(p){o({type:_e,selectedItem:p})},[o]),R=c.useCallback(function(){o({type:bt})},[o]),x=c.useCallback(function(p){o({type:Le,inputValue:p})},[o]),S=c.useCallback(function(p){var f=p===void 0?{}:p,d=f.onClick,C=he(f,dn),V=function(){var B;(B=$.current)==null||B.focus()};return O({id:m.labelId,htmlFor:m.toggleButtonId,onClick:re(d,V)},C)},[m]),le=c.useCallback(function(p,f){var d,C=p===void 0?{}:p,V=C.onMouseLeave,L=C.refKey,B=L===void 0?"ref":L,W=C.ref,K=he(C,fn),q=f===void 0?{}:f;q.suppressRefError;var H=function(){o({type:pt})};return O((d={},d[B]=Pe(W,function(D){b.current=D}),d.id=m.menuId,d.role="listbox",d["aria-labelledby"]=K&&K["aria-label"]?void 0:""+m.labelId,d.onMouseLeave=re(V,H),d),K)},[o,G,m]),Z=c.useCallback(function(p,f){var d,C=p===void 0?{}:p,V=C.onBlur,L=C.onClick;C.onPress;var B=C.onKeyDown,W=C.refKey,K=W===void 0?"ref":W,q=C.ref,H=he(C,gn),D=f===void 0?{}:f;D.suppressRefError;var E=w.current.state,J=function(){o({type:ye})},Q=function(){E.isOpen&&!F.isMouseDown&&o({type:Ce})},ne=function(j){var _=At(j);_&&Y[_]?Y[_](j):Zt(_)&&o({type:Se,key:_})},z=O((d={},d[K]=Pe(q,function(U){$.current=U}),d["aria-activedescendant"]=E.isOpen&&E.highlightedIndex>-1?m.getItemId(E.highlightedIndex):"",d["aria-controls"]=m.menuId,d["aria-expanded"]=w.current.state.isOpen,d["aria-haspopup"]="listbox",d["aria-labelledby"]=H&&H["aria-label"]?void 0:""+m.labelId,d.id=m.toggleButtonId,d.role="combobox",d.tabIndex=0,d.onBlur=re(V,Q),d),H);return H.disabled||(z.onClick=re(L,J),z.onKeyDown=re(B,ne)),z},[o,m,w,F,G,Y]),y=c.useCallback(function(p){var f,d=p===void 0?{}:p,C=d.item,V=d.index,L=d.onMouseMove,B=d.onClick,W=d.onMouseDown;d.onPress;var K=d.refKey,q=K===void 0?"ref":K,H=d.disabled,D=d.ref,E=he(d,pn);H!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var J=w.current,Q=J.state,ne=J.props,z=Yt(C,V,ne.items,"Pass either item or index to getItemProps!"),U=z[0],j=z[1],_=ne.isItemDisabled(U,j),St=function(){F.isTouchEnd||j===Q.highlightedIndex||(k.current=!1,o({type:ht,index:j,disabled:_}))},Ct=function(){o({type:Qe,index:j})},$t=function(Mt){return Mt.preventDefault()},pe=O((f={},f[q]=Pe(D,function(de){de&&(g.current[m.getItemId(j)]=de)}),f["aria-disabled"]=_,f["aria-selected"]=""+(U===Q.selectedItem),f.id=m.getItemId(j),f.role="option",f),E);return _||(pe.onClick=re(B,Ct)),pe.onMouseMove=re(L,St),pe.onMouseDown=re(W,$t),pe},[w,m,F,k,o]);return{getToggleButtonProps:Z,getLabelProps:S,getMenuProps:le,getItemProps:y,toggleMenu:ie,openMenu:ue,closeMenu:te,setHighlightedIndex:oe,selectItem:se,reset:R,setInputValue:x,highlightedIndex:h,isOpen:a,selectedItem:I,inputValue:P}}O({},gt,{items:s.array.isRequired,isItemDisabled:s.func,inputValue:s.string,defaultInputValue:s.string,initialInputValue:s.string,inputId:s.string,onInputValueChange:s.func});O({},ge,{isItemDisabled:function(){return!1}});Ie.stateReducer,Ie.itemToKey,Ie.environment,s.array,s.array,s.array,s.func,s.number,s.number,s.number,s.func,s.func,s.string,s.string;ge.itemToKey,ge.stateReducer,ge.environment;const wt=c.createContext(void 0),hn=()=>{const e=c.useContext(wt);if(!e)throw new Error("useSelectContext must be used within a SelectProvider");return e},vn=({children:e,value:t})=>M.jsx(wt.Provider,{value:t,children:e}),mn=X.li`
  display: flex;

  ${({theme:e,isHighlighted:t})=>`
    cursor:pointer;
    padding: ${e.spacing["4xs"]} ${e.spacing["2xs"]};
    gap: ${e.spacing["4xs"]};
    background-color: ${t?e.palette.primary.light:e.palette.base.default};
    color: ${e.palette.content.body};
    ${e.fontStyles.body2}

    &[aria-disabled="true"] {
      cursor: not-allowed;
      color: ${e.palette.content.disabled};
    }
    
    &[aria-selected="true"] {
      background-color: ${t?e.palette.primary.medium:e.palette.primary.light};
      color: ${t?e.palette.content.contrast:e.palette.content.body};
    }
  `}
`,In=X.div`
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  width: 100%;
`,yn=({dataTestId:e,item:t,index:n,children:i,style:r})=>{const{getItemProps:l,highlightedIndex:u,selectedItems:o,isMulti:a}=hn(),h=o.includes(t),I=u===n;return M.jsx(mn,{"data-testid":e,isHighlighted:I,style:r,...l({item:t,index:n,"aria-selected":h}),children:a?M.jsx(Tt,{checkboxId:n,isChecked:o.includes(t),isDisabled:l({item:t,index:n})["aria-disabled"],onChange:()=>null,children:i||t.label||t.value}):M.jsx(In,{children:i||t.label||t.value})})},bn=X.div`
  position: relative;
`,xn=X.div`
  display: flex;
  height: auto;
  width: 100%;
  position: relative;
  flex-direction: column;
  overflow: hidden;
`,wn=X.ul`
  list-style-type: none;
  position: absolute;
  z-index: ${Rt};
  width: 100%;

  ${({isOpen:e,theme:t})=>`
    margin-top:${t.spacing["5xs"]};
    padding:  ${t.spacing["2xs"]} ${t.spacing.none};
    background-color: ${t.palette.base.default};
    display: ${e?"block":"none"};
    border-radius: ${t.shape.formField};
  `}
`,Sn=X.div`
  display: flex;
  flex: 1;
  align-self: end;
  overflow: hidden;
`,Cn=X.div`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  ${({theme:e})=>`
    ${e.fontStyles.body2}
    color: ${e.palette.content.body};
  `}
`,$n=X.div`
  transition: all 0.2s ease-in-out;
  width: 100%;
  height: 53px;
  display: flex;
  align-items: center;
  justify-content: center;

  ${({theme:e,hasError:t,disabled:n,isActive:i})=>`
    ${e.fontStyles.body2}
    color: ${n?e.palette.content.disabled:e.palette.content.body};
    padding: ${e.spacing["4xs"]} ${e.spacing["3xs"]};
    gap: ${e.spacing["4xs"]} ;
    background-color: ${n?e.palette.base.light:e.palette.base.default};
    border-radius: ${e.shape.formField};
    border: ${i?`1px solid ${e.palette.primary.default}`:`1px solid ${t?e.palette.error.default:e.palette.border.default}`};

    cursor: ${n?"not-allowed":"pointer"};

    &:hover, &:focus {
      ${!n&&`border: 1px solid ${t?e.palette.error.default:e.palette.primary.default};`};
    }
  `}
`,Mn=X.div`
  display: flex;
`,On=X.div`
  ${({theme:e})=>`
    padding-left: ${e.spacing["2xs"]};
  `}
`,Dn=({dataTestId:e,style:t,options:n=[],helperText:i="",hasError:r=!1,initialValue:l=[],label:u,isMulti:o=!1,required:a,errorMessage:h,chevronIcon:I="expand_more",children:P,disabled:$,onChange:b=()=>null})=>{const[g,T]=c.useState(()=>Array.isArray(l)?l:[l]),m=c.useRef(null),w=R=>{R.stopPropagation(),T([])},N=r&&h?h:i,{isOpen:k,closeMenu:F,getToggleButtonProps:G,getLabelProps:Y,getMenuProps:ie,highlightedIndex:te,getItemProps:ue}=ae({items:n,isItemDisabled(R){return!!R.disabled},stateReducer:(R,x)=>{const{changes:S,type:le}=x;switch(le){case ae.stateChangeTypes.ToggleButtonKeyDownEnter:case ae.stateChangeTypes.ToggleButtonKeyDownSpaceButton:case ae.stateChangeTypes.ItemClick:case ae.stateChangeTypes.ToggleButtonBlur:return{...S,isOpen:o,highlightedIndex:R.highlightedIndex};default:return S}},selectedItem:null,onSelectedItemChange:({selectedItem:R})=>{let x=[];const S=g.indexOf(R);o?S>0?x=[...g.slice(0,S),...g.slice(S+1)]:S===0?x=g.slice(1):x=[...g,R]:x=[R],T(x),b&&b(o?x:x[0])}}),oe=!!g&&!!g.length,se=()=>g.length>1?`${g.length} options selected`:g[0].label||g[0].value;return Ot({ref:m,handler:()=>F()}),M.jsx(vn,{value:{isOpen:k,highlightedIndex:te,getItemProps:ue,selectedItems:g,isMulti:o},children:M.jsxs(bn,{"data-testid":e,ref:m,style:t,children:[M.jsx(xn,{children:M.jsxs($n,{...G({disabled:$}),hasError:r,isActive:k,children:[M.jsxs(Sn,{children:[M.jsx(Dt,{...Y(),hasError:r,isActive:oe,isDisabled:$,required:a,children:u}),oe?M.jsx(Cn,{children:se()}):null]}),M.jsxs(Mn,{children:[o?M.jsxs(tt,{children:[M.jsx(et,{code:"close",dataTestId:"clear-selection",onClick:w,size:"medium"}),M.jsx(tt.Content,{children:"Clear all"})]}):null,M.jsx(et,{code:I,size:"medium"})]})]})}),M.jsx(wn,{...ie(),"aria-multiselectable":o,isOpen:k,children:k?P:null}),N?M.jsx(On,{children:M.jsx(Et,{color:r?"error.default":"content.tertiary",element:"span",fontStyles:"body3",children:N})}):null]})})};Dn.Option=yn;export{Dn as S};
