import{j as O}from"./jsx-runtime-CB_V9I5Y.js";import"./index-D9dZuxfj.js";import"./index-DykUrzBO.js";import"./index-XjDa9cP3.js";import{g as Rt,r as c,R as xe}from"./index-CTjT7uj6.js";import{u as kt}from"./useClickOutside-CvVYzr-_.js";import{I as et}from"./Icon-DG6KDu5A.js";import{I as Bt}from"./IconButton-C_mszqXk.js";import{L as Pt}from"./LabelField-RcFWrG3B.js";import{T as tt}from"./Tooltip-fp-R2RX5.js";import{T as Ht}from"./Typography-DHEP7O00.js";import{j as M,f as _}from"./emotion-styled.browser.esm-DBghOYGd.js";import{C as Kt}from"./Checkbox-DtiS2S4C.js";import{b as Ft}from"./z-index-CLLOsryR.js";function he(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var st={exports:{}},Lt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jt=Lt,At=jt;function at(){}function ct(){}ct.resetWarningCache=at;var Vt=function(){function e(i,r,u,o,l,g){if(g!==At){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ct,resetWarningCache:at};return n.PropTypes=n,n};st.exports=Vt();var Wt=st.exports;const a=Rt(Wt);var S={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),Me=Symbol.for("react.context"),_t=Symbol.for("react.server_context"),Re=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Nt=Symbol.for("react.offscreen"),dt;dt=Symbol.for("react.module.reference");function j(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case je:switch(e=e.type,e){case Oe:case De:case Te:case ke:case Be:return e;default:switch(e=e&&e.$$typeof,e){case _t:case Me:case Re:case He:case Pe:case Ee:return e;default:return t}}case Ae:return t}}}S.ContextConsumer=Me;S.ContextProvider=Ee;S.Element=je;S.ForwardRef=Re;S.Fragment=Oe;S.Lazy=He;S.Memo=Pe;S.Portal=Ae;S.Profiler=De;S.StrictMode=Te;S.Suspense=ke;S.SuspenseList=Be;S.isAsyncMode=function(){return!1};S.isConcurrentMode=function(){return!1};S.isContextConsumer=function(e){return j(e)===Me};S.isContextProvider=function(e){return j(e)===Ee};S.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===je};S.isForwardRef=function(e){return j(e)===Re};S.isFragment=function(e){return j(e)===Oe};S.isLazy=function(e){return j(e)===He};S.isMemo=function(e){return j(e)===Pe};S.isPortal=function(e){return j(e)===Ae};S.isProfiler=function(e){return j(e)===De};S.isStrictMode=function(e){return j(e)===Te};S.isSuspense=function(e){return j(e)===ke};S.isSuspenseList=function(e){return j(e)===Be};S.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Oe||e===De||e===Te||e===ke||e===Be||e===Nt||typeof e=="object"&&e!==null&&(e.$$typeof===He||e.$$typeof===Pe||e.$$typeof===Ee||e.$$typeof===Me||e.$$typeof===Re||e.$$typeof===dt||e.getModuleId!==void 0)};S.typeOf=j;const nt=e=>typeof e=="object"&&e!=null&&e.nodeType===1,rt=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",ve=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return rt(n.overflowY,t)||rt(n.overflowX,t)||(i=>{const r=(u=>{if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(e)}return!1},me=(e,t,n,i,r,u,o,l)=>u<e&&o>t||u>e&&o<t?0:u<=e&&l<=n||o>=t&&l>=n?u-e-i:o>t&&l<n||u<e&&l>n?o-t+r:0,qt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Ut=(e,t)=>{var n,i,r,u;if(typeof document>"u")return[];const{inline:o,boundary:l,skipOverflowHiddenElements:g}=t,v=typeof l=="function"?l:H=>H!==l;if(!nt(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,D=[];let h=e;for(;nt(h)&&v(h);){if(h=qt(h),h===m){D.push(h);break}h!=null&&h===document.body&&ve(h)&&!ve(document.documentElement)||h!=null&&ve(h,g)&&D.push(h)}const y=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,p=(u=(r=window.visualViewport)==null?void 0:r.height)!=null?u:innerHeight,{scrollX:k,scrollY:C}=window,{height:x,width:N,top:q,right:T,bottom:U,left:P}=e.getBoundingClientRect(),{top:ce,right:oe,left:le}=(H=>{const I=window.getComputedStyle(H);return{top:parseFloat(I.scrollMarginTop)||0,right:parseFloat(I.scrollMarginRight)||0,bottom:parseFloat(I.scrollMarginBottom)||0,left:parseFloat(I.scrollMarginLeft)||0}})(e);let z=q-ce,R=o==="center"?P+N/2-le+oe:o==="end"?T+oe:P-le;const te=[];for(let H=0;H<D.length;H++){const I=D[H],{height:Z,width:b,top:w,right:s,bottom:d,left:f}=I.getBoundingClientRect();if(q>=0&&P>=0&&U<=p&&T<=y&&(I===m&&!ve(I)||q>=w&&U<=d&&P>=f&&T<=s))return te;const $=getComputedStyle(I),L=parseInt($.borderLeftWidth,10),A=parseInt($.borderTopWidth,10),K=parseInt($.borderRightWidth,10),V=parseInt($.borderBottomWidth,10);let E=0,B=0;const F="offsetWidth"in I?I.offsetWidth-I.clientWidth-L-K:0,X="offsetHeight"in I?I.offsetHeight-I.clientHeight-A-V:0,W="offsetWidth"in I?I.offsetWidth===0?0:b/I.offsetWidth:0,J="offsetHeight"in I?I.offsetHeight===0?0:Z/I.offsetHeight:0;if(m===I)E=me(C,C+p,p,A,V,C+z,C+z+x,x),B=o==="start"?R:o==="center"?R-y/2:o==="end"?R-y:me(k,k+y,y,L,K,k+R,k+R+N,N),E=Math.max(0,E+C),B=Math.max(0,B+k);else{E=me(w,d,Z,A,V+X,z,z+x,x),B=o==="start"?R-f-L:o==="center"?R-(f+b/2)+F/2:o==="end"?R-s+K+F:me(f,s,b,L,K+F,R,R+N,N);const{scrollLeft:ne,scrollTop:re}=I;E=J===0?0:Math.max(0,Math.min(re+E/J,I.scrollHeight-Z/J+X)),B=W===0?0:Math.max(0,Math.min(ne+B/W,I.scrollWidth-b/W+F)),z+=re-E,R+=ne-B}te.push({el:I,top:E,left:B})}return te};var ae=function(){return ae=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},ae.apply(this,arguments)};var zt=0;function ft(){}function Xt(e,t){if(e){var n=Ut(e,{boundary:t});n.forEach(function(i){var r=i.el,u=i.top,o=i.left;r.scrollTop=u,r.scrollLeft=o})}}function it(e,t,n){var i=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return i}function Ve(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var u=arguments.length,o=new Array(u),l=0;l<u;l++)o[l]=arguments[l];i(),n=setTimeout(function(){n=null,e.apply(void 0,o)},t)}return r.cancel=i,r}function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,u=new Array(r>1?r-1:0),o=1;o<r;o++)u[o-1]=arguments[o];return t.some(function(l){return l&&l.apply(void 0,[i].concat(u)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function Ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){t.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function Yt(){return String(zt++)}function Fe(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,i){return n[i]=Gt(t,i)?t[i]:e[i],n},{})}function Gt(e,t){return e[t]!==void 0}function Zt(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Ie(e,t,n,i,r){r===void 0&&(r=!1);var u=n.length;if(u===0)return-1;var o=u-1;(typeof e!="number"||e<0||e>o)&&(e=t>0?-1:o+1);var l=e+t;l<0?l=r?o:0:l>o&&(l=r?0:o);var g=we(l,t<0,n,i,r);return g===-1?e>=u?-1:e:g}function we(e,t,n,i,r){r===void 0&&(r=!1);var u=n.length;if(t){for(var o=e;o>=0;o--)if(!i(n[o],o))return o}else for(var l=e;l<u;l++)if(!i(n[l],l))return l;return r?we(t?u-1:0,t,n,i):-1}function ot(e,t,n,i){return i===void 0&&(i=!0),n&&t.some(function(r){return r&&(it(r,e,n)||i&&it(r,n.document.activeElement,n))})}var Jt=Ve(function(e){gt(e).textContent=""},500);function gt(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Qt(e,t){if(!(!e||!t)){var n=gt(t);n.textContent=e,Jt(t)}}function en(e){var t=e==null?void 0:e.getElementById("a11y-status-message");t&&t.remove()}var pt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function tn(e,t,n){var i=e.props,r=e.type,u={};Object.keys(t).forEach(function(o){nn(o,e,t,n),n[o]!==t[o]&&(u[o]=n[o])}),i.onStateChange&&Object.keys(u).length&&i.onStateChange(M({type:r},u))}function nn(e,t,n,i){var r=t.props,u=t.type,o="on"+We(e)+"Change";r[o]&&i[e]!==void 0&&i[e]!==n[e]&&r[o](M({type:u},i))}function rn(e,t){return t.changes}var lt=Ve(function(e,t){Qt(e,t)},200),on=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect,ln="useId"in xe?function(t){var n=t.id,i=t.labelId,r=t.menuId,u=t.getItemId,o=t.toggleButtonId,l=t.inputId,g="downshift-"+xe.useId();n||(n=g);var v=c.useRef({labelId:i||n+"-label",menuId:r||n+"-menu",getItemId:u||function(m){return n+"-item-"+m},toggleButtonId:o||n+"-toggle-button",inputId:l||n+"-input"});return v.current}:function(t){var n=t.id,i=n===void 0?"downshift-"+Yt():n,r=t.labelId,u=t.menuId,o=t.getItemId,l=t.toggleButtonId,g=t.inputId,v=c.useRef({labelId:r||i+"-label",menuId:u||i+"-menu",getItemId:o||function(m){return i+"-item-"+m},toggleButtonId:l||i+"-toggle-button",inputId:g||i+"-input"});return v.current};function un(e,t,n,i){var r,u;if(e===void 0){if(t===void 0)throw new Error(i);r=n[t],u=t}else u=t===void 0?n.indexOf(e):t,r=e;return[r,u]}function sn(e){return/^\S{1}$/.test(e)}function We(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ht(e){var t=c.useRef(e);return t.current=e,t}function an(e,t,n,i){var r=c.useRef(),u=c.useRef(),o=c.useCallback(function(y,p){u.current=p,y=Fe(y,p.props);var k=e(y,p),C=p.props.stateReducer(y,M({},p,{changes:k}));return C},[e]),l=c.useReducer(o,t,n),g=l[0],v=l[1],m=ht(t),D=c.useCallback(function(y){return v(M({props:m.current},y))},[m]),h=u.current;return c.useEffect(function(){var y=Fe(r.current,h==null?void 0:h.props),p=h&&r.current&&!i(y,g);p&&tn(h,y,g),r.current=g},[g,h,i]),[g,D]}function cn(e,t,n,i){var r=an(e,t,n,i),u=r[0],o=r[1];return[Fe(u,t),o]}var fe={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:rn,scrollIntoView:Xt,environment:typeof window>"u"?void 0:window};function ee(e,t,n){n===void 0&&(n=pt);var i=e["default"+We(t)];return i!==void 0?i:n[t]}function ge(e,t,n){n===void 0&&(n=pt);var i=e[t];if(i!==void 0)return i;var r=e["initial"+We(t)];return r!==void 0?r:ee(e,t,n)}function dn(e){var t=ge(e,"selectedItem"),n=ge(e,"isOpen"),i=In(e),r=ge(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(u){return e.itemToKey(u)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:r}}function Se(e,t,n){var i=e.items,r=e.initialHighlightedIndex,u=e.defaultHighlightedIndex,o=e.isItemDisabled,l=e.itemToKey,g=t.selectedItem,v=t.highlightedIndex;return i.length===0?-1:r!==void 0&&v===r&&!o(i[r],r)?r:u!==void 0&&!o(i[u],u)?u:g?i.findIndex(function(m){return l(g)===l(m)}):n<0&&!o(i[i.length-1],i.length-1)?i.length-1:n>0&&!o(i[0],0)?0:-1}function fn(e,t,n){var i=c.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return c.useEffect(function(){if(!e)return ft;var r=n.map(function(m){return m.current});function u(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function o(m){i.current.isMouseDown=!1,ot(m.target,r,e)||t()}function l(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function g(){i.current.isTouchMove=!0}function v(m){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!ot(m.target,r,e,!1)&&t()}return e.addEventListener("mousedown",u),e.addEventListener("mouseup",o),e.addEventListener("touchstart",l),e.addEventListener("touchmove",g),e.addEventListener("touchend",v),function(){e.removeEventListener("mousedown",u),e.removeEventListener("mouseup",o),e.removeEventListener("touchstart",l),e.removeEventListener("touchmove",g),e.removeEventListener("touchend",v)}},[n,e,t]),i.current}var gn=function(){return ft};function pn(e,t,n,i){i===void 0&&(i={});var r=i.document,u=mn();c.useEffect(function(){if(!(!e||u||!r)){var o=e(t);lt(o,r)}},n),c.useEffect(function(){return function(){lt.cancel(),en(r)}},[r])}function hn(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,u=e.menuElement,o=e.scrollIntoView,l=c.useRef(!0);return on(function(){t<0||!n||!Object.keys(i.current).length||(l.current===!1?l.current=!0:o(r(t),u))},[t]),l}function ut(e,t,n){var i,r=((i=e.items)==null?void 0:i.length)&&t>=0;return M({isOpen:!1,highlightedIndex:-1},r&&M({selectedItem:e.items[t],isOpen:ee(e,"isOpen"),highlightedIndex:ee(e,"highlightedIndex")},n))}function vn(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function mn(){var e=xe.useRef(!0);return xe.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function vt(e){var t=ee(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function In(e){var t=ge(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var ye={environment:a.shape({addEventListener:a.func.isRequired,removeEventListener:a.func.isRequired,document:a.shape({createElement:a.func.isRequired,getElementById:a.func.isRequired,activeElement:a.any.isRequired,body:a.any.isRequired}).isRequired,Node:a.func.isRequired}),itemToString:a.func,itemToKey:a.func,stateReducer:a.func},mt=M({},ye,{getA11yStatusMessage:a.func,highlightedIndex:a.number,defaultHighlightedIndex:a.number,initialHighlightedIndex:a.number,isOpen:a.bool,defaultIsOpen:a.bool,initialIsOpen:a.bool,selectedItem:a.any,initialSelectedItem:a.any,defaultSelectedItem:a.any,id:a.string,labelId:a.string,menuId:a.string,getItemId:a.func,toggleButtonId:a.string,onSelectedItemChange:a.func,onHighlightedIndexChange:a.func,onStateChange:a.func,onIsOpenChange:a.func,scrollIntoView:a.func});function yn(e,t,n){var i=t.type,r=t.props,u;switch(i){case n.ItemMouseMove:u={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:u={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Se(r,e,0)};break;case n.FunctionOpenMenu:u={isOpen:!0,highlightedIndex:Se(r,e,0)};break;case n.FunctionCloseMenu:u={isOpen:!1};break;case n.FunctionSetHighlightedIndex:u={highlightedIndex:r.isItemDisabled(r.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:u={inputValue:t.inputValue};break;case n.FunctionReset:u={highlightedIndex:vt(r),isOpen:ee(r,"isOpen"),selectedItem:ee(r,"selectedItem"),inputValue:ee(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return M({},e,u)}function bn(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,r=e.itemToString,u=e.isItemDisabled,o=t.toLowerCase(),l=0;l<i.length;l++){var g=(l+n+(t.length<2?1:0))%i.length,v=i[g];if(v!==void 0&&r(v).toLowerCase().startsWith(o)&&!u(v,g))return g}return n}ae(ae({},mt),{items:a.array.isRequired,isItemDisabled:a.func});var xn=ae(ae({},fe),{isItemDisabled:function(){return!1}}),be=0,_e=1,Ne=2,Ce=3,qe=4,Ue=5,ze=6,Xe=7,Ye=8,Ge=9,Ze=10,$e=11,It=12,yt=13,Je=14,bt=15,xt=16,wt=17,St=18,Qe=19,Le=20,Ct=21,$t=Object.freeze({__proto__:null,FunctionCloseMenu:wt,FunctionOpenMenu:xt,FunctionReset:Ct,FunctionSelectItem:Qe,FunctionSetHighlightedIndex:St,FunctionSetInputValue:Le,FunctionToggleMenu:bt,ItemClick:Je,ItemMouseMove:yt,MenuMouseLeave:It,ToggleButtonBlur:$e,ToggleButtonClick:be,ToggleButtonKeyDownArrowDown:_e,ToggleButtonKeyDownArrowUp:Ne,ToggleButtonKeyDownCharacter:Ce,ToggleButtonKeyDownEnd:ze,ToggleButtonKeyDownEnter:Xe,ToggleButtonKeyDownEscape:qe,ToggleButtonKeyDownHome:Ue,ToggleButtonKeyDownPageDown:Ze,ToggleButtonKeyDownPageUp:Ge,ToggleButtonKeyDownSpaceButton:Ye});function wn(e,t){var n,i=t.type,r=t.props,u=t.altKey,o;switch(i){case Je:o={isOpen:ee(r,"isOpen"),highlightedIndex:vt(r),selectedItem:r.items[t.index]};break;case Ce:{var l=t.key,g=""+e.inputValue+l,v=!e.isOpen&&e.selectedItem?r.items.findIndex(function(y){return r.itemToKey(y)===r.itemToKey(e.selectedItem)}):e.highlightedIndex,m=bn({keysSoFar:g,highlightedIndex:v,items:r.items,itemToString:r.itemToString,isItemDisabled:r.isItemDisabled});o={inputValue:g,highlightedIndex:m,isOpen:!0}}break;case _e:{var D=e.isOpen?Ie(e.highlightedIndex,1,r.items,r.isItemDisabled):u&&e.selectedItem==null?-1:Se(r,e,1);o={highlightedIndex:D,isOpen:!0}}break;case Ne:if(e.isOpen&&u)o=ut(r,e.highlightedIndex,!1);else{var h=e.isOpen?Ie(e.highlightedIndex,-1,r.items,r.isItemDisabled):Se(r,e,-1);o={highlightedIndex:h,isOpen:!0}}break;case Xe:case Ye:o=ut(r,e.highlightedIndex,!1);break;case Ue:o={highlightedIndex:we(0,!1,r.items,r.isItemDisabled),isOpen:!0};break;case ze:o={highlightedIndex:we(r.items.length-1,!0,r.items,r.isItemDisabled),isOpen:!0};break;case Ge:o={highlightedIndex:Ie(e.highlightedIndex,-10,r.items,r.isItemDisabled)};break;case Ze:o={highlightedIndex:Ie(e.highlightedIndex,10,r.items,r.isItemDisabled)};break;case qe:o={isOpen:!1,highlightedIndex:-1};break;case $e:o=M({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&{selectedItem:r.items[e.highlightedIndex]});break;case Qe:o={selectedItem:t.selectedItem};break;default:return yn(e,t,$t)}return M({},e,o)}var Sn=["onClick"],Cn=["onMouseLeave","refKey","ref"],$n=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],On=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];se.stateChangeTypes=$t;function se(e){e===void 0&&(e={});var t=M({},xn,e),n=t.scrollIntoView,i=t.environment,r=t.getA11yStatusMessage,u=cn(wn,t,dn,vn),o=u[0],l=u[1],g=o.isOpen,v=o.highlightedIndex,m=o.selectedItem,D=o.inputValue,h=c.useRef(null),y=c.useRef(null),p=c.useRef({}),k=c.useRef(null),C=ln(t),x=ht({state:o,props:t}),N=c.useCallback(function(s){return p.current[C.getItemId(s)]},[C]);pn(r,o,[g,v,m,D],i);var q=hn({menuElement:y.current,highlightedIndex:v,isOpen:g,itemRefs:p,scrollIntoView:n,getItemNodeFromIndex:N});c.useEffect(function(){return k.current=Ve(function(s){s({type:Le,inputValue:""})},500),function(){k.current.cancel()}},[]),c.useEffect(function(){D&&k.current(l)},[l,D]),c.useEffect(function(){var s=ge(t,"isOpen");s&&h.current&&h.current.focus()},[]);var T=fn(i,c.useCallback(function(){x.current.state.isOpen&&l({type:$e})},[l,x]),c.useMemo(function(){return[y,h]},[y.current,h.current])),U=gn();c.useEffect(function(){g||(p.current={})},[g]);var P=c.useMemo(function(){return{ArrowDown:function(d){d.preventDefault(),l({type:_e,altKey:d.altKey})},ArrowUp:function(d){d.preventDefault(),l({type:Ne,altKey:d.altKey})},Home:function(d){d.preventDefault(),l({type:Ue})},End:function(d){d.preventDefault(),l({type:ze})},Escape:function(){x.current.state.isOpen&&l({type:qe})},Enter:function(d){d.preventDefault(),l({type:x.current.state.isOpen?Xe:be})},PageUp:function(d){x.current.state.isOpen&&(d.preventDefault(),l({type:Ge}))},PageDown:function(d){x.current.state.isOpen&&(d.preventDefault(),l({type:Ze}))}," ":function(d){d.preventDefault();var f=x.current.state;if(!f.isOpen){l({type:be});return}f.inputValue?l({type:Ce,key:" "}):l({type:Ye})}}},[l,x]),ce=c.useCallback(function(){l({type:bt})},[l]),oe=c.useCallback(function(){l({type:wt})},[l]),le=c.useCallback(function(){l({type:xt})},[l]),z=c.useCallback(function(s){l({type:St,highlightedIndex:s})},[l]),R=c.useCallback(function(s){l({type:Qe,selectedItem:s})},[l]),te=c.useCallback(function(){l({type:Ct})},[l]),H=c.useCallback(function(s){l({type:Le,inputValue:s})},[l]),I=c.useCallback(function(s){var d=s===void 0?{}:s,f=d.onClick,$=he(d,Sn),L=function(){var K;(K=h.current)==null||K.focus()};return M({id:C.labelId,htmlFor:C.toggleButtonId,onClick:Q(f,L)},$)},[C]),Z=c.useCallback(function(s,d){var f,$=s===void 0?{}:s,L=$.onMouseLeave,A=$.refKey,K=A===void 0?"ref":A,V=$.ref,E=he($,Cn),B=d===void 0?{}:d;B.suppressRefError;var F=function(){l({type:It})};return M((f={},f[K]=Ke(V,function(X){y.current=X}),f.id=C.menuId,f.role="listbox",f["aria-labelledby"]=E&&E["aria-label"]?void 0:""+C.labelId,f.onMouseLeave=Q(L,F),f),E)},[l,U,C]),b=c.useCallback(function(s,d){var f,$=s===void 0?{}:s,L=$.onBlur,A=$.onClick;$.onPress;var K=$.onKeyDown,V=$.refKey,E=V===void 0?"ref":V,B=$.ref,F=he($,$n),X=d===void 0?{}:d;X.suppressRefError;var W=x.current.state,J=function(){l({type:be})},ne=function(){W.isOpen&&!T.isMouseDown&&l({type:$e})},re=function(Y){var G=Zt(Y);G&&P[G]?P[G](Y):sn(G)&&l({type:Ce,key:G})},ue=M((f={},f[E]=Ke(B,function(ie){h.current=ie}),f["aria-activedescendant"]=W.isOpen&&W.highlightedIndex>-1?C.getItemId(W.highlightedIndex):"",f["aria-controls"]=C.menuId,f["aria-expanded"]=x.current.state.isOpen,f["aria-haspopup"]="listbox",f["aria-labelledby"]=F&&F["aria-label"]?void 0:""+C.labelId,f.id=C.toggleButtonId,f.role="combobox",f.tabIndex=0,f.onBlur=Q(L,ne),f),F);return F.disabled||(ue.onClick=Q(A,J),ue.onKeyDown=Q(K,re)),ue},[l,C,x,T,U,P]),w=c.useCallback(function(s){var d,f=s===void 0?{}:s,$=f.item,L=f.index,A=f.onMouseMove,K=f.onClick,V=f.onMouseDown;f.onPress;var E=f.refKey,B=E===void 0?"ref":E,F=f.disabled,X=f.ref,W=he(f,On);F!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var J=x.current,ne=J.state,re=J.props,ue=un($,L,re.items,"Pass either item or index to getItemProps!"),ie=ue[0],Y=ue[1],G=re.isItemDisabled(ie,Y),Tt=function(){T.isTouchEnd||Y===ne.highlightedIndex||(q.current=!1,l({type:yt,index:Y,disabled:G}))},Dt=function(){l({type:Je,index:Y})},Et=function(Mt){return Mt.preventDefault()},pe=M((d={},d[B]=Ke(X,function(de){de&&(p.current[C.getItemId(Y)]=de)}),d["aria-disabled"]=G,d["aria-selected"]=ie===ne.selectedItem,d.id=C.getItemId(Y),d.role="option",d),W);return G||(pe.onClick=Q(K,Dt)),pe.onMouseMove=Q(A,Tt),pe.onMouseDown=Q(V,Et),pe},[x,C,T,q,l]);return{getToggleButtonProps:b,getLabelProps:I,getMenuProps:Z,getItemProps:w,toggleMenu:ce,openMenu:le,closeMenu:oe,setHighlightedIndex:z,selectItem:R,reset:te,setInputValue:H,highlightedIndex:v,isOpen:g,selectedItem:m,inputValue:D}}M({},mt,{items:a.array.isRequired,isItemDisabled:a.func,inputValue:a.string,defaultInputValue:a.string,initialInputValue:a.string,inputId:a.string,onInputValueChange:a.func});M({},fe,{isItemDisabled:function(){return!1}});ye.stateReducer,ye.itemToKey,ye.environment,a.array,a.array,a.array,a.func,a.number,a.number,a.number,a.func,a.func,a.string,a.string;fe.itemToKey,fe.stateReducer,fe.environment;const Ot=c.createContext(void 0),Tn=()=>{const e=c.useContext(Ot);if(!e)throw new Error("useSelectContext must be used within a SelectProvider");return e},Dn=({children:e,value:t})=>{const{highlightedIndex:n,selectedItems:i,...r}=t,u=l=>l===n,o=l=>!!i.find(g=>g.value===l.value);return O.jsx(Ot.Provider,{value:{isItemHighlighted:u,isItemSelected:o,...r},children:e})},En=_.li`
  display: flex;

  ${({theme:e,isMulti:t,isHighlighted:n})=>`
    cursor:pointer;
    align-items: center;
    ${!t&&`padding: ${e.spacing.spacing_30} ${e.spacing.spacing_50}`};
    gap: ${t?e.spacing.spacing_30:e.spacing.spacing_20};
    background-color: ${n&&!t?e.palette.primary.light:e.palette.surface.contrast};

    color: ${e.palette.content.default};
    ${e.fontStyles.bodyMdRegular}

    & > label {
      ${t&&`padding: ${e.spacing.spacing_30} ${e.spacing.spacing_50}`};
    }
    
    &:hover,&:focus-within {
      background-color: ${e.palette.primary.light};
    }

    &[aria-disabled="true"] {
      cursor: not-allowed;
      color: ${e.palette.content.light};
      &:hover {
        background-color: ${e.palette.surface.contrast};
      }
    }
  `}
`,Mn=_.div`
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  width: 100%;

  ${({theme:e,isSelected:t})=>`
    ${e.fontStyles[t?"bodyMdBold":"bodyMdRegular"]};
  `}
`,Rn=({dataTestId:e,index:t,children:n,style:i,value:r,label:u,disabled:o})=>{const{getItemProps:l,isItemHighlighted:g,isItemSelected:v,isMulti:m}=Tn(),D={value:r,label:u,disabled:!!o},h=v(D),y=g(t),p=l({item:D,index:t});return O.jsx(En,{"aria-disabled":p["aria-disabled"],"data-testid":e,isHighlighted:y,isMulti:m,style:i,...!m&&{...p,"aria-selected":h},children:m?O.jsx(Kt,{isChecked:h,isDisabled:p["aria-disabled"],...p,children:n||u||r}):O.jsx(Mn,{isSelected:h,children:n||u||r})})},kn=_.div`
  position: relative;
  width: 100%;
`,Bn=(e,t)=>({default:t.palette.surface.default,contrast:t.palette.surface.contrast,light:t.palette.surface.light})[e],Pn=_.div`
  display: flex;
  height: auto;
  width: 100%;
  position: relative;
  flex-direction: column;
  overflow: hidden;
`,Hn=_.ul`
  list-style-type: none;
  position: absolute;
  z-index: ${Ft};
  width: 100%;
  max-height: 180px;
  overflow: auto;

  ${({isOpen:e,theme:t})=>`
    margin-top:${t.spacing.spacing_20};
    padding:  ${t.spacing.spacing_50} ${t.spacing.spacing_0};
    background-color: ${t.palette.surface.contrast};
    display: ${e?"block":"none"};
    border-radius: ${t.shape.formField};
    box-shadow: ${t.shadows.elevation_200};
  `}
`,Kn=_.div`
  display: flex;
  flex: 1;
  align-self: end;
  overflow: hidden;
`,Fn=_.div`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  ${({theme:e})=>`
    ${e.fontStyles.bodyMdRegular}
    color: ${e.palette.content.default};
  `}
`,Ln=_.div`
  transition: all 0.2s ease-in-out;
  width: 100%;
  height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;

  ${({theme:e,hasError:t,disabled:n,isOpen:i=!1,variant:r="outlined",fill:u="default"})=>`
    ${e.fontStyles.bodyMdRegular}
    color: ${n?e.palette.content.light:e.palette.content.default};
    padding: ${e.spacing.spacing_30} ${e.spacing.spacing_40};
    gap: ${e.spacing.spacing_30} ;
    background-color: ${Bn(u,e)};
    border-radius: ${e.shape.formField};
    cursor: ${n?"not-allowed":"pointer"};

    border-width: ${r==="outlined"?"1px":"0 0 1px"};
      border-color: ${i?e.palette.content.dark:e.palette.border.medium};
      border-style: solid;

      &:focus, &:hover {
        border-color: ${t?e.palette.error.default:e.palette.content.dark};
      }

      ${t&&`border-color: ${e.palette.error.default}`};
  `};
`,jn=_.div`
  display: flex;
`,An=_.div`
  ${({theme:e})=>`
    padding-left: ${e.spacing.spacing_50};
  `}
`,Vn=e=>({value:e.props.value,label:e.props.label,disabled:!!e.props.disabled}),Wn=e=>e?e.label||e.value:"",_n=({dataTestId:e,style:t,helperText:n="",hasError:i=!1,initialValue:r="",label:u,isMulti:o=!1,isRequired:l,errorMessage:g,children:v,isDisabled:m,variant:D="outlined",fill:h="default",onChange:y})=>{const[p,k]=c.useState([]),C=c.useRef(null),x=c.useCallback((b,w=!1)=>{var s;if(k(b),y&&!w)if(o){const d=b.map(f=>f.value).filter(f=>!!f);y(d)}else{const d=((s=b[0])==null?void 0:s.value)||"";y(d)}},[k,o,y]),N=b=>{b.stopPropagation(),x([])},q=i&&g?g:n,T=c.useMemo(()=>{const b=c.Children.map(v,w=>c.isValidElement(w)&&w.props.value!=null?Vn(w):null);return b?b.filter(Boolean):[]},[v]),U=c.useMemo(()=>{const b=w=>!!T.find(s=>s.value===w.value);return p.filter(b)},[T,p]);c.useEffect(()=>{const w=Array.isArray(r)?r.map(s=>T.find(d=>d.value===s)).filter(s=>!!s):T.find(s=>s.value===r);!r||!w||Array.isArray(w)&&w.length===0?x([],!0):Array.isArray(w)?x(o?w:[w[0]],!0):x([w],!0)},[o,r,T,x]),c.useEffect(()=>{T.length===1&&p.length===0&&x([T[0]]),U.length!==p.length&&x(U)},[T,p,U,x]);const{isOpen:P,closeMenu:ce,getToggleButtonProps:oe,getLabelProps:le,getMenuProps:z,highlightedIndex:R,getItemProps:te}=se({items:T,isItemDisabled(b){return!!b.disabled},itemToString:Wn,stateReducer:(b,w)=>{const{changes:s,type:d}=w;switch(d){case se.stateChangeTypes.ToggleButtonKeyDownEnter:case se.stateChangeTypes.ToggleButtonKeyDownSpaceButton:case se.stateChangeTypes.ItemClick:case se.stateChangeTypes.ToggleButtonBlur:return{...s,isOpen:o,highlightedIndex:b.highlightedIndex};default:return s}},selectedItem:null,onSelectedItemChange:({selectedItem:b})=>{let w=[];o?b?p.includes(b)?w=p.filter(s=>s!==b):w=[...p,b]:w=p:b&&(w=[b]),x(w)}}),H=!!p&&!!p.length,I=()=>p.length>1?`${p.length} options selected`:p[0].label||p[0].value;kt({ref:C,handler:()=>ce()});const Z=m||T.length===1;return O.jsx(Dn,{value:{highlightedIndex:R,getItemProps:te,selectedItems:p,isMulti:o},children:O.jsxs(kn,{"data-testid":e,ref:C,style:t,children:[O.jsx(Pn,{children:O.jsxs(Ln,{...oe({disabled:Z}),"data-testid":"select-container",fill:h,hasError:i,isOpen:P,variant:D,children:[O.jsxs(Kn,{children:[O.jsx(Pt,{...le(),hasError:i,isActive:H,isDisabled:Z,isRequired:l,children:u}),H?O.jsx(Fn,{children:I()}):null]}),O.jsxs(jn,{children:[o&&H?O.jsxs(tt,{children:[O.jsx(Bt,{onClick:N,children:O.jsx(et,{code:"close",dataTestId:"clear-selection",size:"s"})}),O.jsx(tt.Content,{children:"Clear all"})]}):null,O.jsx(et,{code:P?"expand_less":"expand_more",size:"s"})]})]})}),O.jsx(Hn,{...z(),"aria-multiselectable":o,isOpen:P,children:P?v:null}),q?O.jsx(An,{children:O.jsx(Ht,{color:i?"error.default":"content.light",element:"span",fontStyles:"bodySmRegular",children:q})}):null]})})};_n.Option=Rn;export{_n as S};
