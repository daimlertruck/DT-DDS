var Rn=Object.defineProperty;var r=(n,o)=>Rn(n,"name",{value:o,configurable:!0});import{c as _n}from"./index-CwbBKW39.js";var Ee={exports:{}};(function(n,o){(function(s,c){c(o)})(_n,(function(s){function c(e){return e.text!==void 0&&e.text!==""?`'${e.type}' with value '${e.text}'`:`'${e.type}'`}r(c,"tokenToString");const re=class re extends Error{constructor(t){super(`No parslet found for token: ${c(t)}`),this.token=t,Object.setPrototypeOf(this,re.prototype)}getToken(){return this.token}};r(re,"NoParsletFoundError");let u=re;const ae=class ae extends Error{constructor(t){super(`The parsing ended early. The next token was: ${c(t)}`),this.token=t,Object.setPrototypeOf(this,ae.prototype)}getToken(){return this.token}};r(ae,"EarlyEndOfParseError");let y=ae;const oe=class oe extends Error{constructor(t,a){let i=`Unexpected type: '${t.type}'.`;a!==void 0&&(i+=` Message: ${a}`),super(i),Object.setPrototypeOf(this,oe.prototype)}};r(oe,"UnexpectedTypeError");let m=oe;function T(e){return t=>t.startsWith(e)?{type:e,text:e}:null}r(T,"makePunctuationRule");function J(e){let t=0,a;const i=e[0];let l=!1;if(i!=="'"&&i!=='"')return null;for(;t<e.length;){if(t++,a=e[t],!l&&a===i){t++;break}l=!l&&a==="\\"}if(a!==i)throw new Error("Unterminated String");return e.slice(0,t)}r(J,"getQuoted");const k=new RegExp("[$_\\p{ID_Start}]|\\\\u\\p{Hex_Digit}{4}|\\\\u\\{0*(?:\\p{Hex_Digit}{1,5}|10\\p{Hex_Digit}{4})\\}","u"),b=new RegExp("[$\\-\\p{ID_Continue}\\u200C\\u200D]|\\\\u\\p{Hex_Digit}{4}|\\\\u\\{0*(?:\\p{Hex_Digit}{1,5}|10\\p{Hex_Digit}{4})\\}","u");function ce(e){let t=e[0];if(!k.test(t))return null;let a=1;do{if(t=e[a],!b.test(t))break;a++}while(a<e.length);return e.slice(0,a)}r(ce,"getIdentifier");const D=/^(NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity))/;function X(e){var t,a;return(a=(t=D.exec(e))===null||t===void 0?void 0:t[0])!==null&&a!==void 0?a:null}r(X,"getNumber");const Q=r(e=>{const t=ce(e);return t==null?null:{type:"Identifier",text:t}},"identifierRule");function E(e){return t=>{if(!t.startsWith(e))return null;const a=t[e.length];return a!==void 0&&b.test(a)?null:{type:e,text:e}}}r(E,"makeKeyWordRule");const le=r(e=>{const t=J(e);return t==null?null:{type:"StringValue",text:t}},"stringValueRule"),Bt=r(e=>e.length>0?null:{type:"EOF",text:""},"eofRule"),Mt=r(e=>{const t=X(e);return t===null?null:{type:"Number",text:t}},"numberRule"),Ct=[Bt,T("=>"),T("("),T(")"),T("{"),T("}"),T("["),T("]"),T("|"),T("&"),T("<"),T(">"),T(","),T(";"),T("*"),T("?"),T("!"),T("="),T(":"),T("..."),T("."),T("#"),T("~"),T("/"),T("@"),E("undefined"),E("null"),E("function"),E("this"),E("new"),E("module"),E("event"),E("extends"),E("external"),E("infer"),E("typeof"),E("keyof"),E("readonly"),E("import"),E("is"),E("in"),E("asserts"),Mt,Q,le],Yt=/^\s*\n\s*/,K=class K{static create(t){const a=this.read(t);t=a.text;const i=this.read(t);return t=i.text,new K(t,void 0,a.token,i.token)}constructor(t,a,i,l){this.text="",this.text=t,this.previous=a,this.current=i,this.next=l}static read(t,a=!1){a=a||Yt.test(t),t=t.trim();for(const i of Ct){const l=i(t);if(l!==null){const d=Object.assign(Object.assign({},l),{startOfLine:a});return t=t.slice(d.text.length),{text:t,token:d}}}throw new Error("Unexpected Token "+t)}advance(){const t=K.read(this.text);return new K(t.text,this.current,this.next,t.token)}};r(K,"Lexer");let pe=K;function P(e){if(e===void 0)throw new Error("Unexpected undefined");if(e.type==="JsdocTypeKeyValue"||e.type==="JsdocTypeParameterList"||e.type==="JsdocTypeProperty"||e.type==="JsdocTypeReadonlyProperty"||e.type==="JsdocTypeObjectField"||e.type==="JsdocTypeJsdocObjectField"||e.type==="JsdocTypeIndexSignature"||e.type==="JsdocTypeMappedType"||e.type==="JsdocTypeTypeParameter")throw new m(e);return e}r(P,"assertRootResult");function ue(e){return e.type==="JsdocTypeKeyValue"?H(e):P(e)}r(ue,"assertPlainKeyValueOrRootResult");function Gt(e){return e.type==="JsdocTypeName"?e:H(e)}r(Gt,"assertPlainKeyValueOrNameResult");function H(e){if(e.type!=="JsdocTypeKeyValue")throw new m(e);return e}r(H,"assertPlainKeyValueResult");function Wt(e){var t;if(e.type==="JsdocTypeVariadic"){if(((t=e.element)===null||t===void 0?void 0:t.type)==="JsdocTypeName")return e;throw new m(e)}if(e.type!=="JsdocTypeNumber"&&e.type!=="JsdocTypeName")throw new m(e);return e}r(Wt,"assertNumberOrVariadicNameResult");function Xt(e){if(e.type==="JsdocTypeTuple"||e.type==="JsdocTypeGeneric"&&e.meta.brackets==="square")return e;throw new m(e)}r(Xt,"assertArrayOrTupleResult");function ye(e){return e.type==="JsdocTypeIndexSignature"||e.type==="JsdocTypeMappedType"}r(ye,"isSquaredProperty");var f;(function(e){e[e.ALL=0]="ALL",e[e.PARAMETER_LIST=1]="PARAMETER_LIST",e[e.OBJECT=2]="OBJECT",e[e.KEY_VALUE=3]="KEY_VALUE",e[e.INDEX_BRACKETS=4]="INDEX_BRACKETS",e[e.UNION=5]="UNION",e[e.INTERSECTION=6]="INTERSECTION",e[e.PREFIX=7]="PREFIX",e[e.INFIX=8]="INFIX",e[e.TUPLE=9]="TUPLE",e[e.SYMBOL=10]="SYMBOL",e[e.OPTIONAL=11]="OPTIONAL",e[e.NULLABLE=12]="NULLABLE",e[e.KEY_OF_TYPE_OF=13]="KEY_OF_TYPE_OF",e[e.FUNCTION=14]="FUNCTION",e[e.ARROW=15]="ARROW",e[e.ARRAY_BRACKETS=16]="ARRAY_BRACKETS",e[e.GENERIC=17]="GENERIC",e[e.NAME_PATH=18]="NAME_PATH",e[e.PARENTHESIS=19]="PARENTHESIS",e[e.SPECIAL_TYPES=20]="SPECIAL_TYPES"})(f||(f={}));const be=class be{constructor(t,a,i){this.grammar=t,typeof a=="string"?this._lexer=pe.create(a):this._lexer=a,this.baseParser=i}get lexer(){return this._lexer}parse(){const t=this.parseType(f.ALL);if(this.lexer.current.type!=="EOF")throw new y(this.lexer.current);return t}parseType(t){return P(this.parseIntermediateType(t))}parseIntermediateType(t){const a=this.tryParslets(null,t);if(a===null)throw new u(this.lexer.current);return this.parseInfixIntermediateType(a,t)}parseInfixIntermediateType(t,a){let i=this.tryParslets(t,a);for(;i!==null;)t=i,i=this.tryParslets(t,a);return t}tryParslets(t,a){for(const i of this.grammar){const l=i(this,a,t);if(l!==null)return l}return null}consume(t){return Array.isArray(t)||(t=[t]),t.includes(this.lexer.current.type)?(this._lexer=this.lexer.advance(),!0):!1}acceptLexerState(t){this._lexer=t.lexer}};r(be,"Parser");let I=be;function Ve(e){return e==="}"||e==="EOF"||e==="|"||e===","||e===")"||e===">"}r(Ve,"isQuestionMarkUnknownType");const de=r((e,t,a)=>{const i=e.lexer.current.type,l=e.lexer.next.type;return a==null&&i==="?"&&!Ve(l)||a!=null&&i==="?"?(e.consume("?"),a==null?{type:"JsdocTypeNullable",element:e.parseType(f.NULLABLE),meta:{position:"prefix"}}:{type:"JsdocTypeNullable",element:P(a),meta:{position:"suffix"}}):null},"nullableParslet");function g(e){const t=r((a,i,l)=>{const d=a.lexer.current.type,h=a.lexer.next.type;if(l===null){if("parsePrefix"in e&&e.accept(d,h))return e.parsePrefix(a)}else if("parseInfix"in e&&e.precedence>i&&e.accept(d,h))return e.parseInfix(a,l);return null},"parslet");return Object.defineProperty(t,"name",{value:e.name}),t}r(g,"composeParslet");const z=g({name:"optionalParslet",accept:r(e=>e==="=","accept"),precedence:f.OPTIONAL,parsePrefix:r(e=>(e.consume("="),{type:"JsdocTypeOptional",element:e.parseType(f.OPTIONAL),meta:{position:"prefix"}}),"parsePrefix"),parseInfix:r((e,t)=>(e.consume("="),{type:"JsdocTypeOptional",element:P(t),meta:{position:"suffix"}}),"parseInfix")}),Z=g({name:"numberParslet",accept:r(e=>e==="Number","accept"),parsePrefix:r(e=>{const t=parseFloat(e.lexer.current.text);return e.consume("Number"),{type:"JsdocTypeNumber",value:t}},"parsePrefix")}),Qt=g({name:"parenthesisParslet",accept:r(e=>e==="(","accept"),parsePrefix:r(e=>{if(e.consume("("),e.consume(")"))return{type:"JsdocTypeParameterList",elements:[]};const t=e.parseIntermediateType(f.ALL);if(!e.consume(")"))throw new Error("Unterminated parenthesis");return t.type==="JsdocTypeParameterList"?t:t.type==="JsdocTypeKeyValue"?{type:"JsdocTypeParameterList",elements:[t]}:{type:"JsdocTypeParenthesis",element:P(t)}},"parsePrefix")}),Ht=g({name:"specialTypesParslet",accept:r((e,t)=>e==="?"&&Ve(t)||e==="null"||e==="undefined"||e==="*","accept"),parsePrefix:r(e=>{if(e.consume("null"))return{type:"JsdocTypeNull"};if(e.consume("undefined"))return{type:"JsdocTypeUndefined"};if(e.consume("*"))return{type:"JsdocTypeAny"};if(e.consume("?"))return{type:"JsdocTypeUnknown"};throw new Error("Unacceptable token: "+e.lexer.current.text)},"parsePrefix")}),zt=g({name:"notNullableParslet",accept:r(e=>e==="!","accept"),precedence:f.NULLABLE,parsePrefix:r(e=>(e.consume("!"),{type:"JsdocTypeNotNullable",element:e.parseType(f.NULLABLE),meta:{position:"prefix"}}),"parsePrefix"),parseInfix:r((e,t)=>(e.consume("!"),{type:"JsdocTypeNotNullable",element:P(t),meta:{position:"suffix"}}),"parseInfix")});function Zt({allowTrailingComma:e}){return g({name:"parameterListParslet",accept:r(t=>t===",","accept"),precedence:f.PARAMETER_LIST,parseInfix:r((t,a)=>{const i=[ue(a)];t.consume(",");do try{const l=t.parseIntermediateType(f.PARAMETER_LIST);i.push(ue(l))}catch(l){if(l instanceof u)break;throw l}while(t.consume(","));if(i.length>0&&i.slice(0,-1).some(l=>l.type==="JsdocTypeVariadic"))throw new Error("Only the last parameter may be a rest parameter");return{type:"JsdocTypeParameterList",elements:i}},"parseInfix")})}r(Zt,"createParameterListParslet");const en=g({name:"genericParslet",accept:r((e,t)=>e==="<"||e==="."&&t==="<","accept"),precedence:f.GENERIC,parseInfix:r((e,t)=>{const a=e.consume(".");e.consume("<");const i=[];let l=!1;if(e.consume("infer")){l=!0;const d=e.parseIntermediateType(f.SYMBOL);if(d.type!=="JsdocTypeName")throw new m(d,"A typescript asserts always has to have a name on the left side.");i.push(d)}else do i.push(e.parseType(f.PARAMETER_LIST));while(e.consume(","));if(!e.consume(">"))throw new Error("Unterminated generic parameter list");return Object.assign(Object.assign({type:"JsdocTypeGeneric",left:P(t),elements:i},l?{infer:!0}:{}),{meta:{brackets:"angle",dot:a}})},"parseInfix")}),tn=g({name:"unionParslet",accept:r(e=>e==="|","accept"),precedence:f.UNION,parseInfix:r((e,t)=>{e.consume("|");const a=[];do a.push(e.parseType(f.UNION));while(e.consume("|"));return{type:"JsdocTypeUnion",elements:[P(t),...a]}},"parseInfix")}),me=[de,z,Z,Qt,Ht,zt,Zt({allowTrailingComma:!0}),en,tn,z];function ee({allowSquareBracketsOnAnyType:e,allowJsdocNamePaths:t,pathGrammar:a}){return r(function(l,d,h){if(h==null||d>=f.NAME_PATH)return null;const w=l.lexer.current.type,x=l.lexer.next.type;if(!(w==="."&&x!=="<"||w==="["&&(e||h.type==="JsdocTypeName")||t&&(w==="~"||w==="#")))return null;let O,se=!1;l.consume(".")?O="property":l.consume("[")?(O="property-brackets",se=!0):l.consume("~")?O="inner":(l.consume("#"),O="instance");const Ge=a!==null?new I(a,l.lexer,l):l,A=Ge.parseIntermediateType(f.NAME_PATH);l.acceptLexerState(Ge);let M;switch(A.type){case"JsdocTypeName":M={type:"JsdocTypeProperty",value:A.value,meta:{quote:void 0}};break;case"JsdocTypeNumber":M={type:"JsdocTypeProperty",value:A.value.toString(10),meta:{quote:void 0}};break;case"JsdocTypeStringValue":M={type:"JsdocTypeProperty",value:A.value,meta:{quote:A.meta.quote}};break;case"JsdocTypeSpecialNamePath":if(A.specialType==="event")M=A;else throw new m(A,"Type 'JsdocTypeSpecialNamePath' is only allowed with specialType 'event'");break;default:throw new m(A,"Expecting 'JsdocTypeName', 'JsdocTypeNumber', 'JsdocStringValue' or 'JsdocTypeSpecialNamePath'")}if(se&&!l.consume("]")){const We=l.lexer.current;throw new Error(`Unterminated square brackets. Next token is '${We.type}' with text '${We.text}'`)}return{type:"JsdocTypeNamePath",left:P(h),right:M,pathType:O}},"namePathParslet")}r(ee,"createNamePathParslet");function R({allowedAdditionalTokens:e}){return g({name:"nameParslet",accept:r(t=>t==="Identifier"||t==="this"||t==="new"||e.includes(t),"accept"),parsePrefix:r(t=>{const{type:a,text:i}=t.lexer.current;return t.consume(a),{type:"JsdocTypeName",value:i}},"parsePrefix")})}r(R,"createNameParslet");const q=g({name:"stringValueParslet",accept:r(e=>e==="StringValue","accept"),parsePrefix:r(e=>{const t=e.lexer.current.text;return e.consume("StringValue"),{type:"JsdocTypeStringValue",value:t.slice(1,-1),meta:{quote:t[0]==="'"?"single":"double"}}},"parsePrefix")});function te({pathGrammar:e,allowedTypes:t}){return g({name:"specialNamePathParslet",accept:r(a=>t.includes(a),"accept"),parsePrefix:r(a=>{const i=a.lexer.current.type;if(a.consume(i),!a.consume(":"))return{type:"JsdocTypeName",value:i};let l,d=a.lexer.current;if(a.consume("StringValue"))l={type:"JsdocTypeSpecialNamePath",value:d.text.slice(1,-1),specialType:i,meta:{quote:d.text[0]==="'"?"single":"double"}};else{let x="";const S=["Identifier","@","/"];for(;S.some(O=>a.consume(O));)x+=d.text,d=a.lexer.current;l={type:"JsdocTypeSpecialNamePath",value:x,specialType:i,meta:{quote:void 0}}}const h=new I(e,a.lexer,a),w=h.parseInfixIntermediateType(l,f.ALL);return a.acceptLexerState(h),P(w)},"parsePrefix")})}r(te,"createSpecialNamePathParslet");const Ue=[R({allowedAdditionalTokens:["external","module"]}),q,Z,ee({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:null})],$=[...Ue,te({allowedTypes:["event"],pathGrammar:Ue})];function fe(e){let t;if(e.type==="JsdocTypeParameterList")t=e.elements;else if(e.type==="JsdocTypeParenthesis")t=[e.element];else throw new m(e);return t.map(a=>ue(a))}r(fe,"getParameters");function nn(e){const t=fe(e);if(t.some(a=>a.type==="JsdocTypeKeyValue"))throw new Error("No parameter should be named");return t}r(nn,"getUnnamedParameters");function Te({allowNamedParameters:e,allowNoReturnType:t,allowWithoutParenthesis:a,allowNewAsFunctionKeyword:i}){return g({name:"functionParslet",accept:r((l,d)=>l==="function"||i&&l==="new"&&d==="(","accept"),parsePrefix:r(l=>{const d=l.consume("new");l.consume("function");const h=l.lexer.current.type==="(";if(!h){if(!a)throw new Error("function is missing parameter list");return{type:"JsdocTypeName",value:"function"}}let w={type:"JsdocTypeFunction",parameters:[],arrow:!1,constructor:d,parenthesis:h};const x=l.parseIntermediateType(f.FUNCTION);if(e===void 0)w.parameters=nn(x);else{if(d&&x.type==="JsdocTypeFunction"&&x.arrow)return w=x,w.constructor=!0,w;w.parameters=fe(x);for(const S of w.parameters)if(S.type==="JsdocTypeKeyValue"&&!e.includes(S.key))throw new Error(`only allowed named parameters are ${e.join(", ")} but got ${S.type}`)}if(l.consume(":"))w.returnType=l.parseType(f.PREFIX);else if(!t)throw new Error("function is missing return type");return w},"parsePrefix")})}r(Te,"createFunctionParslet");function he({allowPostfix:e,allowEnclosingBrackets:t}){return g({name:"variadicParslet",accept:r(a=>a==="...","accept"),precedence:f.PREFIX,parsePrefix:r(a=>{a.consume("...");const i=t&&a.consume("[");try{const l=a.parseType(f.PREFIX);if(i&&!a.consume("]"))throw new Error("Unterminated variadic type. Missing ']'");return{type:"JsdocTypeVariadic",element:P(l),meta:{position:"prefix",squareBrackets:i}}}catch(l){if(l instanceof u){if(i)throw new Error("Empty square brackets for variadic are not allowed.");return{type:"JsdocTypeVariadic",meta:{position:void 0,squareBrackets:!1}}}else throw l}},"parsePrefix"),parseInfix:e?(a,i)=>(a.consume("..."),{type:"JsdocTypeVariadic",element:P(i),meta:{position:"suffix",squareBrackets:!1}}):void 0})}r(he,"createVariadicParslet");const $e=g({name:"symbolParslet",accept:r(e=>e==="(","accept"),precedence:f.SYMBOL,parseInfix:r((e,t)=>{if(t.type!=="JsdocTypeName")throw new Error("Symbol expects a name on the left side. (Reacting on '(')");e.consume("(");const a={type:"JsdocTypeSymbol",value:t.value};if(!e.consume(")")){const i=e.parseIntermediateType(f.SYMBOL);if(a.element=Wt(i),!e.consume(")"))throw new Error("Symbol does not end after value")}return a},"parseInfix")}),Ke=g({name:"arrayBracketsParslet",precedence:f.ARRAY_BRACKETS,accept:r((e,t)=>e==="["&&t==="]","accept"),parseInfix:r((e,t)=>(e.consume("["),e.consume("]"),{type:"JsdocTypeGeneric",left:{type:"JsdocTypeName",value:"Array"},elements:[P(t)],meta:{brackets:"square",dot:!1}}),"parseInfix")});function Je({objectFieldGrammar:e,allowKeyTypes:t}){return g({name:"objectParslet",accept:r(a=>a==="{","accept"),parsePrefix:r(a=>{a.consume("{");const i={type:"JsdocTypeObject",meta:{separator:"comma"},elements:[]};if(!a.consume("}")){let l;const d=new I(e,a.lexer,a);for(;;){d.acceptLexerState(a);let h=d.parseIntermediateType(f.OBJECT);a.acceptLexerState(d),h===void 0&&t&&(h=a.parseIntermediateType(f.OBJECT));let w=!1;if(h.type==="JsdocTypeNullable"&&(w=!0,h=h.element),h.type==="JsdocTypeNumber"||h.type==="JsdocTypeName"||h.type==="JsdocTypeStringValue"){let S;h.type==="JsdocTypeStringValue"&&(S=h.meta.quote),i.elements.push({type:"JsdocTypeObjectField",key:h.value.toString(),right:void 0,optional:w,readonly:!1,meta:{quote:S}})}else if(h.type==="JsdocTypeObjectField"||h.type==="JsdocTypeJsdocObjectField")i.elements.push(h);else throw new m(h);if(a.lexer.current.startOfLine)l="linebreak",a.consume(",")||a.consume(";");else if(a.consume(","))l="comma";else if(a.consume(";"))l="semicolon";else break;if(a.lexer.current.type==="}")break}if(i.meta.separator=l??"comma",l==="linebreak"&&(i.meta.propertyIndent="  "),!a.consume("}"))throw new Error("Unterminated record type. Missing '}'")}return i},"parsePrefix")})}r(Je,"createObjectParslet");function ge({allowSquaredProperties:e,allowKeyTypes:t,allowReadonly:a,allowOptional:i}){return g({name:"objectFieldParslet",precedence:f.KEY_VALUE,accept:r(l=>l===":","accept"),parseInfix:r((l,d)=>{var h;let w=!1,x=!1;i&&d.type==="JsdocTypeNullable"&&(w=!0,d=d.element),a&&d.type==="JsdocTypeReadonlyProperty"&&(x=!0,d=d.element);const S=(h=l.baseParser)!==null&&h!==void 0?h:l;if(S.acceptLexerState(l),d.type==="JsdocTypeNumber"||d.type==="JsdocTypeName"||d.type==="JsdocTypeStringValue"||ye(d)){if(ye(d)&&!e)throw new m(d);S.consume(":");let O;d.type==="JsdocTypeStringValue"&&(O=d.meta.quote);const se=S.parseType(f.KEY_VALUE);return l.acceptLexerState(S),{type:"JsdocTypeObjectField",key:ye(d)?d:d.value.toString(),right:se,optional:w,readonly:x,meta:{quote:O}}}else{if(!t)throw new m(d);S.consume(":");const O=S.parseType(f.KEY_VALUE);return l.acceptLexerState(S),{type:"JsdocTypeJsdocObjectField",left:P(d),right:O}}},"parseInfix")})}r(ge,"createObjectFieldParslet");function we({allowOptional:e,allowVariadic:t}){return g({name:"keyValueParslet",precedence:f.KEY_VALUE,accept:r(a=>a===":","accept"),parseInfix:r((a,i)=>{let l=!1,d=!1;if(e&&i.type==="JsdocTypeNullable"&&(l=!0,i=i.element),t&&i.type==="JsdocTypeVariadic"&&i.element!==void 0&&(d=!0,i=i.element),i.type!=="JsdocTypeName")throw new m(i);a.consume(":");const h=a.parseType(f.KEY_VALUE);return{type:"JsdocTypeKeyValue",key:i.value,right:h,optional:l,variadic:d}},"parseInfix")})}r(we,"createKeyValueParslet");const De=[...me,Te({allowWithoutParenthesis:!0,allowNamedParameters:["this","new"],allowNoReturnType:!0,allowNewAsFunctionKeyword:!1}),q,te({allowedTypes:["module","external","event"],pathGrammar:$}),he({allowEnclosingBrackets:!0,allowPostfix:!0}),R({allowedAdditionalTokens:["keyof"]}),$e,Ke,ee({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:$})],rn=[...De,Je({objectFieldGrammar:[R({allowedAdditionalTokens:["typeof","module","in"]}),ge({allowSquaredProperties:!1,allowKeyTypes:!0,allowOptional:!1,allowReadonly:!1}),...De],allowKeyTypes:!0}),we({allowOptional:!0,allowVariadic:!0})],qe=g({name:"typeOfParslet",accept:r(e=>e==="typeof","accept"),parsePrefix:r(e=>(e.consume("typeof"),{type:"JsdocTypeTypeof",element:e.parseType(f.KEY_OF_TYPE_OF)}),"parsePrefix")}),an=[R({allowedAdditionalTokens:["typeof","module","keyof","event","external","in"]}),de,z,q,Z,ge({allowSquaredProperties:!1,allowKeyTypes:!1,allowOptional:!1,allowReadonly:!1})],on=[...me,Je({allowKeyTypes:!1,objectFieldGrammar:an}),R({allowedAdditionalTokens:["event","external","in"]}),qe,Te({allowWithoutParenthesis:!1,allowNamedParameters:["this","new"],allowNoReturnType:!0,allowNewAsFunctionKeyword:!1}),he({allowEnclosingBrackets:!1,allowPostfix:!1}),R({allowedAdditionalTokens:["keyof"]}),te({allowedTypes:["module"],pathGrammar:$}),ee({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:$}),we({allowOptional:!1,allowVariadic:!1}),$e],sn=g({name:"assertsParslet",accept:r(e=>e==="asserts","accept"),parsePrefix:r(e=>{e.consume("asserts");const t=e.parseIntermediateType(f.SYMBOL);if(t.type!=="JsdocTypeName")throw new m(t,"A typescript asserts always has to have a name on the left side.");return e.consume("is")?{type:"JsdocTypeAsserts",left:t,right:P(e.parseIntermediateType(f.INFIX))}:{type:"JsdocTypeAssertsPlain",element:t}},"parsePrefix")});function cn({allowQuestionMark:e}){return g({name:"tupleParslet",accept:r(t=>t==="[","accept"),parsePrefix:r(t=>{t.consume("[");const a={type:"JsdocTypeTuple",elements:[]};if(t.consume("]"))return a;const i=t.parseIntermediateType(f.ALL);if(i.type==="JsdocTypeParameterList"?i.elements[0].type==="JsdocTypeKeyValue"?a.elements=i.elements.map(H):a.elements=i.elements.map(P):i.type==="JsdocTypeKeyValue"?a.elements=[H(i)]:a.elements=[P(i)],!t.consume("]"))throw new Error("Unterminated '['");if(a.elements.some(l=>l.type==="JsdocTypeUnknown"))throw new Error("Question mark in tuple not allowed");return a},"parsePrefix")})}r(cn,"createTupleParslet");const ln=g({name:"keyOfParslet",accept:r(e=>e==="keyof","accept"),parsePrefix:r(e=>(e.consume("keyof"),{type:"JsdocTypeKeyof",element:P(e.parseType(f.KEY_OF_TYPE_OF))}),"parsePrefix")}),pn=g({name:"importParslet",accept:r(e=>e==="import","accept"),parsePrefix:r(e=>{if(e.consume("import"),!e.consume("("))throw new Error("Missing parenthesis after import keyword");const t=e.parseType(f.PREFIX);if(t.type!=="JsdocTypeStringValue")throw new Error("Only string values are allowed as paths for imports");if(!e.consume(")"))throw new Error("Missing closing parenthesis after import keyword");return{type:"JsdocTypeImport",element:t}},"parsePrefix")}),un=g({name:"readonlyPropertyParslet",accept:r(e=>e==="readonly","accept"),parsePrefix:r(e=>(e.consume("readonly"),{type:"JsdocTypeReadonlyProperty",element:e.parseIntermediateType(f.KEY_VALUE)}),"parsePrefix")}),yn=g({name:"arrowFunctionParslet",precedence:f.ARROW,accept:r(e=>e==="=>","accept"),parseInfix:r((e,t)=>(e.consume("=>"),{type:"JsdocTypeFunction",parameters:fe(t).map(Gt),arrow:!0,constructor:!1,parenthesis:!0,returnType:e.parseType(f.OBJECT)}),"parseInfix")}),dn=g({name:"genericArrowFunctionParslet",accept:r(e=>e==="<","accept"),parsePrefix:r(e=>{const t=[];e.consume("<");do{let i,l=e.parseIntermediateType(f.SYMBOL);if(l.type==="JsdocTypeOptional"&&(l=l.element,i=e.parseType(f.SYMBOL)),l.type!=="JsdocTypeName")throw new m(l);let d;e.consume("extends")&&(d=e.parseType(f.SYMBOL),d.type==="JsdocTypeOptional"&&(d=d.element,i=e.parseType(f.SYMBOL)));const h={type:"JsdocTypeTypeParameter",name:l};if(d!==void 0&&(h.constraint=d),i!==void 0&&(h.defaultValue=i),t.push(h),e.consume(">"))break}while(e.consume(","));const a=e.parseIntermediateType(f.SYMBOL);return a.typeParameters=t,a},"parsePrefix")}),mn=g({name:"intersectionParslet",accept:r(e=>e==="&","accept"),precedence:f.INTERSECTION,parseInfix:r((e,t)=>{e.consume("&");const a=[];do a.push(e.parseType(f.INTERSECTION));while(e.consume("&"));return{type:"JsdocTypeIntersection",elements:[P(t),...a]}},"parseInfix")}),fn=g({name:"predicateParslet",precedence:f.INFIX,accept:r(e=>e==="is","accept"),parseInfix:r((e,t)=>{if(t.type!=="JsdocTypeName")throw new m(t,"A typescript predicate always has to have a name on the left side.");return e.consume("is"),{type:"JsdocTypePredicate",left:t,right:P(e.parseIntermediateType(f.INFIX))}},"parseInfix")}),Tn=g({name:"objectSquareBracketPropertyParslet",accept:r(e=>e==="[","accept"),parsePrefix:r(e=>{if(e.baseParser===void 0)throw new Error("Only allowed inside object grammar");e.consume("[");const t=e.lexer.current.text;e.consume("Identifier");let a;if(e.consume(":")){const i=e.baseParser;i.acceptLexerState(e),a={type:"JsdocTypeIndexSignature",key:t,right:i.parseType(f.INDEX_BRACKETS)},e.acceptLexerState(i)}else if(e.consume("in")){const i=e.baseParser;i.acceptLexerState(e),a={type:"JsdocTypeMappedType",key:t,right:i.parseType(f.ARRAY_BRACKETS)},e.acceptLexerState(i)}else throw new Error("Missing ':' or 'in' inside square bracketed property.");if(!e.consume("]"))throw new Error("Unterminated square brackets");return a},"parsePrefix")}),hn=g({name:"readonlyArrayParslet",accept:r(e=>e==="readonly","accept"),parsePrefix:r(e=>(e.consume("readonly"),{type:"JsdocTypeReadonlyArray",element:Xt(e.parseIntermediateType(f.ALL))}),"parsePrefix")}),Jn=g({name:"conditionalParslet",precedence:f.INFIX,accept:r(e=>e==="extends","accept"),parseInfix:r((e,t)=>{e.consume("extends");const a=e.parseType(f.KEY_OF_TYPE_OF).element,i=e.parseType(f.INFIX);return e.consume(":"),{type:"JsdocTypeConditional",checksType:P(t),extendsType:a,trueType:i,falseType:e.parseType(f.INFIX)}},"parseInfix")}),gn=[un,R({allowedAdditionalTokens:["typeof","module","keyof","event","external","in"]}),de,z,q,Z,ge({allowSquaredProperties:!0,allowKeyTypes:!1,allowOptional:!0,allowReadonly:!0}),Tn],wn=[...me,Je({allowKeyTypes:!1,objectFieldGrammar:gn}),hn,qe,ln,pn,q,Te({allowWithoutParenthesis:!0,allowNoReturnType:!1,allowNamedParameters:["this","new","args"],allowNewAsFunctionKeyword:!0}),cn({allowQuestionMark:!1}),he({allowEnclosingBrackets:!1,allowPostfix:!1}),sn,Jn,R({allowedAdditionalTokens:["event","external","in"]}),te({allowedTypes:["module"],pathGrammar:$}),Ke,yn,dn,ee({allowSquareBracketsOnAnyType:!0,allowJsdocNamePaths:!1,pathGrammar:$}),mn,fn,we({allowVariadic:!0,allowOptional:!0})];function Be(e,t){switch(t){case"closure":return new I(on,e).parse();case"jsdoc":return new I(rn,e).parse();case"typescript":return new I(wn,e).parse()}}r(Be,"parse");function Nn(e,t=["typescript","closure","jsdoc"]){let a;for(const i of t)try{return Be(e,i)}catch(l){a=l}throw a}r(Nn,"tryParse");function B(e,t){const a=e[t.type];if(a===void 0)throw new Error(`In this set of transform rules exists no rule for type ${t.type}.`);return a(t,i=>B(e,i))}r(B,"transform");function N(e){throw new Error("This transform is not available. Are you trying the correct parsing mode?")}r(N,"notAvailableTransform");function Me(e){const t={params:[]};for(const a of e.parameters)a.type==="JsdocTypeKeyValue"?a.key==="this"?t.this=a.right:a.key==="new"?t.new=a.right:t.params.push(a):t.params.push(a);return t}r(Me,"extractSpecialParams");function ne(e,t,a){return e==="prefix"?a+t:t+a}r(ne,"applyPosition");function _(e,t){switch(t){case"double":return`"${e}"`;case"single":return`'${e}'`;case void 0:return e}}r(_,"quote");function Ce(){return{JsdocTypeParenthesis:r((e,t)=>`(${e.element!==void 0?t(e.element):""})`,"JsdocTypeParenthesis"),JsdocTypeKeyof:r((e,t)=>`keyof ${t(e.element)}`,"JsdocTypeKeyof"),JsdocTypeFunction:r((e,t)=>{var a;if(e.arrow){if(e.returnType===void 0)throw new Error("Arrow function needs a return type.");let i=`${e.typeParameters!==void 0?`<${(a=e.typeParameters.map(t).join(", "))!==null&&a!==void 0?a:""}>`:""}(${e.parameters.map(t).join(", ")}) => ${t(e.returnType)}`;return e.constructor&&(i="new "+i),i}else{let i=e.constructor?"new":"function";return e.parenthesis&&(i+=`(${e.parameters.map(t).join(", ")})`,e.returnType!==void 0&&(i+=`: ${t(e.returnType)}`)),i}},"JsdocTypeFunction"),JsdocTypeName:r(e=>e.value,"JsdocTypeName"),JsdocTypeTuple:r((e,t)=>`[${e.elements.map(t).join(", ")}]`,"JsdocTypeTuple"),JsdocTypeVariadic:r((e,t)=>e.meta.position===void 0?"...":ne(e.meta.position,t(e.element),"..."),"JsdocTypeVariadic"),JsdocTypeNamePath:r((e,t)=>{const a=t(e.left),i=t(e.right);switch(e.pathType){case"inner":return`${a}~${i}`;case"instance":return`${a}#${i}`;case"property":return`${a}.${i}`;case"property-brackets":return`${a}[${i}]`}},"JsdocTypeNamePath"),JsdocTypeStringValue:r(e=>_(e.value,e.meta.quote),"JsdocTypeStringValue"),JsdocTypeAny:r(()=>"*","JsdocTypeAny"),JsdocTypeGeneric:r((e,t)=>{if(e.meta.brackets==="square"){const a=e.elements[0],i=t(a);return a.type==="JsdocTypeUnion"||a.type==="JsdocTypeIntersection"?`(${i})[]`:`${i}[]`}else return`${t(e.left)}${e.meta.dot?".":""}<${e.infer===!0?"infer ":""}${e.elements.map(t).join(", ")}>`},"JsdocTypeGeneric"),JsdocTypeImport:r((e,t)=>`import(${t(e.element)})`,"JsdocTypeImport"),JsdocTypeObjectField:r((e,t)=>{let a="";return e.readonly&&(a+="readonly "),typeof e.key=="string"?a+=_(e.key,e.meta.quote):a+=t(e.key),e.optional&&(a+="?"),e.right===void 0?a:a+`: ${t(e.right)}`},"JsdocTypeObjectField"),JsdocTypeJsdocObjectField:r((e,t)=>`${t(e.left)}: ${t(e.right)}`,"JsdocTypeJsdocObjectField"),JsdocTypeKeyValue:r((e,t)=>{let a=e.key;return e.optional&&(a+="?"),e.variadic&&(a="..."+a),e.right===void 0?a:a+`: ${t(e.right)}`},"JsdocTypeKeyValue"),JsdocTypeSpecialNamePath:r(e=>`${e.specialType}:${_(e.value,e.meta.quote)}`,"JsdocTypeSpecialNamePath"),JsdocTypeNotNullable:r((e,t)=>ne(e.meta.position,t(e.element),"!"),"JsdocTypeNotNullable"),JsdocTypeNull:r(()=>"null","JsdocTypeNull"),JsdocTypeNullable:r((e,t)=>ne(e.meta.position,t(e.element),"?"),"JsdocTypeNullable"),JsdocTypeNumber:r(e=>e.value.toString(),"JsdocTypeNumber"),JsdocTypeObject:r((e,t)=>{var a,i;return`{${(e.meta.separator==="linebreak"&&e.elements.length>1?`
`+((a=e.meta.propertyIndent)!==null&&a!==void 0?a:""):"")+e.elements.map(t).join(e.meta.separator==="comma"?", ":e.meta.separator==="linebreak"?`
`+((i=e.meta.propertyIndent)!==null&&i!==void 0?i:""):"; ")+(e.meta.separator==="linebreak"&&e.elements.length>1?`
`:"")}}`},"JsdocTypeObject"),JsdocTypeOptional:r((e,t)=>ne(e.meta.position,t(e.element),"="),"JsdocTypeOptional"),JsdocTypeSymbol:r((e,t)=>`${e.value}(${e.element!==void 0?t(e.element):""})`,"JsdocTypeSymbol"),JsdocTypeTypeof:r((e,t)=>`typeof ${t(e.element)}`,"JsdocTypeTypeof"),JsdocTypeUndefined:r(()=>"undefined","JsdocTypeUndefined"),JsdocTypeUnion:r((e,t)=>e.elements.map(t).join(" | "),"JsdocTypeUnion"),JsdocTypeUnknown:r(()=>"?","JsdocTypeUnknown"),JsdocTypeIntersection:r((e,t)=>e.elements.map(t).join(" & "),"JsdocTypeIntersection"),JsdocTypeProperty:r(e=>_(e.value,e.meta.quote),"JsdocTypeProperty"),JsdocTypePredicate:r((e,t)=>`${t(e.left)} is ${t(e.right)}`,"JsdocTypePredicate"),JsdocTypeIndexSignature:r((e,t)=>`[${e.key}: ${t(e.right)}]`,"JsdocTypeIndexSignature"),JsdocTypeMappedType:r((e,t)=>`[${e.key} in ${t(e.right)}]`,"JsdocTypeMappedType"),JsdocTypeAsserts:r((e,t)=>`asserts ${t(e.left)} is ${t(e.right)}`,"JsdocTypeAsserts"),JsdocTypeReadonlyArray:r((e,t)=>`readonly ${t(e.element)}`,"JsdocTypeReadonlyArray"),JsdocTypeAssertsPlain:r((e,t)=>`asserts ${t(e.element)}`,"JsdocTypeAssertsPlain"),JsdocTypeConditional:r((e,t)=>`${t(e.checksType)} extends ${t(e.extendsType)} ? ${t(e.trueType)} : ${t(e.falseType)}`,"JsdocTypeConditional"),JsdocTypeTypeParameter:r((e,t)=>`${t(e.name)}${e.constraint!==void 0?` extends ${t(e.constraint)}`:""}${e.defaultValue!==void 0?` = ${t(e.defaultValue)}`:""}`,"JsdocTypeTypeParameter")}}r(Ce,"stringifyRules");const Pn=Ce();function bn(e){return B(Pn,e)}r(bn,"stringify");const En=["null","true","false","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield"];function F(e){const t={type:"NameExpression",name:e};return En.includes(e)&&(t.reservedWord=!0),t}r(F,"makeName");const vn={JsdocTypeOptional:r((e,t)=>{const a=t(e.element);return a.optional=!0,a},"JsdocTypeOptional"),JsdocTypeNullable:r((e,t)=>{const a=t(e.element);return a.nullable=!0,a},"JsdocTypeNullable"),JsdocTypeNotNullable:r((e,t)=>{const a=t(e.element);return a.nullable=!1,a},"JsdocTypeNotNullable"),JsdocTypeVariadic:r((e,t)=>{if(e.element===void 0)throw new Error("dots without value are not allowed in catharsis mode");const a=t(e.element);return a.repeatable=!0,a},"JsdocTypeVariadic"),JsdocTypeAny:r(()=>({type:"AllLiteral"}),"JsdocTypeAny"),JsdocTypeNull:r(()=>({type:"NullLiteral"}),"JsdocTypeNull"),JsdocTypeStringValue:r(e=>F(_(e.value,e.meta.quote)),"JsdocTypeStringValue"),JsdocTypeUndefined:r(()=>({type:"UndefinedLiteral"}),"JsdocTypeUndefined"),JsdocTypeUnknown:r(()=>({type:"UnknownLiteral"}),"JsdocTypeUnknown"),JsdocTypeFunction:r((e,t)=>{const a=Me(e),i={type:"FunctionType",params:a.params.map(t)};return a.this!==void 0&&(i.this=t(a.this)),a.new!==void 0&&(i.new=t(a.new)),e.returnType!==void 0&&(i.result=t(e.returnType)),i},"JsdocTypeFunction"),JsdocTypeGeneric:r((e,t)=>({type:"TypeApplication",applications:e.elements.map(a=>t(a)),expression:t(e.left)}),"JsdocTypeGeneric"),JsdocTypeSpecialNamePath:r(e=>F(e.specialType+":"+_(e.value,e.meta.quote)),"JsdocTypeSpecialNamePath"),JsdocTypeName:r(e=>e.value!=="function"?F(e.value):{type:"FunctionType",params:[]},"JsdocTypeName"),JsdocTypeNumber:r(e=>F(e.value.toString()),"JsdocTypeNumber"),JsdocTypeObject:r((e,t)=>{const a={type:"RecordType",fields:[]};for(const i of e.elements)i.type!=="JsdocTypeObjectField"&&i.type!=="JsdocTypeJsdocObjectField"?a.fields.push({type:"FieldType",key:t(i),value:void 0}):a.fields.push(t(i));return a},"JsdocTypeObject"),JsdocTypeObjectField:r((e,t)=>{if(typeof e.key!="string")throw new Error("Index signatures and mapped types are not supported");return{type:"FieldType",key:F(_(e.key,e.meta.quote)),value:e.right===void 0?void 0:t(e.right)}},"JsdocTypeObjectField"),JsdocTypeJsdocObjectField:r((e,t)=>({type:"FieldType",key:t(e.left),value:t(e.right)}),"JsdocTypeJsdocObjectField"),JsdocTypeUnion:r((e,t)=>({type:"TypeUnion",elements:e.elements.map(a=>t(a))}),"JsdocTypeUnion"),JsdocTypeKeyValue:r((e,t)=>({type:"FieldType",key:F(e.key),value:e.right===void 0?void 0:t(e.right)}),"JsdocTypeKeyValue"),JsdocTypeNamePath:r((e,t)=>{const a=t(e.left);let i;e.right.type==="JsdocTypeSpecialNamePath"?i=t(e.right).name:i=_(e.right.value,e.right.meta.quote);const l=e.pathType==="inner"?"~":e.pathType==="instance"?"#":".";return F(`${a.name}${l}${i}`)},"JsdocTypeNamePath"),JsdocTypeSymbol:r(e=>{let t="",a=e.element,i=!1;return(a==null?void 0:a.type)==="JsdocTypeVariadic"&&(a.meta.position==="prefix"?t="...":i=!0,a=a.element),(a==null?void 0:a.type)==="JsdocTypeName"?t+=a.value:(a==null?void 0:a.type)==="JsdocTypeNumber"&&(t+=a.value.toString()),i&&(t+="..."),F(`${e.value}(${t})`)},"JsdocTypeSymbol"),JsdocTypeParenthesis:r((e,t)=>t(P(e.element)),"JsdocTypeParenthesis"),JsdocTypeMappedType:N,JsdocTypeIndexSignature:N,JsdocTypeImport:N,JsdocTypeKeyof:N,JsdocTypeTuple:N,JsdocTypeTypeof:N,JsdocTypeIntersection:N,JsdocTypeProperty:N,JsdocTypePredicate:N,JsdocTypeAsserts:N,JsdocTypeReadonlyArray:N,JsdocTypeAssertsPlain:N,JsdocTypeConditional:N,JsdocTypeTypeParameter:N};function kn(e){return B(vn,e)}r(kn,"catharsisTransform");function V(e){switch(e){case void 0:return"none";case"single":return"single";case"double":return"double"}}r(V,"getQuoteStyle");function Sn(e){switch(e){case"inner":return"INNER_MEMBER";case"instance":return"INSTANCE_MEMBER";case"property":return"MEMBER";case"property-brackets":return"MEMBER"}}r(Sn,"getMemberType");function Ne(e,t){return t.length===2?{type:e,left:t[0],right:t[1]}:{type:e,left:t[0],right:Ne(e,t.slice(1))}}r(Ne,"nestResults");const xn={JsdocTypeOptional:r((e,t)=>({type:"OPTIONAL",value:t(e.element),meta:{syntax:e.meta.position==="prefix"?"PREFIX_EQUAL_SIGN":"SUFFIX_EQUALS_SIGN"}}),"JsdocTypeOptional"),JsdocTypeNullable:r((e,t)=>({type:"NULLABLE",value:t(e.element),meta:{syntax:e.meta.position==="prefix"?"PREFIX_QUESTION_MARK":"SUFFIX_QUESTION_MARK"}}),"JsdocTypeNullable"),JsdocTypeNotNullable:r((e,t)=>({type:"NOT_NULLABLE",value:t(e.element),meta:{syntax:e.meta.position==="prefix"?"PREFIX_BANG":"SUFFIX_BANG"}}),"JsdocTypeNotNullable"),JsdocTypeVariadic:r((e,t)=>{const a={type:"VARIADIC",meta:{syntax:e.meta.position==="prefix"?"PREFIX_DOTS":e.meta.position==="suffix"?"SUFFIX_DOTS":"ONLY_DOTS"}};return e.element!==void 0&&(a.value=t(e.element)),a},"JsdocTypeVariadic"),JsdocTypeName:r(e=>({type:"NAME",name:e.value}),"JsdocTypeName"),JsdocTypeTypeof:r((e,t)=>({type:"TYPE_QUERY",name:t(e.element)}),"JsdocTypeTypeof"),JsdocTypeTuple:r((e,t)=>({type:"TUPLE",entries:e.elements.map(t)}),"JsdocTypeTuple"),JsdocTypeKeyof:r((e,t)=>({type:"KEY_QUERY",value:t(e.element)}),"JsdocTypeKeyof"),JsdocTypeImport:r(e=>({type:"IMPORT",path:{type:"STRING_VALUE",quoteStyle:V(e.element.meta.quote),string:e.element.value}}),"JsdocTypeImport"),JsdocTypeUndefined:r(()=>({type:"NAME",name:"undefined"}),"JsdocTypeUndefined"),JsdocTypeAny:r(()=>({type:"ANY"}),"JsdocTypeAny"),JsdocTypeFunction:r((e,t)=>{const a=Me(e),i={type:e.arrow?"ARROW":"FUNCTION",params:a.params.map(l=>{if(l.type==="JsdocTypeKeyValue"){if(l.right===void 0)throw new Error("Function parameter without ':' is not expected to be 'KEY_VALUE'");return{type:"NAMED_PARAMETER",name:l.key,typeName:t(l.right)}}else return t(l)}),new:null,returns:null};return a.this!==void 0?i.this=t(a.this):e.arrow||(i.this=null),a.new!==void 0&&(i.new=t(a.new)),e.returnType!==void 0&&(i.returns=t(e.returnType)),i},"JsdocTypeFunction"),JsdocTypeGeneric:r((e,t)=>{const a={type:"GENERIC",subject:t(e.left),objects:e.elements.map(t),meta:{syntax:e.meta.brackets==="square"?"SQUARE_BRACKET":e.meta.dot?"ANGLE_BRACKET_WITH_DOT":"ANGLE_BRACKET"}};return e.meta.brackets==="square"&&e.elements[0].type==="JsdocTypeFunction"&&!e.elements[0].parenthesis&&(a.objects[0]={type:"NAME",name:"function"}),a},"JsdocTypeGeneric"),JsdocTypeObjectField:r((e,t)=>{if(typeof e.key!="string")throw new Error("Index signatures and mapped types are not supported");if(e.right===void 0)return{type:"RECORD_ENTRY",key:e.key,quoteStyle:V(e.meta.quote),value:null,readonly:!1};let a=t(e.right);return e.optional&&(a={type:"OPTIONAL",value:a,meta:{syntax:"SUFFIX_KEY_QUESTION_MARK"}}),{type:"RECORD_ENTRY",key:e.key.toString(),quoteStyle:V(e.meta.quote),value:a,readonly:!1}},"JsdocTypeObjectField"),JsdocTypeJsdocObjectField:r(()=>{throw new Error("Keys may not be typed in jsdoctypeparser.")},"JsdocTypeJsdocObjectField"),JsdocTypeKeyValue:r((e,t)=>{if(e.right===void 0)return{type:"RECORD_ENTRY",key:e.key,quoteStyle:"none",value:null,readonly:!1};let a=t(e.right);return e.optional&&(a={type:"OPTIONAL",value:a,meta:{syntax:"SUFFIX_KEY_QUESTION_MARK"}}),{type:"RECORD_ENTRY",key:e.key,quoteStyle:"none",value:a,readonly:!1}},"JsdocTypeKeyValue"),JsdocTypeObject:r((e,t)=>{const a=[];for(const i of e.elements)(i.type==="JsdocTypeObjectField"||i.type==="JsdocTypeJsdocObjectField")&&a.push(t(i));return{type:"RECORD",entries:a}},"JsdocTypeObject"),JsdocTypeSpecialNamePath:r(e=>{if(e.specialType!=="module")throw new Error(`jsdoctypeparser does not support type ${e.specialType} at this point.`);return{type:"MODULE",value:{type:"FILE_PATH",quoteStyle:V(e.meta.quote),path:e.value}}},"JsdocTypeSpecialNamePath"),JsdocTypeNamePath:r((e,t)=>{let a=!1,i,l;e.right.type==="JsdocTypeSpecialNamePath"&&e.right.specialType==="event"?(a=!0,i=e.right.value,l=V(e.right.meta.quote)):(i=e.right.value,l=V(e.right.meta.quote));const d={type:Sn(e.pathType),owner:t(e.left),name:i,quoteStyle:l,hasEventPrefix:a};if(d.owner.type==="MODULE"){const h=d.owner;return d.owner=d.owner.value,h.value=d,h}else return d},"JsdocTypeNamePath"),JsdocTypeUnion:r((e,t)=>Ne("UNION",e.elements.map(t)),"JsdocTypeUnion"),JsdocTypeParenthesis:r((e,t)=>({type:"PARENTHESIS",value:t(P(e.element))}),"JsdocTypeParenthesis"),JsdocTypeNull:r(()=>({type:"NAME",name:"null"}),"JsdocTypeNull"),JsdocTypeUnknown:r(()=>({type:"UNKNOWN"}),"JsdocTypeUnknown"),JsdocTypeStringValue:r(e=>({type:"STRING_VALUE",quoteStyle:V(e.meta.quote),string:e.value}),"JsdocTypeStringValue"),JsdocTypeIntersection:r((e,t)=>Ne("INTERSECTION",e.elements.map(t)),"JsdocTypeIntersection"),JsdocTypeNumber:r(e=>({type:"NUMBER_VALUE",number:e.value.toString()}),"JsdocTypeNumber"),JsdocTypeSymbol:N,JsdocTypeProperty:N,JsdocTypePredicate:N,JsdocTypeMappedType:N,JsdocTypeIndexSignature:N,JsdocTypeAsserts:N,JsdocTypeReadonlyArray:N,JsdocTypeAssertsPlain:N,JsdocTypeConditional:N,JsdocTypeTypeParameter:N};function On(e){return B(xn,e)}r(On,"jtpTransform");function An(){return{JsdocTypeIntersection:r((e,t)=>({type:"JsdocTypeIntersection",elements:e.elements.map(t)}),"JsdocTypeIntersection"),JsdocTypeGeneric:r((e,t)=>({type:"JsdocTypeGeneric",left:t(e.left),elements:e.elements.map(t),meta:{dot:e.meta.dot,brackets:e.meta.brackets}}),"JsdocTypeGeneric"),JsdocTypeNullable:r(e=>e,"JsdocTypeNullable"),JsdocTypeUnion:r((e,t)=>({type:"JsdocTypeUnion",elements:e.elements.map(t)}),"JsdocTypeUnion"),JsdocTypeUnknown:r(e=>e,"JsdocTypeUnknown"),JsdocTypeUndefined:r(e=>e,"JsdocTypeUndefined"),JsdocTypeTypeof:r((e,t)=>({type:"JsdocTypeTypeof",element:t(e.element)}),"JsdocTypeTypeof"),JsdocTypeSymbol:r((e,t)=>{const a={type:"JsdocTypeSymbol",value:e.value};return e.element!==void 0&&(a.element=t(e.element)),a},"JsdocTypeSymbol"),JsdocTypeOptional:r((e,t)=>({type:"JsdocTypeOptional",element:t(e.element),meta:{position:e.meta.position}}),"JsdocTypeOptional"),JsdocTypeObject:r((e,t)=>({type:"JsdocTypeObject",meta:{separator:"comma"},elements:e.elements.map(t)}),"JsdocTypeObject"),JsdocTypeNumber:r(e=>e,"JsdocTypeNumber"),JsdocTypeNull:r(e=>e,"JsdocTypeNull"),JsdocTypeNotNullable:r((e,t)=>({type:"JsdocTypeNotNullable",element:t(e.element),meta:{position:e.meta.position}}),"JsdocTypeNotNullable"),JsdocTypeSpecialNamePath:r(e=>e,"JsdocTypeSpecialNamePath"),JsdocTypeObjectField:r((e,t)=>({type:"JsdocTypeObjectField",key:e.key,right:e.right===void 0?void 0:t(e.right),optional:e.optional,readonly:e.readonly,meta:e.meta}),"JsdocTypeObjectField"),JsdocTypeJsdocObjectField:r((e,t)=>({type:"JsdocTypeJsdocObjectField",left:t(e.left),right:t(e.right)}),"JsdocTypeJsdocObjectField"),JsdocTypeKeyValue:r((e,t)=>({type:"JsdocTypeKeyValue",key:e.key,right:e.right===void 0?void 0:t(e.right),optional:e.optional,variadic:e.variadic}),"JsdocTypeKeyValue"),JsdocTypeImport:r((e,t)=>({type:"JsdocTypeImport",element:t(e.element)}),"JsdocTypeImport"),JsdocTypeAny:r(e=>e,"JsdocTypeAny"),JsdocTypeStringValue:r(e=>e,"JsdocTypeStringValue"),JsdocTypeNamePath:r(e=>e,"JsdocTypeNamePath"),JsdocTypeVariadic:r((e,t)=>{const a={type:"JsdocTypeVariadic",meta:{position:e.meta.position,squareBrackets:e.meta.squareBrackets}};return e.element!==void 0&&(a.element=t(e.element)),a},"JsdocTypeVariadic"),JsdocTypeTuple:r((e,t)=>({type:"JsdocTypeTuple",elements:e.elements.map(t)}),"JsdocTypeTuple"),JsdocTypeName:r(e=>e,"JsdocTypeName"),JsdocTypeFunction:r((e,t)=>{const a={type:"JsdocTypeFunction",arrow:e.arrow,parameters:e.parameters.map(t),constructor:e.constructor,parenthesis:e.parenthesis};return e.returnType!==void 0&&(a.returnType=t(e.returnType)),a},"JsdocTypeFunction"),JsdocTypeKeyof:r((e,t)=>({type:"JsdocTypeKeyof",element:t(e.element)}),"JsdocTypeKeyof"),JsdocTypeParenthesis:r((e,t)=>({type:"JsdocTypeParenthesis",element:t(e.element)}),"JsdocTypeParenthesis"),JsdocTypeProperty:r(e=>e,"JsdocTypeProperty"),JsdocTypePredicate:r((e,t)=>({type:"JsdocTypePredicate",left:t(e.left),right:t(e.right)}),"JsdocTypePredicate"),JsdocTypeIndexSignature:r((e,t)=>({type:"JsdocTypeIndexSignature",key:e.key,right:t(e.right)}),"JsdocTypeIndexSignature"),JsdocTypeMappedType:r((e,t)=>({type:"JsdocTypeMappedType",key:e.key,right:t(e.right)}),"JsdocTypeMappedType"),JsdocTypeAsserts:r((e,t)=>({type:"JsdocTypeAsserts",left:t(e.left),right:t(e.right)}),"JsdocTypeAsserts"),JsdocTypeReadonlyArray:r((e,t)=>({type:"JsdocTypeReadonlyArray",element:t(e.element)}),"JsdocTypeReadonlyArray"),JsdocTypeAssertsPlain:r((e,t)=>({type:"JsdocTypeAssertsPlain",element:t(e.element)}),"JsdocTypeAssertsPlain"),JsdocTypeConditional:r((e,t)=>({type:"JsdocTypeConditional",checksType:t(e.checksType),extendsType:t(e.extendsType),trueType:t(e.trueType),falseType:t(e.falseType)}),"JsdocTypeConditional"),JsdocTypeTypeParameter:r((e,t)=>({type:"JsdocTypeTypeParameter",name:t(e.name),constraint:e.constraint!==void 0?t(e.constraint):void 0,defaultValue:e.defaultValue!==void 0?t(e.defaultValue):void 0}),"JsdocTypeTypeParameter")}}r(An,"identityTransformRules");const Ye={JsdocTypeAny:[],JsdocTypeFunction:["parameters","returnType"],JsdocTypeGeneric:["left","elements"],JsdocTypeImport:[],JsdocTypeIndexSignature:["right"],JsdocTypeIntersection:["elements"],JsdocTypeKeyof:["element"],JsdocTypeKeyValue:["right"],JsdocTypeMappedType:["right"],JsdocTypeName:[],JsdocTypeNamePath:["left","right"],JsdocTypeNotNullable:["element"],JsdocTypeNull:[],JsdocTypeNullable:["element"],JsdocTypeNumber:[],JsdocTypeObject:["elements"],JsdocTypeObjectField:["right"],JsdocTypeJsdocObjectField:["left","right"],JsdocTypeOptional:["element"],JsdocTypeParenthesis:["element"],JsdocTypeSpecialNamePath:[],JsdocTypeStringValue:[],JsdocTypeSymbol:["element"],JsdocTypeTuple:["elements"],JsdocTypeTypeof:["element"],JsdocTypeUndefined:[],JsdocTypeUnion:["elements"],JsdocTypeUnknown:[],JsdocTypeVariadic:["element"],JsdocTypeProperty:[],JsdocTypePredicate:["left","right"],JsdocTypeAsserts:["left","right"],JsdocTypeReadonlyArray:["element"],JsdocTypeAssertsPlain:["element"],JsdocTypeConditional:["checksType","extendsType","trueType","falseType"],JsdocTypeTypeParameter:["name","constraint","defaultValue"]};function Pe(e,t,a,i,l){i==null||i(e,t,a);const d=Ye[e.type];for(const h of d){const w=e[h];if(w!==void 0)if(Array.isArray(w))for(const x of w)Pe(x,e,h,i,l);else Pe(w,e,h,i,l)}l==null||l(e,t,a)}r(Pe,"_traverse");function In(e,t,a){Pe(e,void 0,void 0,t,a)}r(In,"traverse"),s.catharsisTransform=kn,s.identityTransformRules=An,s.jtpTransform=On,s.parse=Be,s.stringify=bn,s.stringifyRules=Ce,s.transform=B,s.traverse=In,s.tryParse=Nn,s.visitorKeys=Ye}))})(Ee,Ee.exports);var ve=Ee.exports,Fn=Object.defineProperty,p=r((n,o)=>Fn(n,"name",{value:o,configurable:!0}),"o");const{UnknownArgTypesError:Ln}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;var jn=p(n=>n.name==="literal","isLiteral"),Vn=p(n=>n.value.replace(/['|"]/g,""),"toEnumOption"),Un=p(n=>{switch(n.type){case"function":return{name:"function"};case"object":let o={};return n.signature.properties.forEach(s=>{o[s.key]=Y(s.value)}),{name:"object",value:o};default:throw new Ln({type:n,language:"Flow"})}},"convertSig"),Y=p(n=>{var u,y,m,T;let{name:o,raw:s}=n,c={};switch(typeof s<"u"&&(c.raw=s),n.name){case"literal":return{...c,name:"other",value:n.value};case"string":case"number":case"symbol":case"boolean":return{...c,name:o};case"Array":return{...c,name:"array",value:n.elements.map(Y)};case"signature":return{...c,...Un(n)};case"union":return(u=n.elements)!=null&&u.every(jn)?{...c,name:"enum",value:(y=n.elements)==null?void 0:y.map(Vn)}:{...c,name:o,value:(m=n.elements)==null?void 0:m.map(Y)};case"intersection":return{...c,name:o,value:(T=n.elements)==null?void 0:T.map(Y)};default:return{...c,name:"other",value:o}}},"convert");function Xe(n,o){let s={},c=Object.keys(n);for(let u=0;u<c.length;u++){let y=c[u],m=n[y];s[y]=o(m,y,n)}return s}r(Xe,"j");p(Xe,"mapValues");var Qe=/^['"]|['"]$/g,$n=p(n=>n.replace(Qe,""),"trimQuotes"),Kn=p(n=>Qe.test(n),"includesQuotes"),He=p(n=>{let o=$n(n);return Kn(n)||Number.isNaN(Number(o))?o:Number(o)},"parseLiteral"),Dn=/^\(.*\) => /,C=p(n=>{let{name:o,raw:s,computed:c,value:u}=n,y={};switch(typeof s<"u"&&(y.raw=s),o){case"enum":{let T=c?u:u.map(J=>He(J.value));return{...y,name:o,value:T}}case"string":case"number":case"symbol":return{...y,name:o};case"func":return{...y,name:"function"};case"bool":case"boolean":return{...y,name:"boolean"};case"arrayOf":case"array":return{...y,name:"array",value:u&&C(u)};case"object":return{...y,name:o};case"objectOf":return{...y,name:o,value:C(u)};case"shape":case"exact":let m=Xe(u,T=>C(T));return{...y,name:"object",value:m};case"union":return{...y,name:"union",value:u.map(T=>C(T))};case"instanceOf":case"element":case"elementType":default:{if((o==null?void 0:o.indexOf("|"))>0)try{let k=o.split("|").map(b=>JSON.parse(b));return{...y,name:"enum",value:k}}catch{}let T=u?`${o}(${u})`:o,J=Dn.test(o)?"function":"other";return{...y,name:J,value:T}}}},"convert");const{UnknownArgTypesError:qn}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;var Bn=p(n=>{switch(n.type){case"function":return{name:"function"};case"object":let o={};return n.signature.properties.forEach(s=>{o[s.key]=G(s.value)}),{name:"object",value:o};default:throw new qn({type:n,language:"Typescript"})}},"convertSig"),G=p(n=>{var u,y,m,T;let{name:o,raw:s}=n,c={};switch(typeof s<"u"&&(c.raw=s),n.name){case"string":case"number":case"symbol":case"boolean":return{...c,name:o};case"Array":return{...c,name:"array",value:n.elements.map(G)};case"signature":return{...c,...Bn(n)};case"union":let J;return(u=n.elements)!=null&&u.every(k=>k.name==="literal")?J={...c,name:"enum",value:(y=n.elements)==null?void 0:y.map(k=>He(k.value))}:J={...c,name:o,value:(m=n.elements)==null?void 0:m.map(G)},J;case"intersection":return{...c,name:o,value:(T=n.elements)==null?void 0:T.map(G)};default:return{...c,name:"other",value:o}}},"convert"),ke=p(n=>{let{type:o,tsType:s,flowType:c}=n;try{if(o!=null)return C(o);if(s!=null)return G(s);if(c!=null)return Y(c)}catch(u){console.error(u)}return null},"convert"),Mn=(n=>(n.JAVASCRIPT="JavaScript",n.FLOW="Flow",n.TYPESCRIPT="TypeScript",n.UNKNOWN="Unknown",n))(Mn||{}),Cn=["null","undefined"];function ie(n){return Cn.some(o=>o===n)}r(ie,"T");p(ie,"isDefaultValueBlacklisted");var Yn=p(n=>{if(!n)return"";if(typeof n=="string")return n;throw new Error(`Description: expected string, got: ${JSON.stringify(n)}`)},"str");function Se(n){return!!n.__docgenInfo}r(Se,"z");p(Se,"hasDocgen");function ze(n){return n!=null&&Object.keys(n).length>0}r(ze,"$");p(ze,"isValidDocgenSection");function Ze(n,o){return Se(n)?n.__docgenInfo[o]:null}r(Ze,"Y");p(Ze,"getDocgenSection");function et(n){return Se(n)?Yn(n.__docgenInfo.description):""}r(et,"q");p(et,"getDocgenDescription");var L;(function(n){n.start="/**",n.nostart="/***",n.delim="*",n.end="*/"})(L=L||(L={}));function tt(n){return/^\s+$/.test(n)}r(tt,"k");p(tt,"isSpace");function nt(n){let o=n.match(/\r+$/);return o==null?["",n]:[n.slice(-o[0].length),n.slice(0,-o[0].length)]}r(nt,"G");p(nt,"splitCR");function U(n){let o=n.match(/^\s+/);return o==null?["",n]:[n.slice(0,o[0].length),n.slice(o[0].length)]}r(U,"y");p(U,"splitSpace");function rt(n){return n.split(/\n/)}r(rt,"K");p(rt,"splitLines");function at(n={}){return Object.assign({tag:"",name:"",type:"",optional:!1,description:"",problems:[],source:[]},n)}r(at,"X");p(at,"seedSpec");function ot(n={}){return Object.assign({start:"",delimiter:"",postDelimiter:"",tag:"",postTag:"",name:"",postName:"",type:"",postType:"",description:"",end:"",lineEnd:""},n)}r(ot,"F");p(ot,"seedTokens");var Gn=/^@\S+/;function st({fence:n="```"}={}){let o=it(n),s=p((c,u)=>o(c)?!u:u,"toggleFence");return p(function(c){let u=[[]],y=!1;for(let m of c)Gn.test(m.tokens.description)&&!y?u.push([m]):u[u.length-1].push(m),y=s(m.tokens.description,y);return u},"parseBlock")}r(st,"J");p(st,"getParser");function it(n){return typeof n=="string"?o=>o.split(n).length%2===0:n}r(it,"Je");p(it,"getFencer");function ct({startLine:n=0,markers:o=L}={}){let s=null,c=n;return p(function(u){let y=u,m=ot();if([m.lineEnd,y]=nt(y),[m.start,y]=U(y),s===null&&y.startsWith(o.start)&&!y.startsWith(o.nostart)&&(s=[],m.delimiter=y.slice(0,o.start.length),y=y.slice(o.start.length),[m.postDelimiter,y]=U(y)),s===null)return c++,null;let T=y.trimRight().endsWith(o.end);if(m.delimiter===""&&y.startsWith(o.delim)&&!y.startsWith(o.end)&&(m.delimiter=o.delim,y=y.slice(o.delim.length),[m.postDelimiter,y]=U(y)),T){let J=y.trimRight();m.end=y.slice(J.length-o.end.length),y=J.slice(0,-o.end.length)}if(m.description=y,s.push({number:c,source:u,tokens:m}),c++,T){let J=s.slice();return s=null,J}return null},"parseSource")}r(ct,"N");p(ct,"getParser");function lt({tokenizers:n}){return p(function(o){var s;let c=at({source:o});for(let u of n)if(c=u(c),!((s=c.problems[c.problems.length-1])===null||s===void 0)&&s.critical)break;return c},"parseSpec")}r(lt,"R");p(lt,"getParser");function pt(){return n=>{let{tokens:o}=n.source[0],s=o.description.match(/\s*(@(\S+))(\s*)/);return s===null?(n.problems.push({code:"spec:tag:prefix",message:'tag should start with "@" symbol',line:n.source[0].number,critical:!0}),n):(o.tag=s[1],o.postTag=s[3],o.description=o.description.slice(s[0].length),n.tag=s[2],n)}}r(pt,"P");p(pt,"tagTokenizer");function ut(n="compact"){let o=yt(n);return s=>{let c=0,u=[];for(let[T,{tokens:J}]of s.source.entries()){let k="";if(T===0&&J.description[0]!=="{")return s;for(let b of J.description)if(b==="{"&&c++,b==="}"&&c--,k+=b,c===0)break;if(u.push([J,k]),c===0)break}if(c!==0)return s.problems.push({code:"spec:type:unpaired-curlies",message:"unpaired curlies",line:s.source[0].number,critical:!0}),s;let y=[],m=u[0][0].postDelimiter.length;for(let[T,[J,k]]of u.entries())J.type=k,T>0&&(J.type=J.postDelimiter.slice(m)+k,J.postDelimiter=J.postDelimiter.slice(0,m)),[J.postType,J.description]=U(J.description.slice(k.length)),y.push(J.type);return y[0]=y[0].slice(1),y[y.length-1]=y[y.length-1].slice(0,-1),s.type=o(y),s}}r(ut,"S");p(ut,"typeTokenizer");var Wn=p(n=>n.trim(),"trim");function yt(n){return n==="compact"?o=>o.map(Wn).join(""):n==="preserve"?o=>o.join(`
`):n}r(yt,"Re");p(yt,"getJoiner");var Xn=p(n=>n&&n.startsWith('"')&&n.endsWith('"'),"isQuoted");function dt(){let n=p((o,{tokens:s},c)=>s.type===""?o:c,"typeEnd");return o=>{let{tokens:s}=o.source[o.source.reduce(n,0)],c=s.description.trimLeft(),u=c.split('"');if(u.length>1&&u[0]===""&&u.length%2===1)return o.name=u[1],s.name=`"${u[1]}"`,[s.postName,s.description]=U(c.slice(s.name.length)),o;let y=0,m="",T=!1,J;for(let b of c){if(y===0&&tt(b))break;b==="["&&y++,b==="]"&&y--,m+=b}if(y!==0)return o.problems.push({code:"spec:name:unpaired-brackets",message:"unpaired brackets",line:o.source[0].number,critical:!0}),o;let k=m;if(m[0]==="["&&m[m.length-1]==="]"){T=!0,m=m.slice(1,-1);let b=m.split("=");if(m=b[0].trim(),b[1]!==void 0&&(J=b.slice(1).join("=").trim()),m==="")return o.problems.push({code:"spec:name:empty-name",message:"empty name",line:o.source[0].number,critical:!0}),o;if(J==="")return o.problems.push({code:"spec:name:empty-default",message:"empty default value",line:o.source[0].number,critical:!0}),o;if(!Xn(J)&&/=(?!>)/.test(J))return o.problems.push({code:"spec:name:invalid-default",message:"invalid default value syntax",line:o.source[0].number,critical:!0}),o}return o.optional=T,o.name=m,s.name=k,J!==void 0&&(o.default=J),[s.postName,s.description]=U(c.slice(s.name.length)),o}}r(dt,"O");p(dt,"nameTokenizer");function mt(n="compact",o=L){let s=xe(n);return c=>(c.description=s(c.source,o),c)}r(mt,"v");p(mt,"descriptionTokenizer");function xe(n){return n==="compact"?ft:n==="preserve"?Tt:n}r(xe,"A");p(xe,"getJoiner");function ft(n,o=L){return n.map(({tokens:{description:s}})=>s.trim()).filter(s=>s!=="").join(" ")}r(ft,"Ve");p(ft,"compactJoiner");var Qn=p((n,{tokens:o},s)=>o.type===""?n:s,"lineNo"),Hn=p(({tokens:n})=>(n.delimiter===""?n.start:n.postDelimiter.slice(1))+n.description,"getDescription");function Tt(n,o=L){if(n.length===0)return"";n[0].tokens.description===""&&n[0].tokens.delimiter===o.start&&(n=n.slice(1));let s=n[n.length-1];return s!==void 0&&s.tokens.description===""&&s.tokens.end.endsWith(o.end)&&(n=n.slice(0,-1)),n=n.slice(n.reduce(Qn,0)),n.map(Hn).join(`
`)}r(Tt,"Be");p(Tt,"preserveJoiner");function ht({startLine:n=0,fence:o="```",spacing:s="compact",markers:c=L,tokenizers:u=[pt(),ut(s),dt(),mt(s)]}={}){if(n<0||n%1>0)throw new Error("Invalid startLine");let y=ct({startLine:n,markers:c}),m=st({fence:o}),T=lt({tokenizers:u}),J=xe(s);return function(k){let b=[];for(let ce of rt(k)){let D=y(ce);if(D===null)continue;let X=m(D),Q=X.slice(1).map(T);b.push({description:J(X[0],c),tags:Q,source:D,problems:Q.reduce((E,le)=>E.concat(le.problems),[])})}return b}}r(ht,"V");p(ht,"getParser");function Jt(n){return n.start+n.delimiter+n.postDelimiter+n.tag+n.postTag+n.type+n.postType+n.name+n.postName+n.description+n.end+n.lineEnd}r(Jt,"Ie");p(Jt,"join");function zn(){return n=>n.source.map(({tokens:o})=>Jt(o)).join(`
`)}r(zn,"C");p(zn,"getStringifier");function gt(n,o={}){return ht(o)(n)}r(gt,"H");p(gt,"parse");function wt(n){return n!=null&&n.includes("@")}r(wt,"ze");p(wt,"containsJsDoc");function Nt(n){let o=`/**
`+(n??"").split(`
`).map(c=>` * ${c}`).join(`
`)+`
*/`,s=gt(o,{spacing:"preserve"});if(!s||s.length===0)throw new Error("Cannot parse JSDoc tags.");return s[0]}r(Nt,"$e");p(Nt,"parse");var Zn={tags:["param","arg","argument","returns","ignore","deprecated"]},er=p((n,o=Zn)=>{if(!wt(n))return{includesJsDoc:!1,ignore:!1};let s=Nt(n),c=Pt(s,o.tags);return c.ignore?{includesJsDoc:!0,ignore:!0}:{includesJsDoc:!0,ignore:!1,description:s.description.trim(),extractedTags:c}},"parseJsDoc");function Pt(n,o){let s={params:null,deprecated:null,returns:null,ignore:!1};for(let c of n.tags)if(!(o!==void 0&&!o.includes(c.tag)))if(c.tag==="ignore"){s.ignore=!0;break}else switch(c.tag){case"param":case"arg":case"argument":{let u=Et(c);u!=null&&(s.params==null&&(s.params=[]),s.params.push(u));break}case"deprecated":{let u=vt(c);u!=null&&(s.deprecated=u);break}case"returns":{let u=kt(c);u!=null&&(s.returns=u);break}}return s}r(Pt,"qe");p(Pt,"extractJsDocTags");function bt(n){return n.replace(/[\.-]$/,"")}r(bt,"Ge");p(bt,"normaliseParamName");function Et(n){if(!n.name||n.name==="-")return null;let o=Ie(n.type);return{name:n.name,type:o,description:Ae(n.description),getPrettyName:p(()=>bt(n.name),"getPrettyName"),getTypeName:p(()=>o?Re(o):null,"getTypeName")}}r(Et,"Ke");p(Et,"extractParam");function vt(n){return n.name?Oe(n.name,n.description):null}r(vt,"Xe");p(vt,"extractDeprecated");function Oe(n,o){let s=n===""?o:`${n} ${o}`;return Ae(s)}r(Oe,"Z");p(Oe,"joinNameAndDescription");function Ae(n){let o=n.replace(/^- /g,"").trim();return o===""?null:o}r(Ae,"ee");p(Ae,"normaliseDescription");function kt(n){let o=Ie(n.type);return o?{type:o,description:Oe(n.name,n.description),getTypeName:p(()=>Re(o),"getTypeName")}:null}r(kt,"He");p(kt,"extractReturns");var j=ve.stringifyRules(),tr=j.JsdocTypeObject;j.JsdocTypeAny=()=>"any";j.JsdocTypeObject=(n,o)=>`(${tr(n,o)})`;j.JsdocTypeOptional=(n,o)=>o(n.element);j.JsdocTypeNullable=(n,o)=>o(n.element);j.JsdocTypeNotNullable=(n,o)=>o(n.element);j.JsdocTypeUnion=(n,o)=>n.elements.map(o).join("|");function Ie(n){try{return ve.parse(n,"typescript")}catch{return null}}r(Ie,"te");p(Ie,"extractType");function Re(n){return ve.transform(j,n)}r(Re,"re");p(Re,"extractTypeName");function _e(n){return n.length>90}r(_e,"B");p(_e,"isTooLongForTypeSummary");function St(n){return n.length>50}r(St,"oe");p(St,"isTooLongForDefaultValueSummary");function v(n,o){return n===o?{summary:n}:{summary:n,detail:o}}r(v,"l");p(v,"createSummaryValue");function xt(n,o){if(n!=null){let{value:s}=n;if(!ie(s))return St(s)?v(o==null?void 0:o.name,s):v(s)}return null}r(xt,"ne");p(xt,"createDefaultValue");function Fe({name:n,value:o,elements:s,raw:c}){return o??(s!=null?s.map(Fe).join(" | "):c??n)}r(Fe,"se");p(Fe,"generateUnionElement");function Ot({name:n,raw:o,elements:s}){return s!=null?v(s.map(Fe).join(" | ")):o!=null?v(o.replace(/^\|\s*/,"")):v(n)}r(Ot,"Ze");p(Ot,"generateUnion");function At({type:n,raw:o}){return o!=null?v(o):v(n)}r(At,"et");p(At,"generateFuncSignature");function It({type:n,raw:o}){return o!=null?_e(o)?v(n,o):v(o):v(n)}r(It,"tt");p(It,"generateObjectSignature");function Rt(n){let{type:o}=n;return o==="object"?It(n):At(n)}r(Rt,"rt");p(Rt,"generateSignature");function _t({name:n,raw:o}){return o!=null?_e(o)?v(n,o):v(o):v(n)}r(_t,"ot");p(_t,"generateDefault");function Ft(n){if(n==null)return null;switch(n.name){case"union":return Ot(n);case"signature":return Rt(n);default:return _t(n)}}r(Ft,"ie");p(Ft,"createType");var nr=p((n,o)=>{let{flowType:s,description:c,required:u,defaultValue:y}=o;return{name:n,type:Ft(s),required:u,description:c,defaultValue:xt(y??null,s??null)}},"createFlowPropDef");function Lt({defaultValue:n}){if(n!=null){let{value:o}=n;if(!ie(o))return v(o)}return null}r(Lt,"ae");p(Lt,"createDefaultValue");function jt({tsType:n,required:o}){if(n==null)return null;let s=n.name;return o||(s=s.replace(" | undefined","")),v(["Array","Record","signature"].includes(n.name)?n.raw:s)}r(jt,"ce");p(jt,"createType");var rr=p((n,o)=>{let{description:s,required:c}=o;return{name:n,type:jt(o),required:c,description:s,defaultValue:Lt(o)}},"createTsPropDef");function Vt(n){return n!=null?v(n.name):null}r(Vt,"nt");p(Vt,"createType");function Ut(n){let{computed:o,func:s}=n;return typeof o>"u"&&typeof s>"u"}r(Ut,"st");p(Ut,"isReactDocgenTypescript");function $t(n){return n?n.name==="string"?!0:n.name==="enum"?Array.isArray(n.value)&&n.value.every(({value:o})=>typeof o=="string"&&o[0]==='"'&&o[o.length-1]==='"'):!1:!1}r($t,"it");p($t,"isStringValued");function Kt(n,o){if(n!=null){let{value:s}=n;if(!ie(s))return Ut(n)&&$t(o)?v(JSON.stringify(s)):v(s)}return null}r(Kt,"pt");p(Kt,"createDefaultValue");function Le(n,o,s){let{description:c,required:u,defaultValue:y}=s;return{name:n,type:Vt(o),required:u,description:c,defaultValue:Kt(y,o)}}r(Le,"ue");p(Le,"createBasicPropDef");function W(n,o){var s;if(o!=null&&o.includesJsDoc){let{description:c,extractedTags:u}=o;c!=null&&(n.description=o.description);let y={...u,params:(s=u==null?void 0:u.params)==null?void 0:s.map(m=>({name:m.getPrettyName(),description:m.description}))};Object.values(y).filter(Boolean).length>0&&(n.jsDocTags=y)}return n}r(W,"w");p(W,"applyJsDocResult");var ar=p((n,o,s)=>{let c=Le(n,o.type,o);return c.sbType=ke(o),W(c,s)},"javaScriptFactory"),or=p((n,o,s)=>{let c=rr(n,o);return c.sbType=ke(o),W(c,s)},"tsFactory"),sr=p((n,o,s)=>{let c=nr(n,o);return c.sbType=ke(o),W(c,s)},"flowFactory"),ir=p((n,o,s)=>{let c=Le(n,{name:"unknown"},o);return W(c,s)},"unknownFactory"),Dt=p(n=>{switch(n){case"JavaScript":return ar;case"TypeScript":return or;case"Flow":return sr;default:return ir}},"getPropDefFactory"),qt=p(n=>n.type!=null?"JavaScript":n.flowType!=null?"Flow":n.tsType!=null?"TypeScript":"Unknown","getTypeSystem"),cr=p(n=>{let o=qt(n[0]),s=Dt(o);return n.map(c=>{var y;let u=c;return(y=c.type)!=null&&y.elements&&(u={...c,type:{...c.type,value:c.type.elements}}),je(u.name,u,o,s)})},"extractComponentSectionArray"),lr=p(n=>{let o=Object.keys(n),s=qt(n[o[0]]),c=Dt(s);return o.map(u=>{let y=n[u];return y!=null?je(u,y,s,c):null}).filter(Boolean)},"extractComponentSectionObject"),Tr=p((n,o)=>{let s=Ze(n,o);return ze(s)?Array.isArray(s)?cr(s):lr(s):[]},"extractComponentProps");function je(n,o,s,c){let u=er(o.description);return u.includesJsDoc&&u.ignore?null:{propDef:c(n,o,u),jsDocTags:u.extractedTags,docgenInfo:o,typeSystem:s}}r(je,"fe");p(je,"extractProp");function pr(n){return n!=null?et(n):""}r(pr,"nn");p(pr,"extractComponentDescription");const{combineParameters:ur}=__STORYBOOK_MODULE_PREVIEW_API__;var hr=p(n=>{let{component:o,argTypes:s,parameters:{docs:c={}}}=n,{extractArgTypes:u}=c,y=u&&o?u(o):{};return y?ur(y,s):s},"enhanceArgTypes"),yr="storybook/docs",Jr=`${yr}/snippet-rendered`,dr=(n=>(n.AUTO="auto",n.CODE="code",n.DYNAMIC="dynamic",n))(dr||{});export{_e as B,Ze as Y,St as a,hr as c,dr as g,Mn as j,v as l,pr as n,Tr as o,Jr as y,Se as z};
