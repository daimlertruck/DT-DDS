import{j as c}from"./jsx-runtime-DMAvRu52.js";import{T as v}from"./Tooltip-CwZEewkN.js";import{r as u}from"./index-Dl6G-zuu.js";import{C as j}from"./Close-mVzWqPf0.js";import{n as y}from"./emotion-styled.browser.esm-DpDeK1WQ.js";const k=(o,e,l,t)=>{const s=Object.keys(e.palette).includes(t),r=t==="primary"?"accent":t;if(o==="solid"){if(s){const n=e.palette[r];return{bgColor:l?n.light:n.default,hoveredBgColor:n.dark}}return{bgColor:e.colors[`${t}_${l?"30":"60"}`],hoveredBgColor:e.colors[`${t}_90`]}}if(o==="outlined"){if(s){const n=e.palette[r];return{bgColor:n.light,hoveredBgColor:n.medium,borderTextColor:l?n.medium:n.default,hoveredBorderTextColor:n.dark}}return{bgColor:e.colors[`${t}_20`],hoveredBgColor:e.colors[`${t}_40`],borderTextColor:e.colors[`${t}_${l?"30":"60"}`],hoveredBorderTextColor:e.colors[`${t}_90`]}}},I=({theme:o,color:e,variant:l,hasHover:t,isDisabled:s})=>{const r=k(l,o,s,e);return{solid:{border:o.spacing.none,color:o.palette.content.contrast,backgroundColor:r==null?void 0:r.bgColor,...t&&{"&:hover":{backgroundColor:r==null?void 0:r.hoveredBgColor,color:o.palette.content.contrast}}},outlined:{border:`1px solid ${r==null?void 0:r.borderTextColor}`,color:r==null?void 0:r.borderTextColor,backgroundColor:r==null?void 0:r.bgColor,...t&&{"&:hover":{borderColor:r==null?void 0:r.hoveredBorderTextColor,color:r==null?void 0:r.hoveredBorderTextColor,backgroundColor:r==null?void 0:r.hoveredBgColor}}}}[l]},_=(o,e)=>({medium:{fontSize:"0.75rem",fontWeight:"700",lineHeight:"1rem",padding:`${o.spacing["4xs"]} ${o.spacing["3xs"]}`,height:"32px"},small:{fontSize:"0.625rem",fontWeight:"700",lineHeight:"0.875rem",padding:`${o.spacing["6xs"]} ${o.spacing["4xs"]}`,height:"18px"}})[e],E=y.div(({theme:o,border:e,isDisabled:l,isClickable:t,isDismissible:s,size:r,variant:n,color:f,hasHover:d})=>({..._(o,r),...I({theme:o,variant:n,color:f,hasHover:d,isDisabled:l}),display:"flex",textTransform:"uppercase",alignItems:"center",maxWidth:"max-content",gap:o.spacing["5xs"],borderRadius:o.radius[e==="rounded"?"s":"none"],width:"150px","> :first-child":{whiteSpace:"nowrap",display:"block"},...(t||s)&&{userSelect:"none"},...t&&{cursor:"pointer"},...l&&{cursor:"not-allowed"}})),O=y.button`
  ${({theme:o})=>({backgroundColor:"transparent",color:"currentColor",display:"inherit",border:0,cursor:"pointer",borderRadius:o.radius["2xs"],"&:disabled":{cursor:"not-allowed"}})}
`,W=16,R=12,A=u.forwardRef(({style:o,children:e,dataTestId:l,variant:t="solid",color:s="primary",border:r="squared",size:n="small",isClickable:f=!1,isDisabled:d=!1,onClick:p,onClose:C,tooltipVariant:T="opacity"},m)=>{const b=l??"tag",i=!!C,h=!d&&(!!p||f||i),$=!i&&h,w=g=>{d||i||p==null||p(g)},x=u.useRef(null),[S,B]=u.useState(!1);return u.useEffect(()=>{var g;if(x.current){const{current:a}=x;a.parentElement&&(a.scrollWidth>((g=a.parentElement)==null?void 0:g.clientWidth)-W-(i?R:0)?(a.style.overflow="hidden",a.style.textOverflow="ellipsis"):(a.style.overflow="visible",a.style.textOverflow="clip"),B(a.scrollWidth>a.clientWidth))}},[e,i]),c.jsxs(v,{children:[c.jsxs(E,{"aria-disabled":d,border:r,color:s,"data-testid":b,hasHover:h,isClickable:$,isDisabled:d,isDismissible:i,onClick:w,ref:m,size:n,style:o,variant:t,children:[c.jsx("span",{ref:x,children:e}),i?c.jsx(O,{"aria-disabled":d,color:s,"data-testid":`${b}-close-button`,disabled:d,onClick:C,children:c.jsx(j,{height:12,width:12})}):null]}),c.jsx(v.Content,{background:T,children:S?e:""})]})});export{A as T};
