import{j as s}from"./jsx-runtime-DMAvRu52.js";import{T as b}from"./Tooltip-xZHEsxa-.js";import{r as p}from"./index-Dl6G-zuu.js";import{C as k}from"./Close-mVzWqPf0.js";import{n as m}from"./emotion-styled.browser.esm-DpDeK1WQ.js";const B=(e,o,t,n)=>{const a=n==="primary"?"accent":n;if(e==="solid"){const r=o.palette[a];return{bgColor:t?r.light:r.default,hoveredBgColor:r.dark}}if(e==="outlined"){const r=o.palette[a];return{bgColor:r.light,hoveredBgColor:r.medium,borderTextColor:t?r.medium:r.default,hoveredBorderTextColor:r.dark}}},$=({theme:e,color:o,variant:t,hasHover:n,isDisabled:a})=>{const r=B(t,e,a,o);return{solid:{border:e.spacing.none,color:e.palette.content.contrast,backgroundColor:r==null?void 0:r.bgColor,...n&&{"&:hover":{backgroundColor:r==null?void 0:r.hoveredBgColor,color:e.palette.content.contrast}}},outlined:{border:`1px solid ${r==null?void 0:r.borderTextColor}`,color:r==null?void 0:r.borderTextColor,backgroundColor:r==null?void 0:r.bgColor,...n&&{"&:hover":{borderColor:r==null?void 0:r.hoveredBorderTextColor,color:r==null?void 0:r.hoveredBorderTextColor,backgroundColor:r==null?void 0:r.hoveredBgColor}}}}[t]},R=(e,o)=>({medium:{fontSize:"0.75rem",fontWeight:"700",lineHeight:"1rem",padding:`${e.spacing["4xs"]} ${e.spacing["3xs"]}`,height:"32px"},small:{fontSize:"0.625rem",fontWeight:"700",lineHeight:"0.875rem",padding:`${e.spacing["6xs"]} ${e.spacing["4xs"]}`,height:"18px"}})[o],W=m.div(({theme:e,border:o,isDisabled:t,isClickable:n,isDismissible:a,size:r,variant:u,color:g,hasHover:d})=>({...R(e,r),...$({theme:e,variant:u,color:g,hasHover:d,isDisabled:t}),display:"flex",textTransform:"uppercase",alignItems:"center",maxWidth:"max-content",gap:e.spacing["5xs"],borderRadius:e.radius[o==="rounded"?"s":"none"],width:"150px","> :first-child":{whiteSpace:"nowrap",display:"block"},...(n||a)&&{userSelect:"none"},...n&&{cursor:"pointer"},...t&&{cursor:"not-allowed"}})),I=m.button`
  ${({theme:e})=>({backgroundColor:"transparent",color:"currentColor",display:"inherit",border:0,cursor:"pointer",borderRadius:e.radius["2xs"],"&:disabled":{cursor:"not-allowed"}})}
`,N=p.forwardRef(({style:e,children:o,dataTestId:t,variant:n="solid",color:a="primary",border:r="squared",size:u="small",isClickable:g=!1,isDisabled:d=!1,onClick:i,onClose:x,tooltipVariant:T="opacity"},v)=>{const C=t??"tag",l=!!x,h=!d&&(!!i||g||l),y=!l&&h,w=c=>{d||l||i==null||i(c)},f=p.useRef(null),[S,j]=p.useState(!1);return p.useEffect(()=>{if(f.current){const{current:c}=f;j(c.scrollWidth>c.clientWidth)}},[o]),s.jsxs(b,{children:[s.jsxs(W,{"aria-disabled":d,border:r,color:a,"data-testid":C,hasHover:h,isClickable:y,isDisabled:d,isDismissible:l,onClick:w,ref:v,size:u,style:e,variant:n,children:[s.jsx("span",{ref:f,style:{overflow:"hidden",textOverflow:"ellipsis"},children:o}),l?s.jsx(I,{"aria-disabled":d,color:a,"data-testid":`${C}-close-button`,disabled:d,onClick:x,children:s.jsx(k,{height:12,width:12})}):null]}),s.jsx(b.Content,{background:T,children:S?o:""})]})});export{N as T};
