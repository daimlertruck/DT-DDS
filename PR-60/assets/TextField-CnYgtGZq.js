import{j as t}from"./jsx-runtime-CB_V9I5Y.js";import{I as X}from"./Icon-DG6KDu5A.js";import{I as Y}from"./IconButton-C_mszqXk.js";import{L as Z}from"./LabelField-tOX1zNx_.js";import{T as $}from"./Typography-DOQ44quZ.js";import{r}from"./index-CTjT7uj6.js";import{T as L,I as f,a as P,b as x,R as nn,c as on,d as sn}from"./TextField.styled-C4hZ2kmn.js";const un=({hasError:A=!1,extraPrefix:n,extraSuffix:s,label:y,labelIcon:B,isFloatingLabel:c=!0,name:D,id:K,required:C,requiredMessage:j,style:q,children:H,initialValue:p,inputRef:S,message:k="",type:u="text",variant:W="outlined",backgroundFill:_="default",disabled:i=!1,onChange:R=()=>null,onResetInput:b=()=>null,...e})=>{const[z,m]=r.useState(!1),[l,d]=r.useState(""),[T,h]=r.useState(!1),I=K??y.replaceAll(" ","-").toLowerCase();r.useEffect(()=>{p?(d(p),h(!1)):d("")},[p]);const G=o=>{d(o.target.value),h(!1),R&&R(o)},J=o=>{e.readOnly||m(!0),e.onFocus&&e.onFocus(o)},M=o=>{o.currentTarget.value.trim().length===0&&(m(!1),C&&j&&h(!0)),e.onBlur&&e.onBlur(o)},F=()=>{d(""),m(!1),b()},N=o=>o.code==="Enter"&&F(),Q=o=>o.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(l),U=o=>o.code==="Enter"&&(s==null?void 0:s.onClick)&&s.onClick(l),V=i?"content.light":"content.medium",a=A||T,O=T?j??k:k,g=z||!!l.trim(),E=u==="search",w=n!=null&&n.onClick?n.onClick:null,v=s!=null&&s.onClick?s.onClick:null;return t.jsxs(L,{hasPrefix:!!n,isFloatingLabel:c,style:q,children:[!g||!c||!E?t.jsx(Z,{hasError:a,htmlFor:I,icon:B,isActive:g||u==="date",isDisabled:i,isFloating:c,isRequired:C,children:y}):null,t.jsxs(f,{backgroundFill:_,"data-testid":"input-wrapper",hasError:a,isFloatingLabel:c,variant:W,children:[n!=null&&n.component?t.jsx(P,{"data-testid":"extra-preffix",...!!w&&{tabIndex:0,onClick:()=>w(l),onKeyDown:Q},children:n.component}):null,t.jsx(x,{"data-error":a,"data-testid":"input-field",disabled:i,id:I,isFloatingLabel:c,isSearchType:E,name:D??I,ref:S,type:u,value:l,...e,onBlur:M,onChange:G,onFocus:J}),E&&l?t.jsx(nn,{"data-testid":"reset-icon",onKeyDown:N,tabIndex:0,children:t.jsx(Y,{onClick:F,children:t.jsx(X,{code:"close_small"})})}):null,s!=null&&s.component?t.jsx(on,{"data-testid":"extra-suffix",...!!v&&{tabIndex:0,onClick:()=>v(l),onKeyDown:U},children:s.component}):null]}),O?t.jsx(sn,{children:t.jsx($,{color:a?"error.default":V,element:"span",fontStyles:"bodySmRegular",children:O})}):null,H]})};export{un as T};
