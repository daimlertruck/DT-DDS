import{j as $}from"./jsx-runtime-CKrituN3.js";import"./index-DSxJN9E5.js";import"./index-BtM5VmRH.js";import{r as a,R as be}from"./index-CBqU2yxZ.js";import{u as Dt}from"./useClickOutside-D7JrBqcS.js";import{I as Fe}from"./Icon-DOElHRRq.js";import{L as Mt}from"./LabelField-DToEgFn5.js";import{T as tt}from"./Tooltip-CWcD63WG.js";import{T as Et}from"./Typography-B0iC6O_B.js";import{P as s}from"./index-D3ylJrlI.js";import{C as Tt}from"./Checkbox-xG7MOetM.js";import{n as z}from"./emotion-styled.browser.esm-B1le5_Hy.js";import{a as kt}from"./z-index-Ds5QkyqS.js";function he(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,u;for(u=0;u<i.length;u++)r=i[u],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},E.apply(this,arguments)}var x={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),Oe=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),Me=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),Rt=Symbol.for("react.server_context"),Te=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Bt=Symbol.for("react.offscreen"),st;st=Symbol.for("react.module.reference");function W(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Le:switch(e=e.type,e){case $e:case De:case Oe:case ke:case Re:return e;default:switch(e=e&&e.$$typeof,e){case Rt:case Ee:case Te:case He:case Be:case Me:return e;default:return t}}case Ve:return t}}}x.ContextConsumer=Ee;x.ContextProvider=Me;x.Element=Le;x.ForwardRef=Te;x.Fragment=$e;x.Lazy=He;x.Memo=Be;x.Portal=Ve;x.Profiler=De;x.StrictMode=Oe;x.Suspense=ke;x.SuspenseList=Re;x.isAsyncMode=function(){return!1};x.isConcurrentMode=function(){return!1};x.isContextConsumer=function(e){return W(e)===Ee};x.isContextProvider=function(e){return W(e)===Me};x.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Le};x.isForwardRef=function(e){return W(e)===Te};x.isFragment=function(e){return W(e)===$e};x.isLazy=function(e){return W(e)===He};x.isMemo=function(e){return W(e)===Be};x.isPortal=function(e){return W(e)===Ve};x.isProfiler=function(e){return W(e)===De};x.isStrictMode=function(e){return W(e)===Oe};x.isSuspense=function(e){return W(e)===ke};x.isSuspenseList=function(e){return W(e)===Re};x.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$e||e===De||e===Oe||e===ke||e===Re||e===Bt||typeof e=="object"&&e!==null&&(e.$$typeof===He||e.$$typeof===Be||e.$$typeof===Me||e.$$typeof===Ee||e.$$typeof===Te||e.$$typeof===st||e.getModuleId!==void 0)};x.typeOf=W;const nt=e=>typeof e=="object"&&e!=null&&e.nodeType===1,rt=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Ke=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return rt(n.overflowY,t)||rt(n.overflowX,t)||(i=>{const r=(u=>{if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(e)}return!1},ve=(e,t,n,i,r,u,l,o)=>u<e&&l>t||u>e&&l<t?0:u<=e&&o<=n||l>=t&&o>=n?u-e-i:l>t&&o<n||u<e&&o>n?l-t+r:0,Ht=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Kt=(e,t)=>{var n,i,r,u;if(typeof document>"u")return[];const{scrollMode:l,block:o,inline:c,boundary:I,skipOverflowHiddenElements:y}=t,k=typeof I=="function"?I:C=>C!==I;if(!nt(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,S=[];let m=e;for(;nt(m)&&k(m);){if(m=Ht(m),m===p){S.push(m);break}m!=null&&m===document.body&&Ke(m)&&!Ke(document.documentElement)||m!=null&&Ke(m,y)&&S.push(m)}const D=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,w=(u=(r=window.visualViewport)==null?void 0:r.height)!=null?u:innerHeight,{scrollX:O,scrollY:T}=window,{height:A,width:B,top:Y,right:Z,bottom:oe,left:te}=e.getBoundingClientRect(),{top:le,right:ue,bottom:ne,left:se}=(C=>{const v=window.getComputedStyle(C);return{top:parseFloat(v.scrollMarginTop)||0,right:parseFloat(v.scrollMarginRight)||0,bottom:parseFloat(v.scrollMarginBottom)||0,left:parseFloat(v.scrollMarginLeft)||0}})(e);let R=o==="start"||o==="nearest"?Y-le:o==="end"?oe+ne:Y+A/2-le+ne,h=c==="center"?te+B/2-se+ue:c==="end"?Z+ue:te-se;const b=[];for(let C=0;C<S.length;C++){const v=S[C],{height:g,width:f,top:d,right:M,bottom:N,left:L}=v.getBoundingClientRect();if(l==="if-needed"&&Y>=0&&te>=0&&oe<=w&&Z<=D&&Y>=d&&oe<=N&&te>=L&&Z<=M)return b;const P=getComputedStyle(v),q=parseInt(P.borderLeftWidth,10),F=parseInt(P.borderTopWidth,10),U=parseInt(P.borderRightWidth,10),j=parseInt(P.borderBottomWidth,10);let H=0,K=0;const J="offsetWidth"in v?v.offsetWidth-v.clientWidth-q-U:0,Q="offsetHeight"in v?v.offsetHeight-v.clientHeight-F-j:0,re="offsetWidth"in v?v.offsetWidth===0?0:f/v.offsetWidth:0,X="offsetHeight"in v?v.offsetHeight===0?0:g/v.offsetHeight:0;if(p===v)H=o==="start"?R:o==="end"?R-w:o==="nearest"?ve(T,T+w,w,F,j,T+R,T+R+A,A):R-w/2,K=c==="start"?h:c==="center"?h-D/2:c==="end"?h-D:ve(O,O+D,D,q,U,O+h,O+h+B,B),H=Math.max(0,H+T),K=Math.max(0,K+O);else{H=o==="start"?R-d-F:o==="end"?R-N+j+Q:o==="nearest"?ve(d,N,g,F,j+Q,R,R+A,A):R-(d+g/2)+Q/2,K=c==="start"?h-L-q:c==="center"?h-(L+f/2)+J/2:c==="end"?h-M+U+J:ve(L,M,f,q,U+J,h,h+B,B);const{scrollLeft:G,scrollTop:V}=v;H=X===0?0:Math.max(0,Math.min(V+H/X,v.scrollHeight-g/X+Q)),K=re===0?0:Math.max(0,Math.min(G+K/re,v.scrollWidth-f/re+J)),R+=V-H,h+=G-K}b.push({el:v,top:H,left:K})}return b};var ce=function(){return ce=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},ce.apply(this,arguments)};var Pt=0;function at(){}function Ft(e,t){if(e){var n=Kt(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(i){var r=i.el,u=i.top,l=i.left;r.scrollTop=u,r.scrollLeft=l})}}function it(e,t,n){var i=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return i}function We(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var u=arguments.length,l=new Array(u),o=0;o<u;o++)l[o]=arguments[o];i(),n=setTimeout(function(){n=null,e.apply(void 0,l)},t)}return r.cancel=i,r}function ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,u=new Array(r>1?r-1:0),l=1;l<r;l++)u[l-1]=arguments[l];return t.some(function(o){return o&&o.apply(void 0,[i].concat(u)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){t.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function jt(){return String(Pt++)}function je(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,i){return n[i]=At(t,i)?t[i]:e[i],n},{})}function At(e,t){return e[t]!==void 0}function Lt(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function me(e,t,n,i,r){r===void 0&&(r=!1);var u=n.length;if(u===0)return-1;var l=u-1;(typeof e!="number"||e<0||e>l)&&(e=t>0?-1:l+1);var o=e+t;o<0?o=r?l:0:o>l&&(o=r?0:l);var c=xe(o,t<0,n,i,r);return c===-1?e>=u?-1:e:c}function xe(e,t,n,i,r){r===void 0&&(r=!1);var u=n.length;if(t){for(var l=e;l>=0;l--)if(!i(n[l],l))return l}else for(var o=e;o<u;o++)if(!i(n[o],o))return o;return r?xe(t?u-1:0,t,n,i):-1}function ot(e,t,n,i){return i===void 0&&(i=!0),n&&t.some(function(r){return r&&(it(r,e,n)||i&&it(r,n.document.activeElement,n))})}var Vt=We(function(e){ct(e).textContent=""},500);function ct(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Wt(e,t){if(!(!e||!t)){var n=ct(t);n.textContent=e,Vt(t)}}function Nt(e){var t=e==null?void 0:e.getElementById("a11y-status-message");t&&t.remove()}var dt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function qt(e,t,n){var i=e.props,r=e.type,u={};Object.keys(t).forEach(function(l){zt(l,e,t,n),n[l]!==t[l]&&(u[l]=n[l])}),i.onStateChange&&Object.keys(u).length&&i.onStateChange(E({type:r},u))}function zt(e,t,n,i){var r=t.props,u=t.type,l="on"+Ne(e)+"Change";r[l]&&i[e]!==void 0&&i[e]!==n[e]&&r[l](E({type:u},i))}function Ut(e,t){return t.changes}var lt=We(function(e,t){Wt(e,t)},200),Xt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?a.useLayoutEffect:a.useEffect,Gt="useId"in be?function(t){var n=t.id,i=t.labelId,r=t.menuId,u=t.getItemId,l=t.toggleButtonId,o=t.inputId,c="downshift-"+be.useId();n||(n=c);var I=a.useRef({labelId:i||n+"-label",menuId:r||n+"-menu",getItemId:u||function(y){return n+"-item-"+y},toggleButtonId:l||n+"-toggle-button",inputId:o||n+"-input"});return I.current}:function(t){var n=t.id,i=n===void 0?"downshift-"+jt():n,r=t.labelId,u=t.menuId,l=t.getItemId,o=t.toggleButtonId,c=t.inputId,I=a.useRef({labelId:r||i+"-label",menuId:u||i+"-menu",getItemId:l||function(y){return i+"-item-"+y},toggleButtonId:o||i+"-toggle-button",inputId:c||i+"-input"});return I.current};function Yt(e,t,n,i){var r,u;if(e===void 0){if(t===void 0)throw new Error(i);r=n[t],u=t}else u=t===void 0?n.indexOf(e):t,r=e;return[r,u]}function Zt(e){return/^\S{1}$/.test(e)}function Ne(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ft(e){var t=a.useRef(e);return t.current=e,t}function Jt(e,t,n,i){var r=a.useRef(),u=a.useRef(),l=a.useCallback(function(S,m){u.current=m,S=je(S,m.props);var D=e(S,m),w=m.props.stateReducer(S,E({},m,{changes:D}));return w},[e]),o=a.useReducer(l,t,n),c=o[0],I=o[1],y=ft(t),k=a.useCallback(function(S){return I(E({props:y.current},S))},[y]),p=u.current;return a.useEffect(function(){var S=je(r.current,p==null?void 0:p.props),m=p&&r.current&&!i(S,c);m&&qt(p,S,c),r.current=c},[c,p,i]),[c,k]}function Qt(e,t,n,i){var r=Jt(e,t,n,i),u=r[0],l=r[1];return[je(u,t),l]}var ge={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:Ut,scrollIntoView:Ft,environment:typeof window>"u"?void 0:window};function ee(e,t,n){n===void 0&&(n=dt);var i=e["default"+Ne(t)];return i!==void 0?i:n[t]}function fe(e,t,n){n===void 0&&(n=dt);var i=e[t];if(i!==void 0)return i;var r=e["initial"+Ne(t)];return r!==void 0?r:ee(e,t,n)}function _t(e){var t=fe(e,"selectedItem"),n=fe(e,"isOpen"),i=fe(e,"highlightedIndex"),r=fe(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(u){return e.itemToKey(u)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:r}}function we(e,t,n){var i=e.items,r=e.initialHighlightedIndex,u=e.defaultHighlightedIndex,l=e.isItemDisabled,o=e.itemToKey,c=t.selectedItem,I=t.highlightedIndex;return i.length===0?-1:r!==void 0&&I===r&&!l(i[r])?r:u!==void 0&&!l(i[u])?u:c?i.findIndex(function(y){return o(c)===o(y)}):n<0&&!l(i[i.length-1])?i.length-1:n>0&&!l(i[0])?0:-1}function en(e,t,n){var i=a.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return a.useEffect(function(){if(!e)return at;var r=t.map(function(y){return y.current});function u(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function l(y){i.current.isMouseDown=!1,ot(y.target,r,e)||n()}function o(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function c(){i.current.isTouchMove=!0}function I(y){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!ot(y.target,r,e,!1)&&n()}return e.addEventListener("mousedown",u),e.addEventListener("mouseup",l),e.addEventListener("touchstart",o),e.addEventListener("touchmove",c),e.addEventListener("touchend",I),function(){e.removeEventListener("mousedown",u),e.removeEventListener("mouseup",l),e.removeEventListener("touchstart",o),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",I)}},[e,n]),i.current}var tn=function(){return at};function nn(e,t,n,i){i===void 0&&(i={});var r=i.document,u=ln();a.useEffect(function(){if(!(!e||u||!r)){var l=e(t);lt(l,r)}},n),a.useEffect(function(){return function(){lt.cancel(),Nt(r)}},[r])}function rn(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,u=e.menuElement,l=e.scrollIntoView,o=a.useRef(!0);return Xt(function(){t<0||!n||!Object.keys(i.current).length||(o.current===!1?o.current=!0:l(r(t),u))},[t]),o}function ut(e,t,n){var i;n===void 0&&(n=!0);var r=((i=e.items)==null?void 0:i.length)&&t>=0;return E({isOpen:!1,highlightedIndex:-1},r&&E({selectedItem:e.items[t],isOpen:ee(e,"isOpen"),highlightedIndex:ee(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function on(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function ln(){var e=be.useRef(!0);return be.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}var Ie={environment:s.shape({addEventListener:s.func.isRequired,removeEventListener:s.func.isRequired,document:s.shape({createElement:s.func.isRequired,getElementById:s.func.isRequired,activeElement:s.any.isRequired,body:s.any.isRequired}).isRequired,Node:s.func.isRequired}),itemToString:s.func,itemToKey:s.func,stateReducer:s.func},gt=E({},Ie,{getA11yStatusMessage:s.func,highlightedIndex:s.number,defaultHighlightedIndex:s.number,initialHighlightedIndex:s.number,isOpen:s.bool,defaultIsOpen:s.bool,initialIsOpen:s.bool,selectedItem:s.any,initialSelectedItem:s.any,defaultSelectedItem:s.any,id:s.string,labelId:s.string,menuId:s.string,getItemId:s.func,toggleButtonId:s.string,onSelectedItemChange:s.func,onHighlightedIndexChange:s.func,onStateChange:s.func,onIsOpenChange:s.func,scrollIntoView:s.func});function un(e,t,n){var i=t.type,r=t.props,u;switch(i){case n.ItemMouseMove:u={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:u={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:we(r,e,0)};break;case n.FunctionOpenMenu:u={isOpen:!0,highlightedIndex:we(r,e,0)};break;case n.FunctionCloseMenu:u={isOpen:!1};break;case n.FunctionSetHighlightedIndex:u={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:u={inputValue:t.inputValue};break;case n.FunctionReset:u={highlightedIndex:ee(r,"highlightedIndex"),isOpen:ee(r,"isOpen"),selectedItem:ee(r,"selectedItem"),inputValue:ee(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return E({},e,u)}function sn(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,r=e.itemToString,u=e.isItemDisabled,l=t.toLowerCase(),o=0;o<i.length;o++){var c=(o+n+(t.length<2?1:0))%i.length,I=i[c];if(I!==void 0&&r(I).toLowerCase().startsWith(l)&&!u(I,c))return c}return n}ce(ce({},gt),{items:s.array.isRequired,isItemDisabled:s.func});var an=ce(ce({},ge),{isItemDisabled:function(){return!1}}),ye=0,qe=1,ze=2,Se=3,Ue=4,Xe=5,Ge=6,Ye=7,Ze=8,Je=9,Qe=10,Ce=11,pt=12,ht=13,_e=14,vt=15,mt=16,It=17,yt=18,et=19,Ae=20,bt=21,xt=Object.freeze({__proto__:null,ToggleButtonClick:ye,ToggleButtonKeyDownArrowDown:qe,ToggleButtonKeyDownArrowUp:ze,ToggleButtonKeyDownCharacter:Se,ToggleButtonKeyDownEscape:Ue,ToggleButtonKeyDownHome:Xe,ToggleButtonKeyDownEnd:Ge,ToggleButtonKeyDownEnter:Ye,ToggleButtonKeyDownSpaceButton:Ze,ToggleButtonKeyDownPageUp:Je,ToggleButtonKeyDownPageDown:Qe,ToggleButtonBlur:Ce,MenuMouseLeave:pt,ItemMouseMove:ht,ItemClick:_e,FunctionToggleMenu:vt,FunctionOpenMenu:mt,FunctionCloseMenu:It,FunctionSetHighlightedIndex:yt,FunctionSelectItem:et,FunctionSetInputValue:Ae,FunctionReset:bt});function cn(e,t){var n,i=t.type,r=t.props,u=t.altKey,l;switch(i){case _e:l={isOpen:ee(r,"isOpen"),highlightedIndex:ee(r,"highlightedIndex"),selectedItem:r.items[t.index]};break;case Se:{var o=t.key,c=""+e.inputValue+o,I=!e.isOpen&&e.selectedItem?r.items.findIndex(function(S){return r.itemToKey(S)===r.itemToKey(e.selectedItem)}):e.highlightedIndex,y=sn({keysSoFar:c,highlightedIndex:I,items:r.items,itemToString:r.itemToString,isItemDisabled:r.isItemDisabled});l={inputValue:c,highlightedIndex:y,isOpen:!0}}break;case qe:{var k=e.isOpen?me(e.highlightedIndex,1,r.items,r.isItemDisabled):u&&e.selectedItem==null?-1:we(r,e,1);l={highlightedIndex:k,isOpen:!0}}break;case ze:if(e.isOpen&&u)l=ut(r,e.highlightedIndex,!1);else{var p=e.isOpen?me(e.highlightedIndex,-1,r.items,r.isItemDisabled):we(r,e,-1);l={highlightedIndex:p,isOpen:!0}}break;case Ye:case Ze:l=ut(r,e.highlightedIndex,!1);break;case Xe:l={highlightedIndex:xe(0,!1,r.items,r.isItemDisabled),isOpen:!0};break;case Ge:l={highlightedIndex:xe(r.items.length-1,!0,r.items,r.isItemDisabled),isOpen:!0};break;case Je:l={highlightedIndex:me(e.highlightedIndex,-10,r.items,r.isItemDisabled)};break;case Qe:l={highlightedIndex:me(e.highlightedIndex,10,r.items,r.isItemDisabled)};break;case Ue:l={isOpen:!1,highlightedIndex:-1};break;case Ce:l=E({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&{selectedItem:r.items[e.highlightedIndex]});break;case et:l={selectedItem:t.selectedItem};break;default:return un(e,t,xt)}return E({},e,l)}var dn=["onClick"],fn=["onMouseLeave","refKey","ref"],gn=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],pn=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];ae.stateChangeTypes=xt;function ae(e){e===void 0&&(e={});var t=E({},an,e),n=t.scrollIntoView,i=t.environment,r=t.getA11yStatusMessage,u=Qt(cn,t,_t,on),l=u[0],o=u[1],c=l.isOpen,I=l.highlightedIndex,y=l.selectedItem,k=l.inputValue,p=a.useRef(null),S=a.useRef(null),m=a.useRef({}),D=a.useRef(null),w=Gt(t),O=ft({state:l,props:t}),T=a.useCallback(function(g){return m.current[w.getItemId(g)]},[w]);nn(r,l,[c,I,y,k],i);var A=rn({menuElement:S.current,highlightedIndex:I,isOpen:c,itemRefs:m,scrollIntoView:n,getItemNodeFromIndex:T});a.useEffect(function(){return D.current=We(function(g){g({type:Ae,inputValue:""})},500),function(){D.current.cancel()}},[]),a.useEffect(function(){k&&D.current(o)},[o,k]),a.useEffect(function(){var g=fe(t,"isOpen");g&&p.current&&p.current.focus()},[]);var B=en(i,[p,S],a.useCallback(function(){O.current.state.isOpen&&o({type:Ce})},[o,O])),Y=tn();a.useEffect(function(){c||(m.current={})},[c]);var Z=a.useMemo(function(){return{ArrowDown:function(f){f.preventDefault(),o({type:qe,altKey:f.altKey})},ArrowUp:function(f){f.preventDefault(),o({type:ze,altKey:f.altKey})},Home:function(f){f.preventDefault(),o({type:Xe})},End:function(f){f.preventDefault(),o({type:Ge})},Escape:function(){O.current.state.isOpen&&o({type:Ue})},Enter:function(f){f.preventDefault(),o({type:O.current.state.isOpen?Ye:ye})},PageUp:function(f){O.current.state.isOpen&&(f.preventDefault(),o({type:Je}))},PageDown:function(f){O.current.state.isOpen&&(f.preventDefault(),o({type:Qe}))}," ":function(f){f.preventDefault();var d=O.current.state;if(!d.isOpen){o({type:ye});return}d.inputValue?o({type:Se,key:" "}):o({type:Ze})}}},[o,O]),oe=a.useCallback(function(){o({type:vt})},[o]),te=a.useCallback(function(){o({type:It})},[o]),le=a.useCallback(function(){o({type:mt})},[o]),ue=a.useCallback(function(g){o({type:yt,highlightedIndex:g})},[o]),ne=a.useCallback(function(g){o({type:et,selectedItem:g})},[o]),se=a.useCallback(function(){o({type:bt})},[o]),R=a.useCallback(function(g){o({type:Ae,inputValue:g})},[o]),h=a.useCallback(function(g){var f=g===void 0?{}:g,d=f.onClick,M=he(f,dn),N=function(){var P;(P=p.current)==null||P.focus()};return E({id:w.labelId,htmlFor:w.toggleButtonId,onClick:ie(d,N)},M)},[w]),b=a.useCallback(function(g,f){var d,M=g===void 0?{}:g,N=M.onMouseLeave,L=M.refKey,P=L===void 0?"ref":L,q=M.ref,F=he(M,fn),U=f===void 0?{}:f;U.suppressRefError;var j=function(){o({type:pt})};return E((d={},d[P]=Pe(q,function(H){S.current=H}),d.id=w.menuId,d.role="listbox",d["aria-labelledby"]=F&&F["aria-label"]?void 0:""+w.labelId,d.onMouseLeave=ie(N,j),d),F)},[o,Y,w]),C=a.useCallback(function(g,f){var d,M=g===void 0?{}:g,N=M.onBlur,L=M.onClick;M.onPress;var P=M.onKeyDown,q=M.refKey,F=q===void 0?"ref":q,U=M.ref,j=he(M,gn),H=f===void 0?{}:f;H.suppressRefError;var K=O.current.state,J=function(){o({type:ye})},Q=function(){K.isOpen&&!B.isMouseDown&&o({type:Ce})},re=function(V){var _=Lt(V);_&&Z[_]?Z[_](V):Zt(_)&&o({type:Se,key:_})},X=E((d={},d[F]=Pe(U,function(G){p.current=G}),d["aria-activedescendant"]=K.isOpen&&K.highlightedIndex>-1?w.getItemId(K.highlightedIndex):"",d["aria-controls"]=w.menuId,d["aria-expanded"]=O.current.state.isOpen,d["aria-haspopup"]="listbox",d["aria-labelledby"]=j&&j["aria-label"]?void 0:""+w.labelId,d.id=w.toggleButtonId,d.role="combobox",d.tabIndex=0,d.onBlur=ie(N,Q),d),j);return j.disabled||(X.onClick=ie(L,J),X.onKeyDown=ie(P,re)),X},[o,w,O,B,Y,Z]),v=a.useCallback(function(g){var f,d=g===void 0?{}:g,M=d.item,N=d.index,L=d.onMouseMove,P=d.onClick,q=d.onMouseDown;d.onPress;var F=d.refKey,U=F===void 0?"ref":F,j=d.disabled,H=d.ref,K=he(d,pn);j!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var J=O.current,Q=J.state,re=J.props,X=Yt(M,N,re.items,"Pass either item or index to getItemProps!"),G=X[0],V=X[1],_=re.isItemDisabled(G,V),St=function(){B.isTouchEnd||V===Q.highlightedIndex||(A.current=!1,o({type:ht,index:V,disabled:_}))},Ct=function(){o({type:_e,index:V})},$t=function(Ot){return Ot.preventDefault()},pe=E((f={},f[U]=Pe(H,function(de){de&&(m.current[w.getItemId(V)]=de)}),f["aria-disabled"]=_,f["aria-selected"]=""+(G===Q.selectedItem),f.id=w.getItemId(V),f.role="option",f),K);return _||(pe.onClick=ie(P,Ct)),pe.onMouseMove=ie(L,St),pe.onMouseDown=ie(q,$t),pe},[O,w,B,A,o]);return{getToggleButtonProps:C,getLabelProps:h,getMenuProps:b,getItemProps:v,toggleMenu:oe,openMenu:le,closeMenu:te,setHighlightedIndex:ue,selectItem:ne,reset:se,setInputValue:R,highlightedIndex:I,isOpen:c,selectedItem:y,inputValue:k}}E({},gt,{items:s.array.isRequired,isItemDisabled:s.func,inputValue:s.string,defaultInputValue:s.string,initialInputValue:s.string,inputId:s.string,onInputValueChange:s.func});E({},ge,{isItemDisabled:function(){return!1}});Ie.stateReducer,Ie.itemToKey,Ie.environment,s.array,s.array,s.array,s.func,s.number,s.number,s.number,s.func,s.func,s.string,s.string;ge.itemToKey,ge.stateReducer,ge.environment;const wt=a.createContext(void 0),hn=()=>{const e=a.useContext(wt);if(!e)throw new Error("useSelectContext must be used within a SelectProvider");return e},vn=({children:e,value:t})=>{const{highlightedIndex:n,selectedItems:i,...r}=t,u=o=>o===n,l=o=>!!i.find(c=>c.value===o.value);return $.jsx(wt.Provider,{value:{isItemHighlighted:u,isItemSelected:l,...r},children:e})},mn=z.li`
  display: flex;

  ${({theme:e,isMulti:t,isHighlighted:n})=>`
    cursor:pointer;
    align-items: center;
    ${!t&&`padding: ${e.spacing["4xs"]} ${e.spacing["2xs"]}`};
    gap: ${t?e.spacing["4xs"]:e.spacing["5xs"]};
    background-color: ${n&&!t?e.palette.primary.light:e.palette.surface.contrast};

    color: ${e.palette.content.default};
    ${e.fontStyles.body2}

    & > label {
      ${t&&`padding: ${e.spacing["4xs"]} ${e.spacing["2xs"]}`};
    }
    
    &:hover,&:focus-within {
      background-color: ${e.palette.primary.light};
    }

    &[aria-disabled="true"] {
      cursor: not-allowed;
      color: ${e.palette.content.light};
      &:hover {
        background-color: ${e.palette.surface.contrast};
      }
    }
  `}
`,In=z.div`
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  width: 100%;
`,yn=z.div`
  display: flex;

  ${({isCheckHidden:e})=>e&&"visibility: hidden;"};
`,bn=({dataTestId:e,index:t,children:n,style:i,value:r,label:u,disabled:l})=>{const{getItemProps:o,isItemHighlighted:c,isItemSelected:I,isMulti:y}=hn(),k={value:r,label:u,disabled:!!l},p=I(k),S=c(t),m=o({item:k,index:t});return $.jsx(mn,{"aria-disabled":m["aria-disabled"],"data-testid":e,isHighlighted:S,isMulti:y,style:i,...!y&&{...m,"aria-selected":p},children:y?$.jsx(Tt,{isChecked:p,isDisabled:m["aria-disabled"],...m,children:n||u||r}):$.jsxs($.Fragment,{children:[$.jsx(yn,{isCheckHidden:!p,children:$.jsx(Fe,{code:"check",size:"medium"})}),$.jsx(In,{children:n||u||r})]})})},xn=z.div`
  position: relative;
`,wn=z.div`
  display: flex;
  height: auto;
  width: 100%;
  position: relative;
  flex-direction: column;
  overflow: hidden;
`,Sn=z.ul`
  list-style-type: none;
  position: absolute;
  z-index: ${kt};
  width: 100%;

  ${({isOpen:e,theme:t})=>`
    margin-top:${t.spacing["5xs"]};
    padding:  ${t.spacing["2xs"]} ${t.spacing.none};
    background-color: ${t.palette.surface.contrast};
    display: ${e?"block":"none"};
    border-radius: ${t.shape.formField};
  `}
`,Cn=z.div`
  display: flex;
  flex: 1;
  align-self: end;
  overflow: hidden;
`,$n=z.div`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  ${({theme:e})=>`
    ${e.fontStyles.body2}
    color: ${e.palette.content.default};
  `}
`,On=z.div`
  transition: all 0.2s ease-in-out;
  width: 100%;
  height: 53px;
  display: flex;
  align-items: center;
  justify-content: center;

  ${({theme:e,hasError:t,disabled:n})=>`
    ${e.fontStyles.body2}
    color: ${n?e.palette.content.light:e.palette.content.default};
    padding: ${e.spacing["4xs"]} ${e.spacing["2xs"]};
    gap: ${e.spacing["4xs"]} ;
    background-color: ${e.palette.surface.contrast};
    border-radius: ${e.shape.formField};
    cursor: ${n?"not-allowed":"pointer"};

    &:hover, &:focus {
      ${!n&&`border: 1px solid ${t?e.palette.error.default:e.palette.primary.default};`};
    }
  `};

  border: ${({theme:e,isActive:t,hasError:n,disabled:i})=>t?`1px solid ${e.palette.primary.default}`:n?`1px solid ${e.palette.error.default}`:`1px solid ${i?e.palette.border.light:e.palette.border.default}`};
`,Dn=z.div`
  display: flex;
`,Mn=z.div`
  ${({theme:e})=>`
    padding-left: ${e.spacing["2xs"]};
  `}
`,En=e=>({value:e.props.value,label:e.props.label,disabled:!!e.props.disabled}),Tn=e=>e?e.label||e.value:"",kn=({dataTestId:e,style:t,helperText:n="",hasError:i=!1,initialValue:r="",label:u,isMulti:l=!1,isRequired:o,errorMessage:c,children:I,isDisabled:y,onChange:k})=>{const[p,S]=a.useState([]),m=a.useRef(null),D=a.useCallback((h,b=!1)=>{var C;S(h),k&&!b&&k(l?h.map(v=>v.value).filter(v=>!!v):((C=h[0])==null?void 0:C.value)||"")},[S,l,k]),w=h=>{h.stopPropagation(),D([])},O=i&&c?c:n,T=a.useMemo(()=>{const h=a.Children.map(I,b=>a.isValidElement(b)&&b.props.value!=null?En(b):null);return h?h.filter(Boolean):[]},[I]),A=a.useMemo(()=>{const h=b=>!!T.find(C=>C.value===b.value);return p.filter(h)},[T,p]);a.useEffect(()=>{const b=Array.isArray(r)?r.map(C=>T.find(v=>v.value===C)).filter(C=>!!C):T.find(C=>C.value===r);!r||!b||Array.isArray(b)&&b.length===0?D([],!0):Array.isArray(b)?D(l?b:[b[0]],!0):D([b],!0)},[l,r,T,D]),a.useEffect(()=>{T.length===1&&p.length===0&&D([T[0]]),A.length!==p.length&&D(A)},[T,p,A,D]);const{isOpen:B,closeMenu:Y,getToggleButtonProps:Z,getLabelProps:oe,getMenuProps:te,highlightedIndex:le,getItemProps:ue}=ae({items:T,isItemDisabled(h){return!!h.disabled},itemToString:Tn,stateReducer:(h,b)=>{const{changes:C,type:v}=b;switch(v){case ae.stateChangeTypes.ToggleButtonKeyDownEnter:case ae.stateChangeTypes.ToggleButtonKeyDownSpaceButton:case ae.stateChangeTypes.ItemClick:case ae.stateChangeTypes.ToggleButtonBlur:return{...C,isOpen:l,highlightedIndex:h.highlightedIndex};default:return C}},selectedItem:null,onSelectedItemChange:({selectedItem:h})=>{let b=[];l?p.includes(h)?b=p.filter(C=>C!==h):b=[...p,h]:b=[h],D(b)}}),ne=!!p&&!!p.length,se=()=>p.length>1?`${p.length} options selected`:p[0].label||p[0].value;Dt({ref:m,handler:()=>Y()});const R=y||T.length===1;return $.jsx(vn,{value:{highlightedIndex:le,getItemProps:ue,selectedItems:p,isMulti:l},children:$.jsxs(xn,{"data-testid":e,ref:m,style:t,children:[$.jsx(wn,{children:$.jsxs(On,{...Z({disabled:R}),hasError:i,isActive:B,children:[$.jsxs(Cn,{children:[$.jsx(Mt,{...oe(),hasError:i,isActive:ne,isDisabled:R,isRequired:o,children:u}),ne?$.jsx($n,{children:se()}):null]}),$.jsxs(Dn,{children:[l&&ne?$.jsxs(tt,{children:[$.jsx(Fe,{code:"close",dataTestId:"clear-selection",onClick:w,size:"medium"}),$.jsx(tt.Content,{children:"Clear all"})]}):null,$.jsx(Fe,{code:B?"expand_less":"expand_more",size:"medium"})]})]})}),$.jsx(Sn,{...te(),"aria-multiselectable":l,isOpen:B,children:B?I:null}),O?$.jsx(Mn,{children:$.jsx(Et,{color:i?"error.default":"content.light",element:"span",fontStyles:"body3",children:O})}):null]})})};kn.Option=bn;export{kn as S};
