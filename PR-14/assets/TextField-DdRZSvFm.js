import{j as t}from"./jsx-runtime-DMAvRu52.js";import{I as V}from"./Icon-BZQueZez.js";import{L as X}from"./LabelField-8RwS-OIJ.js";import{T as Y}from"./Typography-Bopseyta.js";import{r as p}from"./index-Dl6G-zuu.js";import{T as Z,I as $,a as L,b as f,R as P,c as x,d as nn}from"./TextField.styled-D912jgJt.js";const an=({hasError:A=!1,extraPrefix:n,extraSuffix:s,label:y,isFloatingLabel:c=!0,name:D,id:B,required:C,requiredMessage:k,style:K,children:q,initialValue:r,inputRef:H,message:j="",type:u="text",variant:W="outlined",backgroundFill:_="default",disabled:i=!1,onChange:T=()=>null,onResetInput:b=()=>null,...e})=>{const[z,m]=p.useState(!1),[l,d]=p.useState(""),[R,h]=p.useState(!1),E=B??y.replaceAll(" ","-").toLowerCase();p.useEffect(()=>{r?(d(r),h(!1)):d("")},[r]);const G=o=>{d(o.target.value),h(!1),T&&T(o)},J=o=>{e.readOnly||m(!0),e.onFocus&&e.onFocus(o)},M=o=>{o.currentTarget.value.trim().length===0&&(m(!1),C&&k&&h(!0)),e.onBlur&&e.onBlur(o)},F=()=>{d(""),m(!1),b()},N=o=>o.code==="Enter"&&F(),Q=o=>o.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(l),S=o=>o.code==="Enter"&&(s==null?void 0:s.onClick)&&s.onClick(l),U=i?"content.light":"content.medium",a=A||R,O=R?k??j:j,w=z||!!l.trim(),I=u==="search",g=n!=null&&n.onClick?n.onClick:null,v=s!=null&&s.onClick?s.onClick:null;return t.jsxs(Z,{hasPrefix:!!n,isFloatingLabel:c,style:K,children:[!w||!c||!I?t.jsx(X,{hasError:a,htmlFor:E,isActive:w||u==="date",isDisabled:i,isFloating:c,isRequired:C,children:y}):null,t.jsxs($,{backgroundFill:_,"data-testid":"input-wrapper",hasError:a,isFloatingLabel:c,variant:W,children:[n!=null&&n.component?t.jsx(L,{"data-testid":"extra-preffix",...!!g&&{tabIndex:0,onClick:()=>g(l),onKeyDown:Q},children:n.component}):null,t.jsx(f,{"data-error":a,"data-testid":"input-field",disabled:i,id:E,isFloatingLabel:c,isSearchType:I,name:D??E,ref:H,type:u,value:l,...e,onBlur:M,onChange:G,onFocus:J}),I&&l?t.jsx(P,{"data-testid":"reset-icon",onKeyDown:N,tabIndex:0,children:t.jsx(V,{code:"close_small",onClick:F})}):null,s!=null&&s.component?t.jsx(x,{"data-testid":"extra-suffix",...!!v&&{tabIndex:0,onClick:()=>v(l),onKeyDown:S},children:s.component}):null]}),O?t.jsx(nn,{children:t.jsx(Y,{color:a?"error.default":U,element:"span",fontStyles:"body3",children:O})}):null,q]})};export{an as T};
