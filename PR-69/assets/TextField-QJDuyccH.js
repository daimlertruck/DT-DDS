import{j as s}from"./jsx-runtime-CB_V9I5Y.js";import{I as Z}from"./Icon-DG6KDu5A.js";import{I as b}from"./IconButton-C_mszqXk.js";import{L as f}from"./LabelField-tOX1zNx_.js";import{T as P}from"./Typography-DOQ44quZ.js";import{r}from"./index-CTjT7uj6.js";import{T as x,I as nn,a as tn,b as on,R as sn,c as en,d as ln}from"./TextField.styled-DPL42Y5B.js";const In=({dataTestId:B,hasError:D=!1,extraPrefix:n,extraSuffix:o,label:p,labelIcon:K,isFloatingLabel:c=!0,name:q,id:H,required:C,requiredMessage:j,style:S,children:W,initialValue:i,inputRef:_,message:k="",type:u="text",variant:$="outlined",scale:O="standard",backgroundFill:z="default",disabled:m=!1,onChange:R=()=>null,onResetInput:G=()=>null,...e})=>{const[J,h]=r.useState(!1),[l,d]=r.useState(""),[T,I]=r.useState(!1),y=H??p.replaceAll(" ","-").toLowerCase(),L=B??`${p.replaceAll(" ","-").toLowerCase()}-text-field`;r.useEffect(()=>{i?(d(i),I(!1)):d("")},[i]);const M=t=>{d(t.target.value),I(!1),R&&R(t)},N=t=>{e.readOnly||h(!0),e.onFocus&&e.onFocus(t)},Q=t=>{t.currentTarget.value.trim().length===0&&(h(!1),C&&j&&I(!0)),e.onBlur&&e.onBlur(t)},w=()=>{d(""),h(!1),G()},U=t=>t.code==="Enter"&&w(),V=t=>t.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(l),X=t=>t.code==="Enter"&&(o==null?void 0:o.onClick)&&o.onClick(l),Y=m?"content.light":"content.medium",a=D||T,F=T?j??k:k,g=J||!!l.trim(),E=u==="search",v=n!=null&&n.onClick?n.onClick:null,A=o!=null&&o.onClick?o.onClick:null;return s.jsxs(x,{"data-testid":L,hasPrefix:!!n,isFloatingLabel:c,style:S,children:[!g||!c||!E?s.jsx(f,{hasError:a,htmlFor:y,icon:K,isActive:g||u==="date",isDisabled:m,isFloating:c,isRequired:C,style:{top:O==="compact"?12:18},children:p}):null,s.jsxs(nn,{backgroundFill:z,"data-testid":"input-wrapper",hasError:a,isFloatingLabel:c,scale:O,variant:$,children:[n!=null&&n.component?s.jsx(tn,{"data-testid":"extra-preffix",...!!v&&{tabIndex:0,onClick:()=>v(l),onKeyDown:V},children:n.component}):null,s.jsx(on,{"data-error":a,"data-testid":"input-field",disabled:m,id:y,isFloatingLabel:c,isSearchType:E,name:q??y,readOnly:!!e.readOnly,ref:_,type:u,value:l,...e,onBlur:Q,onChange:M,onFocus:N}),E&&l?s.jsx(sn,{"data-testid":"reset-icon",onKeyDown:U,tabIndex:0,children:s.jsx(b,{onClick:w,children:s.jsx(Z,{code:"close_small"})})}):null,o!=null&&o.component?s.jsx(en,{"data-testid":"extra-suffix",...!!A&&{tabIndex:0,onClick:()=>A(l),onKeyDown:X},children:o.component}):null]}),F?s.jsx(ln,{children:s.jsx(P,{color:a?"error.default":Y,element:"span",fontStyles:"bodySmRegular",children:F})}):null,W]})};export{In as T};
