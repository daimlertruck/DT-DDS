import{j as s}from"./jsx-runtime-CB_V9I5Y.js";import{I as Z}from"./Icon-DG6KDu5A.js";import{I as b}from"./IconButton-C_mszqXk.js";import{L as f}from"./LabelField-DScw4xo5.js";import{T as P}from"./Typography-DHEP7O00.js";import{r}from"./index-CTjT7uj6.js";import{T as x,I as nn,a as tn,b as on,R as sn,c as en,d as ln}from"./TextField.styled-Ddd98NY4.js";const In=({dataTestId:D,hasError:K=!1,extraPrefix:n,extraSuffix:o,label:p,labelIcon:$,isFloatingLabel:c=!0,name:q,id:H,required:j,requiredMessage:k,style:S,children:W,initialValue:u,inputRef:_,message:R="",type:i="text",variant:z="outlined",scale:T="standard",backgroundFill:G="default",disabled:m=!1,onChange:w=()=>null,onResetInput:J=()=>null,...l})=>{const[L,h]=r.useState(!1),[e,d]=r.useState(""),[F,I]=r.useState(!1),E=H??p.replaceAll(" ","-").toLowerCase(),y=D??`${p.replaceAll(" ","-").toLowerCase()}-text-field`;r.useEffect(()=>{u?(d(u),I(!1)):d("")},[u]);const M=t=>{d(t.target.value),I(!1),w&&w(t)},N=t=>{l.readOnly||h(!0),l.onFocus&&l.onFocus(t)},Q=t=>{t.currentTarget.value.trim().length===0&&(h(!1),j&&k&&I(!0)),l.onBlur&&l.onBlur(t)},O=()=>{d(""),h(!1),J()},U=t=>t.code==="Enter"&&O(),V=t=>t.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(e),X=t=>t.code==="Enter"&&(o==null?void 0:o.onClick)&&o.onClick(e),Y=m?"content.light":"content.medium",a=K||F,g=F?k??R:R,v=L||!!e.trim(),C=i==="search",A=n!=null&&n.onClick?n.onClick:null,B=o!=null&&o.onClick?o.onClick:null;return s.jsxs(x,{"data-testid":y,hasPrefix:!!n,isFloatingLabel:c,style:S,children:[!v||!c||!C?s.jsx(f,{hasError:a,htmlFor:E,icon:$,isActive:v||i==="date",isDisabled:m,isFloating:c,isRequired:j,style:{top:T==="compact"?12:18},children:p}):null,s.jsxs(nn,{backgroundFill:G,"data-testid":`${y}-wrapper`,hasError:a,isFloatingLabel:c,scale:T,variant:z,children:[n!=null&&n.component?s.jsx(tn,{"data-testid":"extra-preffix",...!!A&&{tabIndex:0,onClick:()=>A(e),onKeyDown:V},children:n.component}):null,s.jsx(on,{"data-error":a,"data-testid":`${y}-input`,disabled:m,id:E,isFloatingLabel:c,isSearchType:C,name:q??E,ref:_,type:i,value:e,...l,onBlur:Q,onChange:M,onFocus:N}),C&&e?s.jsx(sn,{"data-testid":"reset-icon",onKeyDown:U,tabIndex:0,children:s.jsx(b,{onClick:O,children:s.jsx(Z,{code:"close_small"})})}):null,o!=null&&o.component?s.jsx(en,{"data-testid":"extra-suffix",...!!B&&{tabIndex:0,onClick:()=>B(e),onKeyDown:X},children:o.component}):null]}),g?s.jsx(ln,{children:s.jsx(P,{color:a?"error.default":Y,element:"span",fontStyles:"bodySmRegular",children:g})}):null,W]})};export{In as T};
