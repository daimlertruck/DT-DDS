import{j as o}from"./jsx-runtime-CB_V9I5Y.js";import{I as Z}from"./Icon-DG6KDu5A.js";import{L}from"./LabelField-ro4x02dt.js";import{T as b}from"./Typography-DHEP7O00.js";import{r as a}from"./index-CTjT7uj6.js";import{T as f,I as P,a as x,b as nn,c as sn,R as tn,d as on,e as en}from"./TextField.styled-D4stqIMl.js";const mn=({dataTestId:A,hasError:B=!1,extraPrefix:n,extraSuffix:s,label:p,labelIcon:D,isFloatingLabel:l=!0,name:$,id:K,required:y,requiredMessage:j,style:S,children:q,initialValue:u,inputRef:H,message:k="",type:i="text",variant:W="outlined",scale:T="standard",backgroundFill:_="default",disabled:m=!1,onChange:R=()=>null,onResetInput:z=()=>null,...c})=>{const[G,h]=a.useState(!1),[e,r]=a.useState(""),[O,I]=a.useState(!1),C=K??p.replaceAll(" ","-").toLowerCase(),E=A??`${p.replaceAll(" ","-").toLowerCase()}-text-field`;a.useEffect(()=>{u?(r(u),I(!1)):r("")},[u]);const J=t=>{r(t.target.value),I(!1),R&&R(t)},M=t=>{c.readOnly||h(!0),c.onFocus&&c.onFocus(t)},N=t=>{t.currentTarget.value.trim().length===0&&(h(!1),y&&j&&I(!0)),c.onBlur&&c.onBlur(t)},Q=()=>{r(""),h(!1),z()},U=t=>t.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(e),V=t=>t.code==="Enter"&&(s==null?void 0:s.onClick)&&s.onClick(e),X=m?"content.light":"content.medium",d=B||O,w=O?j??k:k,F=G||!!e.trim(),Y=i==="search",g=n!=null&&n.onClick?n.onClick:null,v=s!=null&&s.onClick?s.onClick:null;return o.jsxs(f,{"data-testid":E,hasError:d,hasPrefix:!!n,isFloatingLabel:l,style:S,children:[o.jsxs(P,{isFloatingLabel:l,children:[o.jsx(L,{hasError:d,htmlFor:C,icon:D,isActive:F||i==="date",isCentered:!F&&l,isDisabled:m,isFloating:l,isRequired:y,scale:T,children:p}),o.jsxs(x,{backgroundFill:_,"data-testid":`${E}-wrapper`,hasError:d,isFloatingLabel:l,scale:T,variant:W,children:[n!=null&&n.component?o.jsx(nn,{"data-testid":"extra-preffix",...!!g&&{tabIndex:0,onClick:()=>g(e),onKeyDown:U},children:n.component}):null,o.jsx(sn,{"data-error":d,"data-testid":`${E}-input`,disabled:m,id:C,isFloatingLabel:l,name:$??C,ref:H,type:i,value:e,...c,onBlur:N,onChange:J,onFocus:M}),Y&&e?o.jsx(tn,{dataTestId:"reset-icon",onClick:Q,children:o.jsx(Z,{code:"close_small"})}):null,s!=null&&s.component?o.jsx(on,{"data-testid":"extra-suffix",...!!v&&{tabIndex:0,onClick:()=>v(e),onKeyDown:V},children:s.component}):null]})]}),w?o.jsx(en,{children:o.jsx(b,{color:d?"error.default":X,element:"span",fontStyles:"bodySmRegular",children:w})}):null,q]})};export{mn as T};
