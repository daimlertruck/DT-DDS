import{j as o}from"./jsx-runtime-CB_V9I5Y.js";import{I as Z}from"./Icon-DG6KDu5A.js";import{L}from"./LabelField-BqlTcZVE.js";import{T as b}from"./Typography-DHEP7O00.js";import{r as p}from"./index-CTjT7uj6.js";import{T as f,I as P,a as x,b as nn,c as sn,R as tn,d as on,e as en}from"./TextField.styled-NhwAJsxj.js";const mn=({dataTestId:B,hasError:D=!1,extraPrefix:n,extraSuffix:s,label:u,labelIcon:$,isFloatingLabel:e=!0,name:K,id:S,required:k,requiredMessage:T,style:q,children:H,initialValue:m,inputRef:W,message:R="",type:i="text",variant:_="outlined",scale:O="standard",backgroundFill:z="default",disabled:h=!1,onChange:w=()=>null,onResetInput:G=()=>null,...c})=>{const[J,I]=p.useState(!1),[l,d]=p.useState(""),[v,C]=p.useState(!1),y=S??u.replaceAll(" ","-").toLowerCase(),E=B??`${u.replaceAll(" ","-").toLowerCase()}-text-field`;p.useEffect(()=>{m?(d(m),C(!1)):d("")},[m]);const M=t=>{d(t.target.value),C(!1),w&&w(t)},N=t=>{c.readOnly||I(!0),c.onFocus&&c.onFocus(t)},Q=t=>{t.currentTarget.value.trim().length===0&&(I(!1),k&&T&&C(!0)),c.onBlur&&c.onBlur(t)},U=()=>{d(""),I(!1),G()},V=t=>t.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(l),X=t=>t.code==="Enter"&&(s==null?void 0:s.onClick)&&s.onClick(l),Y=h?"content.light":"content.medium",a=D||v,A=v?T??R:R,j=J||!!l.trim(),r=i==="search",F=n!=null&&n.onClick?n.onClick:null,g=s!=null&&s.onClick?s.onClick:null;return o.jsxs(f,{"data-testid":E,hasPrefix:!!n,isFloatingLabel:e,style:q,children:[o.jsxs(P,{isFloatingLabel:e,children:[!j||!e||!r?o.jsx(L,{hasError:a,htmlFor:y,icon:$,isActive:j||i==="date",isCentered:e?!j:!1,isDisabled:h,isFloating:e,isRequired:k,scale:O,children:u}):null,o.jsxs(x,{backgroundFill:z,"data-testid":`${E}-wrapper`,hasError:a,isFloatingLabel:e,isSearchType:r,scale:O,variant:_,children:[n!=null&&n.component?o.jsx(nn,{"data-testid":"extra-preffix",...!!F&&{tabIndex:0,onClick:()=>F(l),onKeyDown:V},children:n.component}):null,o.jsx(sn,{"data-error":a,"data-testid":`${E}-input`,disabled:h,id:y,isFloatingLabel:e,isSearchType:r,name:K??y,ref:W,type:i,value:l,...c,onBlur:Q,onChange:M,onFocus:N}),r&&l?o.jsx(tn,{dataTestId:"reset-icon",onClick:U,children:o.jsx(Z,{code:"close_small"})}):null,s!=null&&s.component?o.jsx(on,{"data-testid":"extra-suffix",...!!g&&{tabIndex:0,onClick:()=>g(l),onKeyDown:X},children:s.component}):null]})]}),A?o.jsx(en,{children:o.jsx(b,{color:a?"error.default":Y,element:"span",fontStyles:"bodySmRegular",children:A})}):null,H]})};export{mn as T};
