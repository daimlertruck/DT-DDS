import{j as s}from"./jsx-runtime-CB_V9I5Y.js";import{I as L}from"./Icon-DG6KDu5A.js";import{I as b}from"./IconButton-C_mszqXk.js";import{L as f}from"./LabelField-BqlTcZVE.js";import{T as P}from"./Typography-DHEP7O00.js";import{r as p}from"./index-CTjT7uj6.js";import{T as x,I as nn,a as tn,b as on,c as sn,R as en,d as ln,e as cn}from"./TextField.styled-CiUZo3RN.js";const En=({dataTestId:D,hasError:K=!1,extraPrefix:n,extraSuffix:o,label:u,labelIcon:$,isFloatingLabel:e=!0,name:S,id:q,required:k,requiredMessage:R,style:H,children:W,initialValue:i,inputRef:_,message:T="",type:m="text",variant:z="outlined",scale:w="standard",backgroundFill:G="default",disabled:h=!1,onChange:O=()=>null,onResetInput:J=()=>null,...c})=>{const[M,I]=p.useState(!1),[l,d]=p.useState(""),[v,E]=p.useState(!1),y=q??u.replaceAll(" ","-").toLowerCase(),C=D??`${u.replaceAll(" ","-").toLowerCase()}-text-field`;p.useEffect(()=>{i?(d(i),E(!1)):d("")},[i]);const N=t=>{d(t.target.value),E(!1),O&&O(t)},Q=t=>{c.readOnly||I(!0),c.onFocus&&c.onFocus(t)},U=t=>{t.currentTarget.value.trim().length===0&&(I(!1),k&&R&&E(!0)),c.onBlur&&c.onBlur(t)},A=()=>{d(""),I(!1),J()},V=t=>t.code==="Enter"&&A(),X=t=>t.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(l),Y=t=>t.code==="Enter"&&(o==null?void 0:o.onClick)&&o.onClick(l),Z=h?"content.light":"content.medium",r=K||v,F=v?R??T:T,j=M||!!l.trim(),a=m==="search",g=n!=null&&n.onClick?n.onClick:null,B=o!=null&&o.onClick?o.onClick:null;return s.jsxs(x,{"data-testid":C,hasPrefix:!!n,isFloatingLabel:e,style:H,children:[s.jsxs(nn,{isFloatingLabel:e,children:[!j||!e||!a?s.jsx(f,{hasError:r,htmlFor:y,icon:$,isActive:j||m==="date",isCentered:e?!j:!1,isDisabled:h,isFloating:e,isRequired:k,scale:w,children:u}):null,s.jsxs(tn,{backgroundFill:G,"data-testid":`${C}-wrapper`,hasError:r,isFloatingLabel:e,isSearchType:a,scale:w,variant:z,children:[n!=null&&n.component?s.jsx(on,{"data-testid":"extra-preffix",...!!g&&{tabIndex:0,onClick:()=>g(l),onKeyDown:X},children:n.component}):null,s.jsx(sn,{"data-error":r,"data-testid":`${C}-input`,disabled:h,id:y,isFloatingLabel:e,isSearchType:a,name:S??y,ref:_,type:m,value:l,...c,onBlur:U,onChange:N,onFocus:Q}),a&&l?s.jsx(en,{"data-testid":"reset-icon",onKeyDown:V,tabIndex:0,children:s.jsx(b,{onClick:A,children:s.jsx(L,{code:"close_small"})})}):null,o!=null&&o.component?s.jsx(ln,{"data-testid":"extra-suffix",...!!B&&{tabIndex:0,onClick:()=>B(l),onKeyDown:Y},children:o.component}):null]})]}),F?s.jsx(cn,{children:s.jsx(P,{color:r?"error.default":Z,element:"span",fontStyles:"bodySmRegular",children:F})}):null,W]})};export{En as T};
