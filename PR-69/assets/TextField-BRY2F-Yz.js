import{j as s}from"./jsx-runtime-CB_V9I5Y.js";import{I as Z}from"./Icon-DG6KDu5A.js";import{I as b}from"./IconButton-C_mszqXk.js";import{L as f}from"./LabelField-tOX1zNx_.js";import{T as P}from"./Typography-DOQ44quZ.js";import{r}from"./index-CTjT7uj6.js";import{T as x,I as nn,a as on,b as tn,R as sn,c as en,d as ln}from"./TextField.styled-DPL42Y5B.js";const In=({dataTestId:D,hasError:K=!1,extraPrefix:n,extraSuffix:t,label:p,labelIcon:$,isFloatingLabel:c=!0,name:q,id:H,required:j,requiredMessage:k,style:S,children:W,initialValue:u,inputRef:_,message:O="",type:i="text",variant:z="outlined",scale:R="standard",backgroundFill:G="default",disabled:m=!1,onChange:T=()=>null,onResetInput:J=()=>null,...e})=>{const[L,h]=r.useState(!1),[l,d]=r.useState(""),[w,I]=r.useState(!1),y=H??p.replaceAll(" ","-").toLowerCase(),E=D??`${p.replaceAll(" ","-").toLowerCase()}-text-field`;r.useEffect(()=>{u?(d(u),I(!1)):d("")},[u]);const M=o=>{d(o.target.value),I(!1),T&&T(o)},N=o=>{e.readOnly||h(!0),e.onFocus&&e.onFocus(o)},Q=o=>{o.currentTarget.value.trim().length===0&&(h(!1),j&&k&&I(!0)),e.onBlur&&e.onBlur(o)},F=()=>{d(""),h(!1),J()},U=o=>o.code==="Enter"&&F(),V=o=>o.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(l),X=o=>o.code==="Enter"&&(t==null?void 0:t.onClick)&&t.onClick(l),Y=m?"content.light":"content.medium",a=K||w,g=w?k??O:O,v=L||!!l.trim(),C=i==="search",A=n!=null&&n.onClick?n.onClick:null,B=t!=null&&t.onClick?t.onClick:null;return s.jsxs(x,{"data-testid":E,hasPrefix:!!n,isFloatingLabel:c,style:S,children:[!v||!c||!C?s.jsx(f,{hasError:a,htmlFor:y,icon:$,isActive:v||i==="date",isDisabled:m,isFloating:c,isRequired:j,style:{top:R==="compact"?12:18},children:p}):null,s.jsxs(nn,{backgroundFill:G,"data-testid":`${E}-wrapper`,hasError:a,isFloatingLabel:c,scale:R,variant:z,children:[n!=null&&n.component?s.jsx(on,{"data-testid":"extra-preffix",...!!A&&{tabIndex:0,onClick:()=>A(l),onKeyDown:V},children:n.component}):null,s.jsx(tn,{"data-error":a,"data-testid":`${E}-input`,disabled:m,id:y,isFloatingLabel:c,isSearchType:C,name:q??y,readOnly:!!e.readOnly,ref:_,type:i,value:l,...e,onBlur:Q,onChange:M,onFocus:N}),C&&l?s.jsx(sn,{"data-testid":"reset-icon",onKeyDown:U,tabIndex:0,children:s.jsx(b,{onClick:F,children:s.jsx(Z,{code:"close_small"})})}):null,t!=null&&t.component?s.jsx(en,{"data-testid":"extra-suffix",...!!B&&{tabIndex:0,onClick:()=>B(l),onKeyDown:X},children:t.component}):null]}),g?s.jsx(ln,{children:s.jsx(P,{color:a?"error.default":Y,element:"span",fontStyles:"bodySmRegular",children:g})}):null,W]})};export{In as T};
