import{j as S}from"./jsx-runtime-DMAvRu52.js";import"./index-2KlYdZ3p.js";import"./index-DCrStp1_.js";import{g as Rt,r as a,R as be}from"./index-Dl6G-zuu.js";import{u as Mt}from"./useClickOutside-CBJSS0tk.js";import{I as Fe}from"./Icon-B8gBCtaI.js";import{L as kt}from"./LabelField-KXKo-lVe.js";import{T as tt}from"./Tooltip-DdXNCu6G.js";import{T as Bt}from"./Typography-CN_Plb5z.js";import{_ as k,n as W}from"./emotion-styled.browser.esm-DpDeK1WQ.js";import{C as Pt}from"./Checkbox-B7Xh7l-c.js";import{a as Ht}from"./z-index-Ds5QkyqS.js";function he(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var ut={exports:{}},Kt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ft=Kt,Lt=Ft;function at(){}function ct(){}ct.resetWarningCache=at;var jt=function(){function e(i,r,s,o,l,f){if(f!==Lt){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ct,resetWarningCache:at};return n.PropTypes=n,n};ut.exports=jt();var At=ut.exports;const u=Rt(At);var y={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ae=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),$e=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),De=Symbol.for("react.context"),Vt=Symbol.for("react.server_context"),Re=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Wt=Symbol.for("react.offscreen"),dt;dt=Symbol.for("react.module.reference");function A(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ae:switch(e=e.type,e){case Oe:case Te:case $e:case Me:case ke:return e;default:switch(e=e&&e.$$typeof,e){case Vt:case De:case Re:case Pe:case Be:case Ee:return e;default:return t}}case Ve:return t}}}y.ContextConsumer=De;y.ContextProvider=Ee;y.Element=Ae;y.ForwardRef=Re;y.Fragment=Oe;y.Lazy=Pe;y.Memo=Be;y.Portal=Ve;y.Profiler=Te;y.StrictMode=$e;y.Suspense=Me;y.SuspenseList=ke;y.isAsyncMode=function(){return!1};y.isConcurrentMode=function(){return!1};y.isContextConsumer=function(e){return A(e)===De};y.isContextProvider=function(e){return A(e)===Ee};y.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ae};y.isForwardRef=function(e){return A(e)===Re};y.isFragment=function(e){return A(e)===Oe};y.isLazy=function(e){return A(e)===Pe};y.isMemo=function(e){return A(e)===Be};y.isPortal=function(e){return A(e)===Ve};y.isProfiler=function(e){return A(e)===Te};y.isStrictMode=function(e){return A(e)===$e};y.isSuspense=function(e){return A(e)===Me};y.isSuspenseList=function(e){return A(e)===ke};y.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Oe||e===Te||e===$e||e===Me||e===ke||e===Wt||typeof e=="object"&&e!==null&&(e.$$typeof===Pe||e.$$typeof===Be||e.$$typeof===Ee||e.$$typeof===De||e.$$typeof===Re||e.$$typeof===dt||e.getModuleId!==void 0)};y.typeOf=A;const nt=e=>typeof e=="object"&&e!=null&&e.nodeType===1,rt=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",He=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return rt(n.overflowY,t)||rt(n.overflowX,t)||(i=>{const r=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(e)}return!1},ve=(e,t,n,i,r,s,o,l)=>s<e&&o>t||s>e&&o<t?0:s<=e&&l<=n||o>=t&&l>=n?s-e-i:o>t&&l<n||s<e&&l>n?o-t+r:0,Nt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},qt=(e,t)=>{var n,i,r,s;if(typeof document>"u")return[];const{inline:o,boundary:l,skipOverflowHiddenElements:f}=t,v=typeof l=="function"?l:F=>F!==l;if(!nt(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,E=[];let d=e;for(;nt(d)&&v(d);){if(d=Nt(d),d===m){E.push(d);break}d!=null&&d===document.body&&He(d)&&!He(document.documentElement)||d!=null&&He(d,f)&&E.push(d)}const b=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,w=(s=(r=window.visualViewport)==null?void 0:r.height)!=null?s:innerHeight,{scrollX:O,scrollY:x}=window,{height:$,width:D,top:N,right:P,bottom:ee,left:q}=e.getBoundingClientRect(),{top:ce,right:oe,left:le}=(F=>{const c=window.getComputedStyle(F);return{top:parseFloat(c.scrollMarginTop)||0,right:parseFloat(c.scrollMarginRight)||0,bottom:parseFloat(c.scrollMarginBottom)||0,left:parseFloat(c.scrollMarginLeft)||0}})(e);let _=N-ce,R=o==="center"?q+D/2-le+oe:o==="end"?P+oe:q-le;const te=[];for(let F=0;F<E.length;F++){const c=E[F],{height:I,width:C,top:L,right:p,bottom:h,left:g}=c.getBoundingClientRect();if(N>=0&&q>=0&&ee<=w&&P<=b&&N>=L&&ee<=h&&q>=g&&P<=p)return te;const T=getComputedStyle(c),j=parseInt(T.borderLeftWidth,10),V=parseInt(T.borderTopWidth,10),H=parseInt(T.borderRightWidth,10),U=parseInt(T.borderBottomWidth,10);let M=0,B=0;const K="offsetWidth"in c?c.offsetWidth-c.clientWidth-j-H:0,X="offsetHeight"in c?c.offsetHeight-c.clientHeight-V-U:0,z="offsetWidth"in c?c.offsetWidth===0?0:C/c.offsetWidth:0,J="offsetHeight"in c?c.offsetHeight===0?0:I/c.offsetHeight:0;if(m===c)M=ve(x,x+w,w,V,U,x+_,x+_+$,$),B=o==="start"?R:o==="center"?R-b/2:o==="end"?R-b:ve(O,O+b,b,j,H,O+R,O+R+D,D),M=Math.max(0,M+x),B=Math.max(0,B+O);else{M=ve(L,h,I,V,U+X,_,_+$,$),B=o==="start"?R-g-j:o==="center"?R-(g+C/2)+K/2:o==="end"?R-p+H+K:ve(g,p,C,j,H+K,R,R+D,D);const{scrollLeft:ne,scrollTop:re}=c;M=J===0?0:Math.max(0,Math.min(re+M/J,c.scrollHeight-I/J+X)),B=z===0?0:Math.max(0,Math.min(ne+B/z,c.scrollWidth-C/z+K)),_+=re-M,R+=ne-B}te.push({el:c,top:M,left:B})}return te};var ae=function(){return ae=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ae.apply(this,arguments)};var Ut=0;function ft(){}function zt(e,t){if(e){var n=qt(e,{boundary:t});n.forEach(function(i){var r=i.el,s=i.top,o=i.left;r.scrollTop=s,r.scrollLeft=o})}}function it(e,t,n){var i=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return i}function We(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];i(),n=setTimeout(function(){n=null,e.apply(void 0,o)},t)}return r.cancel=i,r}function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return t.some(function(l){return l&&l.apply(void 0,[i].concat(s)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function Ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){t.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function _t(){return String(Ut++)}function Le(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,i){return n[i]=Xt(t,i)?t[i]:e[i],n},{})}function Xt(e,t){return e[t]!==void 0}function Gt(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function me(e,t,n,i,r){r===void 0&&(r=!1);var s=n.length;if(s===0)return-1;var o=s-1;(typeof e!="number"||e<0||e>o)&&(e=t>0?-1:o+1);var l=e+t;l<0?l=r?o:0:l>o&&(l=r?0:o);var f=xe(l,t<0,n,i,r);return f===-1?e>=s?-1:e:f}function xe(e,t,n,i,r){r===void 0&&(r=!1);var s=n.length;if(t){for(var o=e;o>=0;o--)if(!i(n[o],o))return o}else for(var l=e;l<s;l++)if(!i(n[l],l))return l;return r?xe(t?s-1:0,t,n,i):-1}function ot(e,t,n,i){return i===void 0&&(i=!0),n&&t.some(function(r){return r&&(it(r,e,n)||i&&it(r,n.document.activeElement,n))})}var Yt=We(function(e){gt(e).textContent=""},500);function gt(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Zt(e,t){if(!(!e||!t)){var n=gt(t);n.textContent=e,Yt(t)}}function Jt(e){var t=e==null?void 0:e.getElementById("a11y-status-message");t&&t.remove()}var pt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Qt(e,t,n){var i=e.props,r=e.type,s={};Object.keys(t).forEach(function(o){en(o,e,t,n),n[o]!==t[o]&&(s[o]=n[o])}),i.onStateChange&&Object.keys(s).length&&i.onStateChange(k({type:r},s))}function en(e,t,n,i){var r=t.props,s=t.type,o="on"+Ne(e)+"Change";r[o]&&i[e]!==void 0&&i[e]!==n[e]&&r[o](k({type:s},i))}function tn(e,t){return t.changes}var lt=We(function(e,t){Zt(e,t)},200),nn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?a.useLayoutEffect:a.useEffect,rn="useId"in be?function(t){var n=t.id,i=t.labelId,r=t.menuId,s=t.getItemId,o=t.toggleButtonId,l=t.inputId,f="downshift-"+be.useId();n||(n=f);var v=a.useRef({labelId:i||n+"-label",menuId:r||n+"-menu",getItemId:s||function(m){return n+"-item-"+m},toggleButtonId:o||n+"-toggle-button",inputId:l||n+"-input"});return v.current}:function(t){var n=t.id,i=n===void 0?"downshift-"+_t():n,r=t.labelId,s=t.menuId,o=t.getItemId,l=t.toggleButtonId,f=t.inputId,v=a.useRef({labelId:r||i+"-label",menuId:s||i+"-menu",getItemId:o||function(m){return i+"-item-"+m},toggleButtonId:l||i+"-toggle-button",inputId:f||i+"-input"});return v.current};function on(e,t,n,i){var r,s;if(e===void 0){if(t===void 0)throw new Error(i);r=n[t],s=t}else s=t===void 0?n.indexOf(e):t,r=e;return[r,s]}function ln(e){return/^\S{1}$/.test(e)}function Ne(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ht(e){var t=a.useRef(e);return t.current=e,t}function sn(e,t,n,i){var r=a.useRef(),s=a.useRef(),o=a.useCallback(function(b,w){s.current=w,b=Le(b,w.props);var O=e(b,w),x=w.props.stateReducer(b,k({},w,{changes:O}));return x},[e]),l=a.useReducer(o,t,n),f=l[0],v=l[1],m=ht(t),E=a.useCallback(function(b){return v(k({props:m.current},b))},[m]),d=s.current;return a.useEffect(function(){var b=Le(r.current,d==null?void 0:d.props),w=d&&r.current&&!i(b,f);w&&Qt(d,b,f),r.current=f},[f,d,i]),[f,E]}function un(e,t,n,i){var r=sn(e,t,n,i),s=r[0],o=r[1];return[Le(s,t),o]}var ge={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:tn,scrollIntoView:zt,environment:typeof window>"u"?void 0:window};function Z(e,t,n){n===void 0&&(n=pt);var i=e["default"+Ne(t)];return i!==void 0?i:n[t]}function fe(e,t,n){n===void 0&&(n=pt);var i=e[t];if(i!==void 0)return i;var r=e["initial"+Ne(t)];return r!==void 0?r:Z(e,t,n)}function an(e){var t=fe(e,"selectedItem"),n=fe(e,"isOpen"),i=fe(e,"highlightedIndex"),r=fe(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(s){return e.itemToKey(s)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:r}}function we(e,t,n){var i=e.items,r=e.initialHighlightedIndex,s=e.defaultHighlightedIndex,o=e.isItemDisabled,l=e.itemToKey,f=t.selectedItem,v=t.highlightedIndex;return i.length===0?-1:r!==void 0&&v===r&&!o(i[r])?r:s!==void 0&&!o(i[s])?s:f?i.findIndex(function(m){return l(f)===l(m)}):n<0&&!o(i[i.length-1])?i.length-1:n>0&&!o(i[0])?0:-1}function cn(e,t,n){var i=a.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return a.useEffect(function(){if(!e)return ft;var r=t.map(function(m){return m.current});function s(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function o(m){i.current.isMouseDown=!1,ot(m.target,r,e)||n()}function l(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function f(){i.current.isTouchMove=!0}function v(m){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!ot(m.target,r,e,!1)&&n()}return e.addEventListener("mousedown",s),e.addEventListener("mouseup",o),e.addEventListener("touchstart",l),e.addEventListener("touchmove",f),e.addEventListener("touchend",v),function(){e.removeEventListener("mousedown",s),e.removeEventListener("mouseup",o),e.removeEventListener("touchstart",l),e.removeEventListener("touchmove",f),e.removeEventListener("touchend",v)}},[e,n]),i.current}var dn=function(){return ft};function fn(e,t,n,i){i===void 0&&(i={});var r=i.document,s=hn();a.useEffect(function(){if(!(!e||s||!r)){var o=e(t);lt(o,r)}},n),a.useEffect(function(){return function(){lt.cancel(),Jt(r)}},[r])}function gn(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,s=e.menuElement,o=e.scrollIntoView,l=a.useRef(!0);return nn(function(){t<0||!n||!Object.keys(i.current).length||(l.current===!1?l.current=!0:o(r(t),s))},[t]),l}function st(e,t,n){var i,r=((i=e.items)==null?void 0:i.length)&&t>=0;return k({isOpen:!1,highlightedIndex:-1},r&&k({selectedItem:e.items[t],isOpen:Z(e,"isOpen"),highlightedIndex:Z(e,"highlightedIndex")},n))}function pn(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function hn(){var e=be.useRef(!0);return be.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}var Ie={environment:u.shape({addEventListener:u.func.isRequired,removeEventListener:u.func.isRequired,document:u.shape({createElement:u.func.isRequired,getElementById:u.func.isRequired,activeElement:u.any.isRequired,body:u.any.isRequired}).isRequired,Node:u.func.isRequired}),itemToString:u.func,itemToKey:u.func,stateReducer:u.func},vt=k({},Ie,{getA11yStatusMessage:u.func,highlightedIndex:u.number,defaultHighlightedIndex:u.number,initialHighlightedIndex:u.number,isOpen:u.bool,defaultIsOpen:u.bool,initialIsOpen:u.bool,selectedItem:u.any,initialSelectedItem:u.any,defaultSelectedItem:u.any,id:u.string,labelId:u.string,menuId:u.string,getItemId:u.func,toggleButtonId:u.string,onSelectedItemChange:u.func,onHighlightedIndexChange:u.func,onStateChange:u.func,onIsOpenChange:u.func,scrollIntoView:u.func});function vn(e,t,n){var i=t.type,r=t.props,s;switch(i){case n.ItemMouseMove:s={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:s={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:s={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:we(r,e,0)};break;case n.FunctionOpenMenu:s={isOpen:!0,highlightedIndex:we(r,e,0)};break;case n.FunctionCloseMenu:s={isOpen:!1};break;case n.FunctionSetHighlightedIndex:s={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:s={inputValue:t.inputValue};break;case n.FunctionReset:s={highlightedIndex:Z(r,"highlightedIndex"),isOpen:Z(r,"isOpen"),selectedItem:Z(r,"selectedItem"),inputValue:Z(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return k({},e,s)}function mn(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,r=e.itemToString,s=e.isItemDisabled,o=t.toLowerCase(),l=0;l<i.length;l++){var f=(l+n+(t.length<2?1:0))%i.length,v=i[f];if(v!==void 0&&r(v).toLowerCase().startsWith(o)&&!s(v,f))return f}return n}ae(ae({},vt),{items:u.array.isRequired,isItemDisabled:u.func});var In=ae(ae({},ge),{isItemDisabled:function(){return!1}}),ye=0,qe=1,Ue=2,Se=3,ze=4,_e=5,Xe=6,Ge=7,Ye=8,Ze=9,Je=10,Ce=11,mt=12,It=13,Qe=14,yt=15,bt=16,xt=17,wt=18,et=19,je=20,St=21,Ct=Object.freeze({__proto__:null,ToggleButtonClick:ye,ToggleButtonKeyDownArrowDown:qe,ToggleButtonKeyDownArrowUp:Ue,ToggleButtonKeyDownCharacter:Se,ToggleButtonKeyDownEscape:ze,ToggleButtonKeyDownHome:_e,ToggleButtonKeyDownEnd:Xe,ToggleButtonKeyDownEnter:Ge,ToggleButtonKeyDownSpaceButton:Ye,ToggleButtonKeyDownPageUp:Ze,ToggleButtonKeyDownPageDown:Je,ToggleButtonBlur:Ce,MenuMouseLeave:mt,ItemMouseMove:It,ItemClick:Qe,FunctionToggleMenu:yt,FunctionOpenMenu:bt,FunctionCloseMenu:xt,FunctionSetHighlightedIndex:wt,FunctionSelectItem:et,FunctionSetInputValue:je,FunctionReset:St});function yn(e,t){var n,i=t.type,r=t.props,s=t.altKey,o;switch(i){case Qe:o={isOpen:Z(r,"isOpen"),highlightedIndex:Z(r,"highlightedIndex"),selectedItem:r.items[t.index]};break;case Se:{var l=t.key,f=""+e.inputValue+l,v=!e.isOpen&&e.selectedItem?r.items.findIndex(function(b){return r.itemToKey(b)===r.itemToKey(e.selectedItem)}):e.highlightedIndex,m=mn({keysSoFar:f,highlightedIndex:v,items:r.items,itemToString:r.itemToString,isItemDisabled:r.isItemDisabled});o={inputValue:f,highlightedIndex:m,isOpen:!0}}break;case qe:{var E=e.isOpen?me(e.highlightedIndex,1,r.items,r.isItemDisabled):s&&e.selectedItem==null?-1:we(r,e,1);o={highlightedIndex:E,isOpen:!0}}break;case Ue:if(e.isOpen&&s)o=st(r,e.highlightedIndex,!1);else{var d=e.isOpen?me(e.highlightedIndex,-1,r.items,r.isItemDisabled):we(r,e,-1);o={highlightedIndex:d,isOpen:!0}}break;case Ge:case Ye:o=st(r,e.highlightedIndex,!1);break;case _e:o={highlightedIndex:xe(0,!1,r.items,r.isItemDisabled),isOpen:!0};break;case Xe:o={highlightedIndex:xe(r.items.length-1,!0,r.items,r.isItemDisabled),isOpen:!0};break;case Ze:o={highlightedIndex:me(e.highlightedIndex,-10,r.items,r.isItemDisabled)};break;case Je:o={highlightedIndex:me(e.highlightedIndex,10,r.items,r.isItemDisabled)};break;case ze:o={isOpen:!1,highlightedIndex:-1};break;case Ce:o=k({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&{selectedItem:r.items[e.highlightedIndex]});break;case et:o={selectedItem:t.selectedItem};break;default:return vn(e,t,Ct)}return k({},e,o)}var bn=["onClick"],xn=["onMouseLeave","refKey","ref"],wn=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],Sn=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];ue.stateChangeTypes=Ct;function ue(e){e===void 0&&(e={});var t=k({},In,e),n=t.scrollIntoView,i=t.environment,r=t.getA11yStatusMessage,s=un(yn,t,an,pn),o=s[0],l=s[1],f=o.isOpen,v=o.highlightedIndex,m=o.selectedItem,E=o.inputValue,d=a.useRef(null),b=a.useRef(null),w=a.useRef({}),O=a.useRef(null),x=rn(t),$=ht({state:o,props:t}),D=a.useCallback(function(p){return w.current[x.getItemId(p)]},[x]);fn(r,o,[f,v,m,E],i);var N=gn({menuElement:b.current,highlightedIndex:v,isOpen:f,itemRefs:w,scrollIntoView:n,getItemNodeFromIndex:D});a.useEffect(function(){return O.current=We(function(p){p({type:je,inputValue:""})},500),function(){O.current.cancel()}},[]),a.useEffect(function(){E&&O.current(l)},[l,E]),a.useEffect(function(){var p=fe(t,"isOpen");p&&d.current&&d.current.focus()},[]);var P=cn(i,[d,b],a.useCallback(function(){$.current.state.isOpen&&l({type:Ce})},[l,$])),ee=dn();a.useEffect(function(){f||(w.current={})},[f]);var q=a.useMemo(function(){return{ArrowDown:function(h){h.preventDefault(),l({type:qe,altKey:h.altKey})},ArrowUp:function(h){h.preventDefault(),l({type:Ue,altKey:h.altKey})},Home:function(h){h.preventDefault(),l({type:_e})},End:function(h){h.preventDefault(),l({type:Xe})},Escape:function(){$.current.state.isOpen&&l({type:ze})},Enter:function(h){h.preventDefault(),l({type:$.current.state.isOpen?Ge:ye})},PageUp:function(h){$.current.state.isOpen&&(h.preventDefault(),l({type:Ze}))},PageDown:function(h){$.current.state.isOpen&&(h.preventDefault(),l({type:Je}))}," ":function(h){h.preventDefault();var g=$.current.state;if(!g.isOpen){l({type:ye});return}g.inputValue?l({type:Se,key:" "}):l({type:Ye})}}},[l,$]),ce=a.useCallback(function(){l({type:yt})},[l]),oe=a.useCallback(function(){l({type:xt})},[l]),le=a.useCallback(function(){l({type:bt})},[l]),_=a.useCallback(function(p){l({type:wt,highlightedIndex:p})},[l]),R=a.useCallback(function(p){l({type:et,selectedItem:p})},[l]),te=a.useCallback(function(){l({type:St})},[l]),F=a.useCallback(function(p){l({type:je,inputValue:p})},[l]),c=a.useCallback(function(p){var h=p===void 0?{}:p,g=h.onClick,T=he(h,bn),j=function(){var H;(H=d.current)==null||H.focus()};return k({id:x.labelId,htmlFor:x.toggleButtonId,onClick:Q(g,j)},T)},[x]),I=a.useCallback(function(p,h){var g,T=p===void 0?{}:p,j=T.onMouseLeave,V=T.refKey,H=V===void 0?"ref":V,U=T.ref,M=he(T,xn),B=h===void 0?{}:h;B.suppressRefError;var K=function(){l({type:mt})};return k((g={},g[H]=Ke(U,function(X){b.current=X}),g.id=x.menuId,g.role="listbox",g["aria-labelledby"]=M&&M["aria-label"]?void 0:""+x.labelId,g.onMouseLeave=Q(j,K),g),M)},[l,ee,x]),C=a.useCallback(function(p,h){var g,T=p===void 0?{}:p,j=T.onBlur,V=T.onClick;T.onPress;var H=T.onKeyDown,U=T.refKey,M=U===void 0?"ref":U,B=T.ref,K=he(T,wn),X=h===void 0?{}:h;X.suppressRefError;var z=$.current.state,J=function(){l({type:ye})},ne=function(){z.isOpen&&!P.isMouseDown&&l({type:Ce})},re=function(G){var Y=Gt(G);Y&&q[Y]?q[Y](G):ln(Y)&&l({type:Se,key:Y})},se=k((g={},g[M]=Ke(B,function(ie){d.current=ie}),g["aria-activedescendant"]=z.isOpen&&z.highlightedIndex>-1?x.getItemId(z.highlightedIndex):"",g["aria-controls"]=x.menuId,g["aria-expanded"]=$.current.state.isOpen,g["aria-haspopup"]="listbox",g["aria-labelledby"]=K&&K["aria-label"]?void 0:""+x.labelId,g.id=x.toggleButtonId,g.role="combobox",g.tabIndex=0,g.onBlur=Q(j,ne),g),K);return K.disabled||(se.onClick=Q(V,J),se.onKeyDown=Q(H,re)),se},[l,x,$,P,ee,q]),L=a.useCallback(function(p){var h,g=p===void 0?{}:p,T=g.item,j=g.index,V=g.onMouseMove,H=g.onClick,U=g.onMouseDown;g.onPress;var M=g.refKey,B=M===void 0?"ref":M,K=g.disabled,X=g.ref,z=he(g,Sn);K!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var J=$.current,ne=J.state,re=J.props,se=on(T,j,re.items,"Pass either item or index to getItemProps!"),ie=se[0],G=se[1],Y=re.isItemDisabled(ie,G),$t=function(){P.isTouchEnd||G===ne.highlightedIndex||(N.current=!1,l({type:It,index:G,disabled:Y}))},Tt=function(){l({type:Qe,index:G})},Et=function(Dt){return Dt.preventDefault()},pe=k((h={},h[B]=Ke(X,function(de){de&&(w.current[x.getItemId(G)]=de)}),h["aria-disabled"]=Y,h["aria-selected"]=""+(ie===ne.selectedItem),h.id=x.getItemId(G),h.role="option",h),z);return Y||(pe.onClick=Q(H,Tt)),pe.onMouseMove=Q(V,$t),pe.onMouseDown=Q(U,Et),pe},[$,x,P,N,l]);return{getToggleButtonProps:C,getLabelProps:c,getMenuProps:I,getItemProps:L,toggleMenu:ce,openMenu:le,closeMenu:oe,setHighlightedIndex:_,selectItem:R,reset:te,setInputValue:F,highlightedIndex:v,isOpen:f,selectedItem:m,inputValue:E}}k({},vt,{items:u.array.isRequired,isItemDisabled:u.func,inputValue:u.string,defaultInputValue:u.string,initialInputValue:u.string,inputId:u.string,onInputValueChange:u.func});k({},ge,{isItemDisabled:function(){return!1}});Ie.stateReducer,Ie.itemToKey,Ie.environment,u.array,u.array,u.array,u.func,u.number,u.number,u.number,u.func,u.func,u.string,u.string;ge.itemToKey,ge.stateReducer,ge.environment;const Ot=a.createContext(void 0),Cn=()=>{const e=a.useContext(Ot);if(!e)throw new Error("useSelectContext must be used within a SelectProvider");return e},On=({children:e,value:t})=>{const{highlightedIndex:n,selectedItems:i,...r}=t,s=l=>l===n,o=l=>!!i.find(f=>f.value===l.value);return S.jsx(Ot.Provider,{value:{isItemHighlighted:s,isItemSelected:o,...r},children:e})},$n=W.li`
  display: flex;

  ${({theme:e,isMulti:t,isHighlighted:n})=>`
    cursor:pointer;
    align-items: center;
    ${!t&&`padding: ${e.spacing["4xs"]} ${e.spacing["2xs"]}`};
    gap: ${t?e.spacing["4xs"]:e.spacing["5xs"]};
    background-color: ${n&&!t?e.palette.primary.light:e.palette.surface.contrast};

    color: ${e.palette.content.default};
    ${e.fontStyles.body2}

    & > label {
      ${t&&`padding: ${e.spacing["4xs"]} ${e.spacing["2xs"]}`};
    }
    
    &:hover,&:focus-within {
      background-color: ${e.palette.primary.light};
    }

    &[aria-disabled="true"] {
      cursor: not-allowed;
      color: ${e.palette.content.light};
      &:hover {
        background-color: ${e.palette.surface.contrast};
      }
    }
  `}
`,Tn=W.div`
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  width: 100%;
`,En=W.div`
  display: flex;

  ${({isCheckHidden:e})=>e&&"visibility: hidden;"};
`,Dn=({dataTestId:e,index:t,children:n,style:i,value:r,label:s,disabled:o})=>{const{getItemProps:l,isItemHighlighted:f,isItemSelected:v,isMulti:m}=Cn(),E={value:r,label:s,disabled:!!o},d=v(E),b=f(t),w=l({item:E,index:t});return S.jsx($n,{"aria-disabled":w["aria-disabled"],"data-testid":e,isHighlighted:b,isMulti:m,style:i,...!m&&{...w,"aria-selected":d},children:m?S.jsx(Pt,{isChecked:d,isDisabled:w["aria-disabled"],...w,children:n||s||r}):S.jsxs(S.Fragment,{children:[S.jsx(En,{isCheckHidden:!d,children:S.jsx(Fe,{code:"check",size:"medium"})}),S.jsx(Tn,{children:n||s||r})]})})},Rn=W.div`
  position: relative;
`,Mn=W.div`
  display: flex;
  height: auto;
  width: 100%;
  position: relative;
  flex-direction: column;
  overflow: hidden;
`,kn=W.ul`
  list-style-type: none;
  position: absolute;
  z-index: ${Ht};
  width: 100%;

  ${({isOpen:e,theme:t})=>`
    margin-top:${t.spacing["5xs"]};
    padding:  ${t.spacing["2xs"]} ${t.spacing.none};
    background-color: ${t.palette.surface.contrast};
    display: ${e?"block":"none"};
    border-radius: ${t.shape.formField};
  `}
`,Bn=W.div`
  display: flex;
  flex: 1;
  align-self: end;
  overflow: hidden;
`,Pn=W.div`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  ${({theme:e})=>`
    ${e.fontStyles.body2}
    color: ${e.palette.content.default};
  `}
`,Hn=W.div`
  transition: all 0.2s ease-in-out;
  width: 100%;
  height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;

  ${({theme:e,hasError:t,disabled:n})=>`
    ${e.fontStyles.body2}
    color: ${n?e.palette.content.light:e.palette.content.default};
    padding: ${e.spacing["4xs"]} ${e.spacing["3xs"]};
    gap: ${e.spacing["4xs"]} ;
    background-color: ${e.palette.surface.contrast};
    border-radius: ${e.shape.formField};
    cursor: ${n?"not-allowed":"pointer"};

    &:hover, &:focus {
      ${!n&&`border: 1px solid ${t?e.palette.error.default:e.palette.primary.default};`};
    }
  `};

  border: ${({theme:e,isActive:t,hasError:n,disabled:i})=>t?`1px solid ${e.palette.primary.default}`:n?`1px solid ${e.palette.error.default}`:`1px solid ${i?e.palette.border.light:e.palette.border.default}`};
`,Kn=W.div`
  display: flex;
`,Fn=W.div`
  ${({theme:e})=>`
    padding-left: ${e.spacing["2xs"]};
  `}
`,Ln=e=>({value:e.props.value,label:e.props.label,disabled:!!e.props.disabled}),jn=e=>e?e.label||e.value:"",An=({dataTestId:e,style:t,helperText:n="",hasError:i=!1,initialValue:r="",label:s,isMulti:o=!1,isRequired:l,errorMessage:f,children:v,isDisabled:m,onChange:E})=>{const[d,b]=a.useState([]),w=a.useRef(null),O=a.useCallback((c,I=!1)=>{var C;b(c),E&&!I&&E(o?c.map(L=>L.value).filter(L=>!!L):((C=c[0])==null?void 0:C.value)||"")},[b,o,E]),x=c=>{c.stopPropagation(),O([])},$=i&&f?f:n,D=a.useMemo(()=>{const c=a.Children.map(v,I=>a.isValidElement(I)&&I.props.value!=null?Ln(I):null);return c?c.filter(Boolean):[]},[v]),N=a.useMemo(()=>{const c=I=>!!D.find(C=>C.value===I.value);return d.filter(c)},[D,d]);a.useEffect(()=>{const I=Array.isArray(r)?r.map(C=>D.find(L=>L.value===C)).filter(C=>!!C):D.find(C=>C.value===r);!r||!I||Array.isArray(I)&&I.length===0?O([],!0):Array.isArray(I)?O(o?I:[I[0]],!0):O([I],!0)},[o,r,D,O]),a.useEffect(()=>{D.length===1&&d.length===0&&O([D[0]]),N.length!==d.length&&O(N)},[D,d,N,O]);const{isOpen:P,closeMenu:ee,getToggleButtonProps:q,getLabelProps:ce,getMenuProps:oe,highlightedIndex:le,getItemProps:_}=ue({items:D,isItemDisabled(c){return!!c.disabled},itemToString:jn,stateReducer:(c,I)=>{const{changes:C,type:L}=I;switch(L){case ue.stateChangeTypes.ToggleButtonKeyDownEnter:case ue.stateChangeTypes.ToggleButtonKeyDownSpaceButton:case ue.stateChangeTypes.ItemClick:case ue.stateChangeTypes.ToggleButtonBlur:return{...C,isOpen:o,highlightedIndex:c.highlightedIndex};default:return C}},selectedItem:null,onSelectedItemChange:({selectedItem:c})=>{let I=[];o?d.includes(c)?I=d.filter(C=>C!==c):I=[...d,c]:I=[c],O(I)}}),R=!!d&&!!d.length,te=()=>d.length>1?`${d.length} options selected`:d[0].label||d[0].value;Mt({ref:w,handler:()=>ee()});const F=m||D.length===1;return S.jsx(On,{value:{highlightedIndex:le,getItemProps:_,selectedItems:d,isMulti:o},children:S.jsxs(Rn,{"data-testid":e,ref:w,style:t,children:[S.jsx(Mn,{children:S.jsxs(Hn,{...q({disabled:F}),hasError:i,isActive:P,children:[S.jsxs(Bn,{children:[S.jsx(kt,{...ce(),hasError:i,isActive:R,isDisabled:F,isRequired:l,children:s}),R?S.jsx(Pn,{children:te()}):null]}),S.jsxs(Kn,{children:[o&&R?S.jsxs(tt,{children:[S.jsx(Fe,{code:"close",dataTestId:"clear-selection",onClick:x,size:"medium"}),S.jsx(tt.Content,{children:"Clear all"})]}):null,S.jsx(Fe,{code:P?"expand_less":"expand_more",size:"medium"})]})]})}),S.jsx(kn,{...oe(),"aria-multiselectable":o,isOpen:P,children:P?v:null}),$?S.jsx(Fn,{children:S.jsx(Bt,{color:i?"error.default":"content.light",element:"span",fontStyles:"body3",children:$})}):null]})})};An.Option=Dn;export{An as S};
