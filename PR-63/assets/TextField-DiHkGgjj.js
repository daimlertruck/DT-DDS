import{j as t}from"./jsx-runtime-CB_V9I5Y.js";import{I as Y}from"./Icon-DG6KDu5A.js";import{I as Z}from"./IconButton-C_mszqXk.js";import{L as $,i as b}from"./LabelField-BX4w1v4m.js";import{T as L}from"./Typography-DOQ44quZ.js";import{r}from"./index-CTjT7uj6.js";import{T as f,I as P,a as x,b as nn,R as on,c as sn,d as tn}from"./TextField.styled-C4hZ2kmn.js";const mn=({hasError:B=!1,extraPrefix:n,extraSuffix:s,label:y,labelIcon:C,isFloatingLabel:c=!0,name:D,id:K,required:j,requiredMessage:k,style:q,children:H,initialValue:p,inputRef:S,message:R="",type:i="text",variant:W="outlined",backgroundFill:_="default",disabled:u=!1,onChange:T=()=>null,onResetInput:z=()=>null,...l})=>{const[G,m]=r.useState(!1),[e,d]=r.useState(""),[F,h]=r.useState(!1),E=K??y.replaceAll(" ","-").toLowerCase();r.useEffect(()=>{p?(d(p),h(!1)):d("")},[p]);const J=o=>{d(o.target.value),h(!1),T&&T(o)},M=o=>{l.readOnly||m(!0),l.onFocus&&l.onFocus(o)},N=o=>{o.currentTarget.value.trim().length===0&&(m(!1),j&&k&&h(!0)),l.onBlur&&l.onBlur(o)},O=()=>{d(""),m(!1),z()},Q=o=>o.code==="Enter"&&O(),U=o=>o.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(e),V=o=>o.code==="Enter"&&(s==null?void 0:s.onClick)&&s.onClick(e),X=u?"content.light":"content.medium",a=B||F,g=F?k??R:R,w=G||!!e.trim(),I=i==="search",v=n!=null&&n.onClick?n.onClick:null,A=s!=null&&s.onClick?s.onClick:null;return t.jsxs(f,{hasPrefix:!!n,isFloatingLabel:c,style:q,children:[!w||!c||!I?t.jsx($,{hasError:a,htmlFor:E,...b(C)&&{icon:C},isActive:w||i==="date",isDisabled:u,isFloating:c,isRequired:j,children:y}):null,t.jsxs(P,{backgroundFill:_,"data-testid":"input-wrapper",hasError:a,isFloatingLabel:c,variant:W,children:[n!=null&&n.component?t.jsx(x,{"data-testid":"extra-preffix",...!!v&&{tabIndex:0,onClick:()=>v(e),onKeyDown:U},children:n.component}):null,t.jsx(nn,{"data-error":a,"data-testid":"input-field",disabled:u,id:E,isFloatingLabel:c,isSearchType:I,name:D??E,ref:S,type:i,value:e,...l,onBlur:N,onChange:J,onFocus:M}),I&&e?t.jsx(on,{"data-testid":"reset-icon",onKeyDown:Q,tabIndex:0,children:t.jsx(Z,{onClick:O,children:t.jsx(Y,{code:"close_small"})})}):null,s!=null&&s.component?t.jsx(sn,{"data-testid":"extra-suffix",...!!A&&{tabIndex:0,onClick:()=>A(e),onKeyDown:V},children:s.component}):null]}),g?t.jsx(tn,{children:t.jsx(L,{color:a?"error.default":X,element:"span",fontStyles:"bodySmRegular",children:g})}):null,H]})};export{mn as T};
