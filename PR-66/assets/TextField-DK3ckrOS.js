import{j as s}from"./jsx-runtime-CB_V9I5Y.js";import{I as Y}from"./Icon-DG6KDu5A.js";import{I as Z}from"./IconButton-C_mszqXk.js";import{L as b}from"./LabelField-tOX1zNx_.js";import{T as f}from"./Typography-DOQ44quZ.js";import{r}from"./index-CTjT7uj6.js";import{T as P,I as x,a as nn,b as on,R as tn,c as sn,d as en}from"./TextField.styled-C4hZ2kmn.js";const hn=({dataTestId:A,hasError:B=!1,extraPrefix:n,extraSuffix:t,label:p,labelIcon:D,isFloatingLabel:c=!0,name:K,id:q,required:C,requiredMessage:j,style:H,children:S,initialValue:i,inputRef:W,message:k="",type:u="text",variant:_="outlined",backgroundFill:$="default",disabled:m=!1,onChange:R=()=>null,onResetInput:z=()=>null,...l})=>{const[G,h]=r.useState(!1),[e,d]=r.useState(""),[T,I]=r.useState(!1),E=q??p.replaceAll(" ","-").toLowerCase(),J=A??`${p.replaceAll(" ","-").toLowerCase()}-text-field`;r.useEffect(()=>{i?(d(i),I(!1)):d("")},[i]);const L=o=>{d(o.target.value),I(!1),R&&R(o)},M=o=>{l.readOnly||h(!0),l.onFocus&&l.onFocus(o)},N=o=>{o.currentTarget.value.trim().length===0&&(h(!1),C&&j&&I(!0)),l.onBlur&&l.onBlur(o)},w=()=>{d(""),h(!1),z()},Q=o=>o.code==="Enter"&&w(),U=o=>o.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(e),V=o=>o.code==="Enter"&&(t==null?void 0:t.onClick)&&t.onClick(e),X=m?"content.light":"content.medium",a=B||T,F=T?j??k:k,O=G||!!e.trim(),y=u==="search",g=n!=null&&n.onClick?n.onClick:null,v=t!=null&&t.onClick?t.onClick:null;return s.jsxs(P,{"data-testid":J,hasPrefix:!!n,isFloatingLabel:c,style:H,children:[!O||!c||!y?s.jsx(b,{hasError:a,htmlFor:E,icon:D,isActive:O||u==="date",isDisabled:m,isFloating:c,isRequired:C,children:p}):null,s.jsxs(x,{backgroundFill:$,"data-testid":"input-wrapper",hasError:a,isFloatingLabel:c,variant:_,children:[n!=null&&n.component?s.jsx(nn,{"data-testid":"extra-preffix",...!!g&&{tabIndex:0,onClick:()=>g(e),onKeyDown:U},children:n.component}):null,s.jsx(on,{"data-error":a,"data-testid":"input-field",disabled:m,id:E,isFloatingLabel:c,isSearchType:y,name:K??E,ref:W,type:u,value:e,...l,onBlur:N,onChange:L,onFocus:M}),y&&e?s.jsx(tn,{"data-testid":"reset-icon",onKeyDown:Q,tabIndex:0,children:s.jsx(Z,{onClick:w,children:s.jsx(Y,{code:"close_small"})})}):null,t!=null&&t.component?s.jsx(sn,{"data-testid":"extra-suffix",...!!v&&{tabIndex:0,onClick:()=>v(e),onKeyDown:V},children:t.component}):null]}),F?s.jsx(en,{children:s.jsx(f,{color:a?"error.default":X,element:"span",fontStyles:"bodySmRegular",children:F})}):null,S]})};export{hn as T};
