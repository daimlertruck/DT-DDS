var Ie=Object.defineProperty;var n=(a,e)=>Ie(a,"name",{value:e,configurable:!0});import{j as Q}from"./jsx-runtime-Cgz2XvFB.js";import"./typography-B3nKKPHm.js";import"./index-DBK8pENg.js";import{b as Ae,P as _e}from"./z-index-KGn0H6PT.js";import{b as me,r as x}from"./index-CwbBKW39.js";import{u as je}from"./useClickOutside-Cp2kQToC.js";import{f as we}from"./emotion-styled.browser.esm-Cgg3GKEJ.js";import"./index-DV-VXEUn.js";var Te={exports:{}};/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Oe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],X=Oe.join(","),Fe=typeof Element>"u",I=Fe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ee=!Fe&&Element.prototype.getRootNode?function(a){var e;return a==null||(e=a.getRootNode)===null||e===void 0?void 0:e.call(a)}:function(a){return a==null?void 0:a.ownerDocument},W=n(function(e,r){var t;r===void 0&&(r=!0);var o=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"inert"),s=o===""||o==="true",i=s||r&&e&&W(e.parentNode);return i},"isInert"),Le=n(function(e){var r,t=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return t===""||t==="true"},"isContentEditable"),De=n(function(e,r,t){if(W(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(X));return r&&I.call(e,X)&&o.unshift(e),o=o.filter(t),o},"getCandidates"),te=n(function(e,r,t){for(var o=[],s=Array.from(e);s.length;){var i=s.shift();if(!W(i,!1))if(i.tagName==="SLOT"){var d=i.assignedElements(),l=d.length?d:i.children,v=te(l,!0,t);t.flatten?o.push.apply(o,v):o.push({scopeParent:i,candidates:v})}else{var g=I.call(i,X);g&&t.filter(i)&&(r||!e.includes(i))&&o.push(i);var y=i.shadowRoot||typeof t.getShadowRoot=="function"&&t.getShadowRoot(i),w=!W(y,!1)&&(!t.shadowRootFilter||t.shadowRootFilter(i));if(y&&w){var k=te(y===!0?i.children:y.children,!0,t);t.flatten?o.push.apply(o,k):o.push({scopeParent:i,candidates:k})}else s.unshift.apply(s,i.children)}}return o},"getCandidatesIteratively"),ke=n(function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},"hasTabIndex"),P=n(function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Le(e))&&!ke(e)?0:e.tabIndex},"getTabIndex"),Be=n(function(e,r){var t=P(e);return t<0&&r&&!ke(e)?0:t},"getSortOrderTabIndex"),Me=n(function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},"sortOrderedTabbables"),Ee=n(function(e){return e.tagName==="INPUT"},"isInput"),$e=n(function(e){return Ee(e)&&e.type==="hidden"},"isHiddenInput"),Ke=n(function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(t){return t.tagName==="SUMMARY"});return r},"isDetailsWithSummary"),qe=n(function(e,r){for(var t=0;t<e.length;t++)if(e[t].checked&&e[t].form===r)return e[t]},"getCheckedRadio"),ze=n(function(e){if(!e.name)return!0;var r=e.form||ee(e),t=n(function(d){return r.querySelectorAll('input[type="radio"][name="'+d+'"]')},"queryRadios"),o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=t(window.CSS.escape(e.name));else try{o=t(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=qe(o,e.form);return!s||s===e},"isTabbableRadio"),Ge=n(function(e){return Ee(e)&&e.type==="radio"},"isRadio"),Ue=n(function(e){return Ge(e)&&!ze(e)},"isNonTabbableRadio"),We=n(function(e){var r,t=e&&ee(e),o=(r=t)===null||r===void 0?void 0:r.host,s=!1;if(t&&t!==e){var i,d,l;for(s=!!((i=o)!==null&&i!==void 0&&(d=i.ownerDocument)!==null&&d!==void 0&&d.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&o;){var v,g,y;t=ee(o),o=(v=t)===null||v===void 0?void 0:v.host,s=!!((g=o)!==null&&g!==void 0&&(y=g.ownerDocument)!==null&&y!==void 0&&y.contains(o))}}return s},"isNodeAttached"),pe=n(function(e){var r=e.getBoundingClientRect(),t=r.width,o=r.height;return t===0&&o===0},"isZeroArea"),Ve=n(function(e,r){var t=r.displayCheck,o=r.getShadowRoot;if(t==="full-native"&&"checkVisibility"in e){var s=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(e).visibility==="hidden")return!0;var i=I.call(e,"details>summary:first-of-type"),d=i?e.parentElement:e;if(I.call(d,"details:not([open]) *"))return!0;if(!t||t==="full"||t==="full-native"||t==="legacy-full"){if(typeof o=="function"){for(var l=e;e;){var v=e.parentElement,g=ee(e);if(v&&!v.shadowRoot&&o(v)===!0)return pe(e);e.assignedSlot?e=e.assignedSlot:!v&&g!==e.ownerDocument?e=g.host:e=v}e=l}if(We(e))return!e.getClientRects().length;if(t!=="legacy-full")return!0}else if(t==="non-zero-area")return pe(e);return!1},"isHidden"),Ze=n(function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var t=0;t<r.children.length;t++){var o=r.children.item(t);if(o.tagName==="LEGEND")return I.call(r,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}r=r.parentElement}return!1},"isDisabledFromFieldset"),re=n(function(e,r){return!(r.disabled||W(r)||$e(r)||Ve(r,e)||Ke(r)||Ze(r))},"isNodeMatchingSelectorFocusable"),ce=n(function(e,r){return!(Ue(r)||P(r)<0||!re(e,r))},"isNodeMatchingSelectorTabbable"),He=n(function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},"isShadowRootTabbable"),Se=n(function(e){var r=[],t=[];return e.forEach(function(o,s){var i=!!o.scopeParent,d=i?o.scopeParent:o,l=Be(d,i),v=i?Se(o.candidates):d;l===0?i?r.push.apply(r,v):r.push(d):t.push({documentOrder:s,tabIndex:l,item:o,isScope:i,content:v})}),t.sort(Me).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(r)},"sortByOrder"),Ne=n(function(e,r){r=r||{};var t;return r.getShadowRoot?t=te([e],r.includeContainer,{filter:ce.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:He}):t=De(e,r.includeContainer,ce.bind(null,r)),Se(t)},"tabbable"),Pe=n(function(e,r){r=r||{};var t;return r.getShadowRoot?t=te([e],r.includeContainer,{filter:re.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):t=De(e,r.includeContainer,re.bind(null,r)),t},"focusable"),C=n(function(e,r){if(r=r||{},!e)throw new Error("No node provided");return I.call(e,X)===!1?!1:ce(r,e)},"isTabbable"),Je=Oe.concat("iframe").join(","),Y=n(function(e,r){if(r=r||{},!e)throw new Error("No node provided");return I.call(e,Je)===!1?!1:re(r,e)},"isFocusable");const Qe=Object.freeze(Object.defineProperty({__proto__:null,focusable:Pe,getTabIndex:P,isFocusable:Y,isTabbable:C,tabbable:Ne},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.6.6
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function le(a,e){(e==null||e>a.length)&&(e=a.length);for(var r=0,t=Array(e);r<e;r++)t[r]=a[r];return t}n(le,"_arrayLikeToArray");function Ye(a){if(Array.isArray(a))return le(a)}n(Ye,"_arrayWithoutHoles");function Xe(a,e,r){return(e=nt(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}n(Xe,"_defineProperty$1");function et(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}n(et,"_iterableToArray");function tt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n(tt,"_nonIterableSpread");function be(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,t)}return r}n(be,"ownKeys");function he(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?be(Object(r),!0).forEach(function(t){Xe(a,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(r,t))})}return a}n(he,"_objectSpread2");function rt(a){return Ye(a)||et(a)||it(a)||tt()}n(rt,"_toConsumableArray");function at(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}n(at,"_toPrimitive$1");function nt(a){var e=at(a,"string");return typeof e=="symbol"?e:e+""}n(nt,"_toPropertyKey$1");function it(a,e){if(a){if(typeof a=="string")return le(a,e);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(a,e):void 0}}n(it,"_unsupportedIterableToArray");var ye={activateTrap:n(function(e,r){if(e.length>0){var t=e[e.length-1];t!==r&&t._setPausedState(!0)}var o=e.indexOf(r);o===-1||e.splice(o,1),e.push(r)},"activateTrap"),deactivateTrap:n(function(e,r){var t=e.indexOf(r);t!==-1&&e.splice(t,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)},"deactivateTrap")},ot=n(function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},"isSelectableInput"),ut=n(function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},"isEscapeEvent"),U=n(function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},"isTabEvent"),st=n(function(e){return U(e)&&!e.shiftKey},"isKeyForward"),ct=n(function(e){return U(e)&&e.shiftKey},"isKeyBackward"),ge=n(function(e){return setTimeout(e,0)},"delay"),z=n(function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,t):e},"valueOrHandler"),J=n(function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},"getActualTarget"),lt=[],ft=n(function(e,r){var t=(r==null?void 0:r.document)||document,o=(r==null?void 0:r.trapStack)||lt,s=he({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:st,isKeyBackward:ct},r),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,l=n(function(u,c,f){return u&&u[c]!==void 0?u[c]:s[f||c]},"getOption"),v=n(function(u,c){var f=typeof(c==null?void 0:c.composedPath)=="function"?c.composedPath():void 0;return i.containerGroups.findIndex(function(b){var h=b.container,T=b.tabbableNodes;return h.contains(u)||(f==null?void 0:f.includes(h))||T.find(function(p){return p===u})})},"findContainerIndex"),g=n(function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.hasFallback,b=f===void 0?!1:f,h=c.params,T=h===void 0?[]:h,p=s[u];if(typeof p=="function"&&(p=p.apply(void 0,rt(T))),p===!0&&(p=void 0),!p){if(p===void 0||p===!1)return p;throw new Error("`".concat(u,"` was specified but was not a node, or did not return a node"))}var F=p;if(typeof p=="string"){try{F=t.querySelector(p)}catch(D){throw new Error("`".concat(u,'` appears to be an invalid selector; error="').concat(D.message,'"'))}if(!F&&!b)throw new Error("`".concat(u,"` as selector refers to no known node"))}return F},"getNodeForOption"),y=n(function(){var u=g("initialFocus",{hasFallback:!0});if(u===!1)return!1;if(u===void 0||u&&!Y(u,s.tabbableOptions))if(v(t.activeElement)>=0)u=t.activeElement;else{var c=i.tabbableGroups[0],f=c&&c.firstTabbableNode;u=f||g("fallbackFocus")}else u===null&&(u=g("fallbackFocus"));if(!u)throw new Error("Your focus-trap needs to have at least one focusable element");return u},"getInitialFocusNode"),w=n(function(){if(i.containerGroups=i.containers.map(function(u){var c=Ne(u,s.tabbableOptions),f=Pe(u,s.tabbableOptions),b=c.length>0?c[0]:void 0,h=c.length>0?c[c.length-1]:void 0,T=f.find(function(D){return C(D)}),p=f.slice().reverse().find(function(D){return C(D)}),F=!!c.find(function(D){return P(D)>0});return{container:u,tabbableNodes:c,focusableNodes:f,posTabIndexesFound:F,firstTabbableNode:b,lastTabbableNode:h,firstDomTabbableNode:T,lastDomTabbableNode:p,nextTabbableNode:n(function(R){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=c.indexOf(R);return N<0?K?f.slice(f.indexOf(R)+1).find(function(q){return C(q)}):f.slice(0,f.indexOf(R)).reverse().find(function(q){return C(q)}):c[N+(K?1:-1)]},"nextTabbableNode")}}),i.tabbableGroups=i.containerGroups.filter(function(u){return u.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!g("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(u){return u.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},"updateTabbableNodes"),k=n(function(u){var c=u.activeElement;if(c)return c.shadowRoot&&c.shadowRoot.activeElement!==null?k(c.shadowRoot):c},"getActiveElement"),O=n(function(u){if(u!==!1&&u!==k(document)){if(!u||!u.focus){O(y());return}u.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=u,ot(u)&&u.select()}},"tryFocus"),A=n(function(u){var c=g("setReturnFocus",{params:[u]});return c||(c===!1?!1:u)},"getReturnFocusNode"),_=n(function(u){var c=u.target,f=u.event,b=u.isBackward,h=b===void 0?!1:b;c=c||J(f),w();var T=null;if(i.tabbableGroups.length>0){var p=v(c,f),F=p>=0?i.containerGroups[p]:void 0;if(p<0)h?T=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:T=i.tabbableGroups[0].firstTabbableNode;else if(h){var D=i.tabbableGroups.findIndex(function(ie){var oe=ie.firstTabbableNode;return c===oe});if(D<0&&(F.container===c||Y(c,s.tabbableOptions)&&!C(c,s.tabbableOptions)&&!F.nextTabbableNode(c,!1))&&(D=p),D>=0){var R=D===0?i.tabbableGroups.length-1:D-1,K=i.tabbableGroups[R];T=P(c)>=0?K.lastTabbableNode:K.lastDomTabbableNode}else U(f)||(T=F.nextTabbableNode(c,!1))}else{var N=i.tabbableGroups.findIndex(function(ie){var oe=ie.lastTabbableNode;return c===oe});if(N<0&&(F.container===c||Y(c,s.tabbableOptions)&&!C(c,s.tabbableOptions)&&!F.nextTabbableNode(c))&&(N=p),N>=0){var q=N===i.tabbableGroups.length-1?0:N+1,ve=i.tabbableGroups[q];T=P(c)>=0?ve.firstTabbableNode:ve.firstDomTabbableNode}else U(f)||(T=F.nextTabbableNode(c))}}else T=g("fallbackFocus");return T},"findNextNavNode"),S=n(function(u){var c=J(u);if(!(v(c,u)>=0)){if(z(s.clickOutsideDeactivates,u)){d.deactivate({returnFocus:s.returnFocusOnDeactivate});return}z(s.allowOutsideClick,u)||u.preventDefault()}},"checkPointerDown"),E=n(function(u){var c=J(u),f=v(c,u)>=0;if(f||c instanceof Document)f&&(i.mostRecentlyFocusedNode=c);else{u.stopImmediatePropagation();var b,h=!0;if(i.mostRecentlyFocusedNode)if(P(i.mostRecentlyFocusedNode)>0){var T=v(i.mostRecentlyFocusedNode),p=i.containerGroups[T].tabbableNodes;if(p.length>0){var F=p.findIndex(function(D){return D===i.mostRecentlyFocusedNode});F>=0&&(s.isKeyForward(i.recentNavEvent)?F+1<p.length&&(b=p[F+1],h=!1):F-1>=0&&(b=p[F-1],h=!1))}}else i.containerGroups.some(function(D){return D.tabbableNodes.some(function(R){return P(R)>0})})||(h=!1);else h=!1;h&&(b=_({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),O(b||i.mostRecentlyFocusedNode||y())}i.recentNavEvent=void 0},"checkFocusIn"),V=n(function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=u;var f=_({event:u,isBackward:c});f&&(U(u)&&u.preventDefault(),O(f))},"checkKeyNav"),M=n(function(u){(s.isKeyForward(u)||s.isKeyBackward(u))&&V(u,s.isKeyBackward(u))},"checkTabKey"),j=n(function(u){ut(u)&&z(s.escapeDeactivates,u)!==!1&&(u.preventDefault(),d.deactivate())},"checkEscapeKey"),L=n(function(u){var c=J(u);v(c,u)>=0||z(s.clickOutsideDeactivates,u)||z(s.allowOutsideClick,u)||(u.preventDefault(),u.stopImmediatePropagation())},"checkClick"),Z=n(function(){if(i.active)return ye.activateTrap(o,d),i.delayInitialFocusTimer=s.delayInitialFocus?ge(function(){O(y())}):O(y()),t.addEventListener("focusin",E,!0),t.addEventListener("mousedown",S,{capture:!0,passive:!1}),t.addEventListener("touchstart",S,{capture:!0,passive:!1}),t.addEventListener("click",L,{capture:!0,passive:!1}),t.addEventListener("keydown",M,{capture:!0,passive:!1}),t.addEventListener("keydown",j),d},"addListeners"),H=n(function(){if(i.active)return t.removeEventListener("focusin",E,!0),t.removeEventListener("mousedown",S,!0),t.removeEventListener("touchstart",S,!0),t.removeEventListener("click",L,!0),t.removeEventListener("keydown",M,!0),t.removeEventListener("keydown",j),d},"removeListeners"),xe=n(function(u){var c=u.some(function(f){var b=Array.from(f.removedNodes);return b.some(function(h){return h===i.mostRecentlyFocusedNode})});c&&O(y())},"checkDomRemoval"),ne=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(xe):void 0,$=n(function(){ne&&(ne.disconnect(),i.active&&!i.paused&&i.containers.map(function(u){ne.observe(u,{subtree:!0,childList:!0})}))},"updateObservedNodes");return d={get active(){return i.active},get paused(){return i.paused},activate:n(function(u){if(i.active)return this;var c=l(u,"onActivate"),f=l(u,"onPostActivate"),b=l(u,"checkCanFocusTrap");b||w(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=k(t),c==null||c();var h=n(function(){b&&w(),Z(),$(),f==null||f()},"finishActivation");return b?(b(i.containers.concat()).then(h,h),this):(h(),this)},"activate"),deactivate:n(function(u){if(!i.active)return this;var c=he({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},u);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,H(),i.active=!1,i.paused=!1,$(),ye.deactivateTrap(o,d);var f=l(c,"onDeactivate"),b=l(c,"onPostDeactivate"),h=l(c,"checkCanReturnFocus"),T=l(c,"returnFocus","returnFocusOnDeactivate");f==null||f();var p=n(function(){ge(function(){T&&O(A(i.nodeFocusedBeforeActivation)),b==null||b()})},"finishDeactivation");return T&&h?(h(A(i.nodeFocusedBeforeActivation)).then(p,p),this):(p(),this)},"deactivate"),pause:n(function(u){return i.active?(i.manuallyPaused=!0,this._setPausedState(!0,u)):this},"pause"),unpause:n(function(u){return i.active?(i.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,u)):this},"unpause"),updateContainerElements:n(function(u){var c=[].concat(u).filter(Boolean);return i.containers=c.map(function(f){return typeof f=="string"?t.querySelector(f):f}),i.active&&w(),$(),this},"updateContainerElements")},Object.defineProperties(d,{_isManuallyPaused:{value:n(function(){return i.manuallyPaused},"value")},_setPausedState:{value:n(function(u,c){if(i.paused===u)return this;if(i.paused=u,u){var f=l(c,"onPause"),b=l(c,"onPostPause");f==null||f(),H(),$(),b==null||b()}else{var h=l(c,"onUnpause"),T=l(c,"onPostUnpause");h==null||h(),w(),Z(),$(),T==null||T()}return this},"value")}}),d.updateContainerElements(e),d},"createFocusTrap");const dt=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:ft},Symbol.toStringTag,{value:"Module"})),vt=me(dt),pt=me(Qe);function B(a){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(a)}n(B,"_typeof");var ue,se;function bt(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}n(bt,"_classCallCheck");function ht(a,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,Ce(t.key),t)}}n(ht,"_defineProperties");function yt(a,e,r){return e&&ht(a.prototype,e),Object.defineProperty(a,"prototype",{writable:!1}),a}n(yt,"_createClass");function gt(a,e,r){return e=ae(e),mt(a,Re()?Reflect.construct(e,r||[],ae(a).constructor):e.apply(a,r))}n(gt,"_callSuper");function mt(a,e){if(e&&(B(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wt(a)}n(mt,"_possibleConstructorReturn");function wt(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}n(wt,"_assertThisInitialized");function Re(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Re=n(function(){return!!a},"_isNativeReflectConstruct"))()}n(Re,"_isNativeReflectConstruct");function ae(a){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(a)}n(ae,"_getPrototypeOf");function Tt(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&fe(a,e)}n(Tt,"_inherits");function fe(a,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},fe(a,e)}n(fe,"_setPrototypeOf");function Ot(a,e,r){return(e=Ce(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}n(Ot,"_defineProperty");function Ce(a){var e=Ft(a,"string");return B(e)=="symbol"?e:e+""}n(Ce,"_toPropertyKey");function Ft(a,e){if(B(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(B(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}n(Ft,"_toPrimitive");var G=x,Dt=vt,kt=Dt.createFocusTrap,Et=pt,St=Et.isFocusable,Nt=parseInt((ue=(se=/^(\d+)\./.exec(G.version))===null||se===void 0?void 0:se[1])!==null&&ue!==void 0?ue:0,10),de=(function(a){function e(r){var t;bt(this,e),t=gt(this,e,[r]),Ot(t,"getNodeForOption",function(i){var d,l=(d=this.internalOptions[i])!==null&&d!==void 0?d:this.originalOptions[i];if(typeof l=="function"){for(var v=arguments.length,g=new Array(v>1?v-1:0),y=1;y<v;y++)g[y-1]=arguments[y];l=l.apply(void 0,g)}if(l===!0&&(l=void 0),!l){if(l===void 0||l===!1)return l;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var w=l;if(typeof l=="string"){var k;if(w=(k=this.getDocument())===null||k===void 0?void 0:k.querySelector(l),!w)throw new Error("`".concat(i,"` as selector refers to no known node"))}return w}),t.handleDeactivate=t.handleDeactivate.bind(t),t.handlePostDeactivate=t.handlePostDeactivate.bind(t),t.handleClickOutsideDeactivates=t.handleClickOutsideDeactivates.bind(t),t.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:t.handleDeactivate,onPostDeactivate:t.handlePostDeactivate,clickOutsideDeactivates:t.handleClickOutsideDeactivates},t.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){if(s==="returnFocusOnDeactivate"||s==="onDeactivate"||s==="onPostDeactivate"||s==="checkCanReturnFocus"||s==="clickOutsideDeactivates"){t.originalOptions[s]=o[s];continue}t.internalOptions[s]=o[s]}return t.outsideClick=null,t.focusTrapElements=r.containerElements||[],t.updatePreviousElement(),t}return n(e,"FocusTrap"),Tt(e,a),yt(e,[{key:"getDocument",value:n(function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)},"getDocument")},{key:"getReturnFocusNode",value:n(function(){var t=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return t||(t===!1?!1:this.previouslyFocusedElement)},"getReturnFocusNode")},{key:"updatePreviousElement",value:n(function(){var t=this.getDocument();t&&(this.previouslyFocusedElement=t.activeElement)},"updatePreviousElement")},{key:"deactivateTrap",value:n(function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})},"deactivateTrap")},{key:"handleClickOutsideDeactivates",value:n(function(t){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,t):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:t.target,allowDeactivation:o}),o},"handleClickOutsideDeactivates")},{key:"handleDeactivate",value:n(function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()},"handleDeactivate")},{key:"handlePostDeactivate",value:n(function(){var t=this,o=n(function(){var i=t.getReturnFocusNode(),d=!!(t.originalOptions.returnFocusOnDeactivate&&i!==null&&i!==void 0&&i.focus&&(!t.outsideClick||t.outsideClick.allowDeactivation&&!St(t.outsideClick.target,t.internalOptions.tabbableOptions))),l=t.internalOptions.preventScroll,v=l===void 0?!1:l;d&&i.focus({preventScroll:v}),t.originalOptions.onPostDeactivate&&t.originalOptions.onPostDeactivate.call(null),t.outsideClick=null},"finishDeactivation");this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()},"handlePostDeactivate")},{key:"setupFocusTrap",value:n(function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var t=this.focusTrapElements.some(Boolean);t&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}},"setupFocusTrap")},{key:"componentDidMount",value:n(function(){this.props.active&&this.setupFocusTrap()},"componentDidMount")},{key:"componentDidUpdate",value:n(function(t){if(this.focusTrap){t.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!t.active&&this.props.active,s=t.active&&!this.props.active,i=!t.paused&&this.props.paused,d=t.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),s){this.deactivateTrap();return}i&&this.focusTrap.pause(),d&&this.focusTrap.unpause()}else t.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())},"componentDidUpdate")},{key:"componentWillUnmount",value:n(function(){this.deactivateTrap()},"componentWillUnmount")},{key:"render",value:n(function(){var t=this,o=this.props.children?G.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===G.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var s=n(function(l){var v=t.props.containerElements;o&&(Nt>=19?typeof o.props.ref=="function"?o.props.ref(l):o.props.ref&&(o.props.ref.current=l):typeof o.ref=="function"?o.ref(l):o.ref&&(o.ref.current=l)),t.focusTrapElements=v||[l]},"callbackRef"),i=G.cloneElement(o,{ref:s});return i}return null},"render")}])})(G.Component);de.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:kt};Te.exports=de;var Pt=Te.exports.FocusTrap=de;const Rt=we.li`
  ${({theme:a})=>`
    ${a.fontStyles.bodyMdRegular};

    display: block;
    color: ${a.palette.content.default};
    padding: ${a.spacing.spacing_40} ${a.spacing.spacing_50};   
    list-style: none;
    text-overflow: ellipsis;
    overflow-x: hidden;
    text-wrap: nowrap;

    &:not([aria-disabled="true"]) {
      &[aria-selected="true"], &[aria-selected="true"] span {
        ${a.fontStyles.bodyMdBold};
      }

      &:not([aria-readonly="true"]) {
        user-select: none;

        &:hover, &[data-highlighted="true"] {
          background: ${a.palette.accent.light};
          cursor: pointer;
        }

        &:focus-visible {
          outline: 2px solid ${a.palette.primary.default};
          outline-offset: -2px; 
        }
      }

      &[aria-readonly="true"] {
        background-color: ${a.palette.surface.light};
      }
    }

    &[aria-disabled="true"] {
      color: ${a.palette.content.light};
      cursor: not-allowed;

      &[aria-selected="true"] {
        background-color: ${a.palette.surface.light};
      }
    }
  `}
`,Ct=x.forwardRef(({dataTestId:a,children:e,style:r,isDisabled:t,isSelected:o=!1,isHighlighted:s=!1,isReadOnly:i=!1,onClick:d,...l},v)=>{const g=a??"dropdown-option",y=n(w=>{if(t){w.preventDefault(),w.stopPropagation();return}d==null||d(w)},"handleClick");return Q.jsx(Rt,{tabIndex:t||i?-1:0,...l,"aria-disabled":t,"aria-readonly":i,"aria-selected":o,"data-highlighted":s,"data-testid":g,onClick:y,ref:v,style:r,children:e})}),xt=we.div`
  list-style-type: none;
  width: 100%;
  overflow: auto;
`;function It({placement:a,anchor:e,menuWidth:r,menuHeight:t,offsetX:o,offsetY:s}){switch(a){case"bottom":return{top:e.bottom+s,left:e.left+o};case"top":return{top:e.top-s-t,left:e.left+o};case"right":return{top:e.top+s,left:e.right+o};case"left":return{top:e.top+s,left:e.left-o-r}}}n(It,"basePos");function At(a,e,{offsetX:r=0,offsetY:t=4,matchWidth:o=!0,minViewportPadding:s=8,placement:i="bottom",menuRef:d}={}){const[l,v]=x.useState({visibility:"hidden",position:"fixed"});return x.useLayoutEffect(()=>{if(!e||!(a!=null&&a.current)){v({visibility:"hidden",position:"fixed"});return}const g=a==null?void 0:a.current,y=d==null?void 0:d.current,w=n(()=>{const A=window.innerWidth,_=window.innerHeight,S=g.getBoundingClientRect(),E=y==null?void 0:y.getBoundingClientRect(),V=o?S.width:(E==null?void 0:E.width)??S.width,M=(E==null?void 0:E.height)??0;let{top:j,left:L}=It({placement:i,anchor:S,menuWidth:V,menuHeight:M,offsetX:r,offsetY:t});const Z=Math.max(s,A-V-s),H=Math.max(s,_-M-s);L=Math.max(s,Math.min(L,Z)),j=Math.max(s,Math.min(j,H)),v({position:"fixed",top:j,left:L,width:o?S.width:void 0,maxWidth:o?S.width:300,boxSizing:"border-box",zIndex:Ae})},"updatePosition");w();const k=new ResizeObserver(w);k.observe(g),g&&k.observe(g);const O={passive:!0};return window.addEventListener("scroll",w,O),window.addEventListener("resize",w,O),()=>{k.disconnect(),window.removeEventListener("scroll",w,O),window.removeEventListener("resize",w,O)}},[d,a,e,i,r,t,o,s]),{style:l}}n(At,"useFloatingPosition");const _t=n((a,e)=>{if(a){if(typeof a=="function"){a(e);return}a.current=e}},"setRef"),Ut=Object.assign(x.forwardRef(({children:a,style:e,dataTestId:r="dropdown",isOpen:t=!1,anchorRef:o,matchWidth:s=!0,offsetX:i,offsetY:d,as:l="div",onClose:v,placement:g,isFocusable:y=!0,...w},k)=>{const O=x.useRef(null),A=x.useCallback(E=>{O.current=E,_t(k,E)},[k]),{style:_}=At(o,t,{matchWidth:s,offsetX:i,offsetY:d,placement:g,menuRef:O});je({refs:[O,o],handler:n(()=>v==null?void 0:v(),"handler")});const S=Q.jsx(xt,{as:l,"data-testid":r,ref:A,role:"menu",style:{..._,...e},...w,"aria-hidden":!t,...!y&&{onMouseDown:n(E=>E.preventDefault(),"onMouseDown")},children:a});return Q.jsx(_e,{isOpen:!0,children:y?Q.jsx(Pt,{active:t,focusTrapOptions:{initialFocus:n(()=>(O==null?void 0:O.current)??!1,"initialFocus"),fallbackFocus:n(()=>document.body,"fallbackFocus"),escapeDeactivates:!0,allowOutsideClick:!0,onDeactivate:n(()=>{v==null||v()},"onDeactivate")},children:S}):S})}),{Option:Ct});export{Ut as D};
