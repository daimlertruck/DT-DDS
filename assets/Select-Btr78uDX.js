var mr=Object.defineProperty;var o=(e,n)=>mr(e,"name",{value:n,configurable:!0});import{j as Z}from"./jsx-runtime-Cgz2XvFB.js";import{g as Ir,R as He,r as p}from"./index-CwbBKW39.js";import{k as H,f as we,d as yr}from"./emotion-styled.browser.esm-CIRWz9XU.js";import{B as br}from"./index-DTgA8jos.js";import{I as Jt}from"./Icon-9dVURh2l.js";import{I as xr}from"./IconButton-a7wLVv3Y.js";import{L as wr}from"./LabelField-BrIM5Qam.js";import{T as Qt}from"./Tooltip-B9oLZ7R9.js";import{D as dn}from"./Dropdown-IdDjNHn8.js";import{C as Cr}from"./Checkbox-1WqW39vQ.js";import{T as cn}from"./Typography-Dk4smw7A.js";function ne(e,n){if(e==null)return{};var i={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(n.indexOf(s)!==-1)continue;i[s]=e[s]}return i}o(ne,"_objectWithoutPropertiesLoose");function st(e,n){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},st(e,n)}o(st,"_setPrototypeOf");function Sr(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,st(e,n)}o(Sr,"_inheritsLoose");var fn={exports:{}},Dr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kr=Dr,Or=kr;function pn(){}o(pn,"emptyFunction");function gn(){}o(gn,"emptyFunctionWithReset");gn.resetWarningCache=pn;var Mr=o(function(){function e(s,r,t,a,u,l){if(l!==Or){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}o(e,"shim"),e.isRequired=e;function n(){return e}o(n,"getShim");var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:gn,resetWarningCache:pn};return i.PropTypes=i,i},"factoryWithThrowingShims");fn.exports=Mr();var Kr=fn.exports;const M=Ir(Kr);var q={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=Symbol.for("react.element"),lt=Symbol.for("react.portal"),ze=Symbol.for("react.fragment"),Ge=Symbol.for("react.strict_mode"),Ye=Symbol.for("react.profiler"),Xe=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Er=Symbol.for("react.server_context"),Qe=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Hr=Symbol.for("react.offscreen"),hn;hn=Symbol.for("react.module.reference");function ue(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case ut:switch(e=e.type,e){case ze:case Ye:case Ge:case Ze:case et:return e;default:switch(e=e&&e.$$typeof,e){case Er:case Je:case Qe:case nt:case tt:case Xe:return e;default:return n}}case lt:return n}}}o(ue,"v");q.ContextConsumer=Je;q.ContextProvider=Xe;q.Element=ut;q.ForwardRef=Qe;q.Fragment=ze;q.Lazy=nt;q.Memo=tt;q.Portal=lt;q.Profiler=Ye;q.StrictMode=Ge;q.Suspense=Ze;q.SuspenseList=et;q.isAsyncMode=function(){return!1};q.isConcurrentMode=function(){return!1};q.isContextConsumer=function(e){return ue(e)===Je};q.isContextProvider=function(e){return ue(e)===Xe};q.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ut};q.isForwardRef=function(e){return ue(e)===Qe};q.isFragment=function(e){return ue(e)===ze};q.isLazy=function(e){return ue(e)===nt};q.isMemo=function(e){return ue(e)===tt};q.isPortal=function(e){return ue(e)===lt};q.isProfiler=function(e){return ue(e)===Ye};q.isStrictMode=function(e){return ue(e)===Ge};q.isSuspense=function(e){return ue(e)===Ze};q.isSuspenseList=function(e){return ue(e)===et};q.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ze||e===Ye||e===Ge||e===Ze||e===et||e===Hr||typeof e=="object"&&e!==null&&(e.$$typeof===nt||e.$$typeof===tt||e.$$typeof===Xe||e.$$typeof===Je||e.$$typeof===Qe||e.$$typeof===hn||e.getModuleId!==void 0)};q.typeOf=ue;const Zt=o(e=>typeof e=="object"&&e!=null&&e.nodeType===1,"t"),en=o((e,n)=>(!n||e!=="hidden")&&e!=="visible"&&e!=="clip","e"),Te=o((e,n)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const i=getComputedStyle(e,null);return en(i.overflowY,n)||en(i.overflowX,n)||(s=>{const r=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch{return null}})(s);return!!r&&(r.clientHeight<s.scrollHeight||r.clientWidth<s.scrollWidth)})(e)}return!1},"n"),Pe=o((e,n,i,s,r,t,a,u)=>t<e&&a>n||t>e&&a<n?0:t<=e&&u<=i||a>=n&&u>=i?t-e-s:a>n&&u<i||t<e&&u>i?a-n+r:0,"o"),Rr=o(e=>{const n=e.parentElement;return n??(e.getRootNode().host||null)},"l"),Tr=o((e,n)=>{var i,s,r,t;if(typeof document>"u")return[];const{inline:a,boundary:u,skipOverflowHiddenElements:l}=n,v=typeof u=="function"?u:z=>z!==u;if(!Zt(e))throw new TypeError("Invalid target");const C=document.scrollingElement||document.documentElement,$=[];let S=e;for(;Zt(S)&&v(S);){if(S=Rr(S),S===C){$.push(S);break}S!=null&&S===document.body&&Te(S)&&!Te(document.documentElement)||S!=null&&Te(S,l)&&$.push(S)}const D=(s=(i=window.visualViewport)==null?void 0:i.width)!=null?s:innerWidth,A=(t=(r=window.visualViewport)==null?void 0:r.height)!=null?t:innerHeight,{scrollX:U,scrollY:T}=window,{height:L,width:d,top:f,right:c,bottom:m,left:w}=e.getBoundingClientRect(),{top:B,right:k,left:h}=(z=>{const R=window.getComputedStyle(z);return{top:parseFloat(R.scrollMarginTop)||0,right:parseFloat(R.scrollMarginRight)||0,bottom:parseFloat(R.scrollMarginBottom)||0,left:parseFloat(R.scrollMarginLeft)||0}})(e);let b=f-B,O=a==="center"?w+d/2-h+k:a==="end"?c+k:w-h;const V=[];for(let z=0;z<$.length;z++){const R=$[z],{height:G,width:ee,top:se,right:P,bottom:_,left:K}=R.getBoundingClientRect();if(f>=0&&w>=0&&m<=A&&c<=D&&(R===C&&!Te(R)||f>=se&&m<=_&&w>=K&&c<=P))return V;const W=getComputedStyle(R),y=parseInt(W.borderLeftWidth,10),x=parseInt(W.borderTopWidth,10),I=parseInt(W.borderRightWidth,10),g=parseInt(W.borderBottomWidth,10);let E=0,F=0;const j="offsetWidth"in R?R.offsetWidth-R.clientWidth-y-I:0,Y="offsetHeight"in R?R.offsetHeight-R.clientHeight-x-g:0,X="offsetWidth"in R?R.offsetWidth===0?0:ee/R.offsetWidth:0,Q="offsetHeight"in R?R.offsetHeight===0?0:G/R.offsetHeight:0;if(C===R)E=Pe(T,T+A,A,x,g,T+b,T+b+L,L),F=a==="start"?O:a==="center"?O-D/2:a==="end"?O-D:Pe(U,U+D,D,y,I,U+O,U+O+d,d),E=Math.max(0,E+T),F=Math.max(0,F+U);else{E=Pe(se,_,G,x,g+Y,b,b+L,L),F=a==="start"?O-K-y:a==="center"?O-(K+ee/2)+j/2:a==="end"?O-P+I+j:Pe(K,P,ee,y,I+j,O,O+d,d);const{scrollLeft:te,scrollTop:le}=R;E=Q===0?0:Math.max(0,Math.min(le+E/Q,R.scrollHeight-G/Q+Y)),F=X===0?0:Math.max(0,Math.min(te+F/X,R.scrollWidth-ee/X+j)),b+=le-E,O+=te-F}V.push({el:R,top:E,left:F})}return V},"r");var De=o(function(){return De=Object.assign||o(function(n){for(var i,s=1,r=arguments.length;s<r;s++){i=arguments[s];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}return n},"__assign"),De.apply(this,arguments)},"__assign");var vn=0;function tn(e){return typeof e=="function"?e:ge}o(tn,"cbToCb");function ge(){}o(ge,"noop");function mn(e,n){if(e){var i=Tr(e,{boundary:n});i.forEach(function(s){var r=s.el,t=s.top,a=s.left;r.scrollTop=t,r.scrollLeft=a})}}o(mn,"scrollIntoView");function nn(e,n,i){var s=e===n||n instanceof i.Node&&e.contains&&e.contains(n);return s}o(nn,"isOrContainsNode");function rt(e,n){var i;function s(){i&&clearTimeout(i)}o(s,"cancel");function r(){for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];s(),i=setTimeout(function(){i=null,e.apply(void 0,a)},n)}return o(r,"wrapper"),r.cancel=s,r}o(rt,"debounce");function N(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(s){for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];return n.some(function(u){return u&&u.apply(void 0,[s].concat(t)),s.preventDownshiftDefault||s.hasOwnProperty("nativeEvent")&&s.nativeEvent.preventDownshiftDefault})}}o(N,"callAllEventHandlers");function ce(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(s){n.forEach(function(r){typeof r=="function"?r(s):r&&(r.current=s)})}}o(ce,"handleRefs");function In(){return String(vn++)}o(In,"generateId");function Pr(){if("useId"in He){console.warn("It is not necessary to call resetIdCounter when using React 18+");return}vn=0}o(Pr,"resetIdCounter");function $r(e){var n=e.isOpen,i=e.resultCount,s=e.previousResultCount;return n?i?i!==s?i+" result"+(i===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}o($r,"getA11yStatusMessage");function rn(e,n){return e=Array.isArray(e)?e[0]:e,!e&&n?n:e}o(rn,"unwrapArray");function _r(e){return typeof e.type=="string"}o(_r,"isDOMElement");function Br(e){return e.props}o(Br,"getElementProps");var Vr=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function $e(e){e===void 0&&(e={});var n={};return Vr.forEach(function(i){e.hasOwnProperty(i)&&(n[i]=e[i])}),n}o($e,"pickState");function Re(e,n){return!e||!n?e:Object.keys(e).reduce(function(i,s){return i[s]=Fe(n,s)?n[s]:e[s],i},{})}o(Re,"getState");function Fe(e,n){return e[n]!==void 0}o(Fe,"isControlledProp");function ke(e){var n=e.key,i=e.keyCode;return i>=37&&i<=40&&n.indexOf("Arrow")!==0?"Arrow"+n:n}o(ke,"normalizeArrowKey");function fe(e,n,i,s,r){r===void 0&&(r=!1);var t=i.length;if(t===0)return-1;var a=t-1;(typeof e!="number"||e<0||e>a)&&(e=n>0?-1:a+1);var u=e+n;u<0?u=r?a:0:u>a&&(u=r?0:a);var l=me(u,n<0,i,s,r);return l===-1?e>=t?-1:e:l}o(fe,"getHighlightedIndex");function me(e,n,i,s,r){r===void 0&&(r=!1);var t=i.length;if(n){for(var a=e;a>=0;a--)if(!s(i[a],a))return a}else for(var u=e;u<t;u++)if(!s(i[u],u))return u;return r?me(n?t-1:0,n,i,s):-1}o(me,"getNonDisabledIndex");function Le(e,n,i,s){return s===void 0&&(s=!0),i&&n.some(function(r){return r&&(nn(r,e,i)||s&&nn(r,i.document.activeElement,i))})}o(Le,"targetWithinDownshift");var Ar=rt(function(e){yn(e).textContent=""},500);function yn(e){var n=e.getElementById("a11y-status-message");return n||(n=e.createElement("div"),n.setAttribute("id","a11y-status-message"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-relevant","additions text"),Object.assign(n.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(n),n)}o(yn,"getStatusDiv");function bn(e,n){if(!(!e||!n)){var i=yn(n);i.textContent=e,Ar(n)}}o(bn,"setStatus");function Fr(e){var n=e==null?void 0:e.getElementById("a11y-status-message");n&&n.remove()}o(Fr,"cleanupStatusDiv");var xn=0,wn=1,Cn=2,_e=3,Be=4,Sn=5,Dn=6,kn=7,On=8,Mn=9,Kn=10,En=11,Hn=12,Rn=13,Tn=14,Pn=15,$n=16,Lr=Object.freeze({__proto__:null,blurButton:Tn,blurInput:Kn,changeInput:En,clickButton:Rn,clickItem:Mn,controlledPropUpdatedSelectedItem:Pn,itemMouseEnter:Cn,keyDownArrowDown:Be,keyDownArrowUp:_e,keyDownEnd:On,keyDownEnter:Dn,keyDownEscape:Sn,keyDownHome:kn,keyDownSpaceButton:Hn,mouseUp:wn,touchEnd:$n,unknown:xn}),jr=["refKey","ref"],Nr=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],Ur=["onKeyDown","onBlur","onChange","onInput","onChangeText"],Wr=["refKey","ref"],qr=["onMouseMove","onMouseDown","onClick","onPress","index","item"],zr=(function(){var e=(function(n){function i(r){var t;t=n.call(this,r)||this,t.id=t.props.id||"downshift-"+In(),t.menuId=t.props.menuId||t.id+"-menu",t.labelId=t.props.labelId||t.id+"-label",t.inputId=t.props.inputId||t.id+"-input",t.getItemId=t.props.getItemId||function(d){return t.id+"-item-"+d},t.items=[],t.itemCount=null,t.previousResultCount=0,t.timeoutIds=[],t.internalSetTimeout=function(d,f){var c=setTimeout(function(){t.timeoutIds=t.timeoutIds.filter(function(m){return m!==c}),d()},f);t.timeoutIds.push(c)},t.setItemCount=function(d){t.itemCount=d},t.unsetItemCount=function(){t.itemCount=null},t.isItemDisabled=function(d,f){var c=t.getItemNodeFromIndex(f);return c&&c.hasAttribute("disabled")},t.setHighlightedIndex=function(d,f){d===void 0&&(d=t.props.defaultHighlightedIndex),f===void 0&&(f={}),f=$e(f),t.internalSetState(H({highlightedIndex:d},f))},t.clearSelection=function(d){t.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:t.props.defaultHighlightedIndex,isOpen:t.props.defaultIsOpen},d)},t.selectItem=function(d,f,c){f=$e(f),t.internalSetState(H({isOpen:t.props.defaultIsOpen,highlightedIndex:t.props.defaultHighlightedIndex,selectedItem:d,inputValue:t.props.itemToString(d)},f),c)},t.selectItemAtIndex=function(d,f,c){var m=t.items[d];m!=null&&t.selectItem(m,f,c)},t.selectHighlightedItem=function(d,f){return t.selectItemAtIndex(t.getState().highlightedIndex,d,f)},t.internalSetState=function(d,f){var c,m,w={},B=typeof d=="function";return!B&&d.hasOwnProperty("inputValue")&&t.props.onInputValueChange(d.inputValue,H({},t.getStateAndHelpers(),d)),t.setState(function(k){var h;k=t.getState(k);var b=B?d(k):d;b=t.props.stateReducer(k,b),c=b.hasOwnProperty("selectedItem");var O={};return c&&b.selectedItem!==k.selectedItem&&(m=b.selectedItem),(h=b).type||(h.type=xn),Object.keys(b).forEach(function(V){k[V]!==b[V]&&(w[V]=b[V]),V!=="type"&&(b[V],Fe(t.props,V)||(O[V]=b[V]))}),B&&b.hasOwnProperty("inputValue")&&t.props.onInputValueChange(b.inputValue,H({},t.getStateAndHelpers(),b)),O},function(){tn(f)();var k=Object.keys(w).length>1;k&&t.props.onStateChange(w,t.getStateAndHelpers()),c&&t.props.onSelect(d.selectedItem,t.getStateAndHelpers()),m!==void 0&&t.props.onChange(m,t.getStateAndHelpers()),t.props.onUserAction(w,t.getStateAndHelpers())})},t.rootRef=function(d){return t._rootNode=d},t.getRootProps=function(d,f){var c,m=d===void 0?{}:d,w=m.refKey,B=w===void 0?"ref":w,k=m.ref,h=ne(m,jr),b=f===void 0?{}:f,O=b.suppressRefError,V=O===void 0?!1:O;t.getRootProps.called=!0,t.getRootProps.refKey=B,t.getRootProps.suppressRefError=V;var z=t.getState(),R=z.isOpen;return H((c={},c[B]=ce(k,t.rootRef),c.role="combobox",c["aria-expanded"]=R,c["aria-haspopup"]="listbox",c["aria-owns"]=R?t.menuId:void 0,c["aria-labelledby"]=t.labelId,c),h)},t.keyDownHandlers={ArrowDown:o(function(f){var c=this;if(f.preventDefault(),this.getState().isOpen){var m=f.shiftKey?5:1;this.moveHighlightedIndex(m,{type:Be})}else this.internalSetState({isOpen:!0,type:Be},function(){var w=c.getItemCount();if(w>0){var B=c.getState(),k=B.highlightedIndex,h=fe(k,1,{length:w},c.isItemDisabled,!0);c.setHighlightedIndex(h,{type:Be})}})},"ArrowDown"),ArrowUp:o(function(f){var c=this;if(f.preventDefault(),this.getState().isOpen){var m=f.shiftKey?-5:-1;this.moveHighlightedIndex(m,{type:_e})}else this.internalSetState({isOpen:!0,type:_e},function(){var w=c.getItemCount();if(w>0){var B=c.getState(),k=B.highlightedIndex,h=fe(k,-1,{length:w},c.isItemDisabled,!0);c.setHighlightedIndex(h,{type:_e})}})},"ArrowUp"),Enter:o(function(f){if(f.which!==229){var c=this.getState(),m=c.isOpen,w=c.highlightedIndex;if(m&&w!=null){f.preventDefault();var B=this.items[w],k=this.getItemNodeFromIndex(w);if(B==null||k&&k.hasAttribute("disabled"))return;this.selectHighlightedItem({type:Dn})}}},"Enter"),Escape:o(function(f){f.preventDefault(),this.reset(H({type:Sn},!this.state.isOpen&&{selectedItem:null,inputValue:""}))},"Escape")},t.buttonKeyDownHandlers=H({},t.keyDownHandlers,{" ":o(function(f){f.preventDefault(),this.toggleMenu({type:Hn})},"_")}),t.inputKeyDownHandlers=H({},t.keyDownHandlers,{Home:o(function(f){var c=this.getState(),m=c.isOpen;if(m){f.preventDefault();var w=this.getItemCount();if(!(w<=0||!m)){var B=me(0,!1,{length:w},this.isItemDisabled);this.setHighlightedIndex(B,{type:kn})}}},"Home"),End:o(function(f){var c=this.getState(),m=c.isOpen;if(m){f.preventDefault();var w=this.getItemCount();if(!(w<=0||!m)){var B=me(w-1,!0,{length:w},this.isItemDisabled);this.setHighlightedIndex(B,{type:On})}}},"End")}),t.getToggleButtonProps=function(d){var f=d===void 0?{}:d,c=f.onClick;f.onPress;var m=f.onKeyDown,w=f.onKeyUp,B=f.onBlur,k=ne(f,Nr),h=t.getState(),b=h.isOpen,O={onClick:N(c,t.buttonHandleClick),onKeyDown:N(m,t.buttonHandleKeyDown),onKeyUp:N(w,t.buttonHandleKeyUp),onBlur:N(B,t.buttonHandleBlur)},V=k.disabled?{}:O;return H({type:"button",role:"button","aria-label":b?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},V,k)},t.buttonHandleKeyUp=function(d){d.preventDefault()},t.buttonHandleKeyDown=function(d){var f=ke(d);t.buttonKeyDownHandlers[f]&&t.buttonKeyDownHandlers[f].call(t,d)},t.buttonHandleClick=function(d){if(d.preventDefault(),t.props.environment){var f=t.props.environment.document,c=f.body,m=f.activeElement;c&&c===m&&d.target.focus()}t.internalSetTimeout(function(){return t.toggleMenu({type:Rn})})},t.buttonHandleBlur=function(d){var f=d.target;t.internalSetTimeout(function(){if(!(t.isMouseDown||!t.props.environment)){var c=t.props.environment.document.activeElement;(c==null||c.id!==t.inputId)&&c!==f&&t.reset({type:Tn})}})},t.getLabelProps=function(d){return H({htmlFor:t.inputId,id:t.labelId},d)},t.getInputProps=function(d){var f=d===void 0?{}:d,c=f.onKeyDown,m=f.onBlur,w=f.onChange,B=f.onInput;f.onChangeText;var k=ne(f,Ur),h,b={};h="onChange";var O=t.getState(),V=O.inputValue,z=O.isOpen,R=O.highlightedIndex;if(!k.disabled){var G;b=(G={},G[h]=N(w,B,t.inputHandleChange),G.onKeyDown=N(c,t.inputHandleKeyDown),G.onBlur=N(m,t.inputHandleBlur),G)}return H({"aria-autocomplete":"list","aria-activedescendant":z&&typeof R=="number"&&R>=0?t.getItemId(R):void 0,"aria-controls":z?t.menuId:void 0,"aria-labelledby":k&&k["aria-label"]?void 0:t.labelId,autoComplete:"off",value:V,id:t.inputId},b,k)},t.inputHandleKeyDown=function(d){var f=ke(d);f&&t.inputKeyDownHandlers[f]&&t.inputKeyDownHandlers[f].call(t,d)},t.inputHandleChange=function(d){t.internalSetState({type:En,isOpen:!0,inputValue:d.target.value,highlightedIndex:t.props.defaultHighlightedIndex})},t.inputHandleBlur=function(){t.internalSetTimeout(function(){var d;if(!(t.isMouseDown||!t.props.environment)){var f=t.props.environment.document.activeElement,c=(f==null||(d=f.dataset)==null?void 0:d.toggle)&&t._rootNode&&t._rootNode.contains(f);c||t.reset({type:Kn})}})},t.menuRef=function(d){t._menuNode=d},t.getMenuProps=function(d,f){var c,m=d===void 0?{}:d,w=m.refKey,B=w===void 0?"ref":w,k=m.ref,h=ne(m,Wr),b=f===void 0?{}:f,O=b.suppressRefError,V=O===void 0?!1:O;return t.getMenuProps.called=!0,t.getMenuProps.refKey=B,t.getMenuProps.suppressRefError=V,H((c={},c[B]=ce(k,t.menuRef),c.role="listbox",c["aria-labelledby"]=h&&h["aria-label"]?void 0:t.labelId,c.id=t.menuId,c),h)},t.getItemProps=function(d){var f,c=d===void 0?{}:d,m=c.onMouseMove,w=c.onMouseDown,B=c.onClick;c.onPress;var k=c.index,h=c.item,b=h===void 0?void 0:h,O=ne(c,qr);k===void 0?(t.items.push(b),k=t.items.indexOf(b)):t.items[k]=b;var V="onClick",z=B,R=(f={onMouseMove:N(m,function(){k!==t.getState().highlightedIndex&&(t.setHighlightedIndex(k,{type:Cn}),t.avoidScrolling=!0,t.internalSetTimeout(function(){return t.avoidScrolling=!1},250))}),onMouseDown:N(w,function(ee){ee.preventDefault()})},f[V]=N(z,function(){t.selectItemAtIndex(k,{type:Mn})}),f),G=O.disabled?{onMouseDown:R.onMouseDown}:R;return H({id:t.getItemId(k),role:"option","aria-selected":t.getState().highlightedIndex===k},G,O)},t.clearItems=function(){t.items=[]},t.reset=function(d,f){d===void 0&&(d={}),d=$e(d),t.internalSetState(function(c){var m=c.selectedItem;return H({isOpen:t.props.defaultIsOpen,highlightedIndex:t.props.defaultHighlightedIndex,inputValue:t.props.itemToString(m)},d)},f)},t.toggleMenu=function(d,f){d===void 0&&(d={}),d=$e(d),t.internalSetState(function(c){var m=c.isOpen;return H({isOpen:!m},m&&{highlightedIndex:t.props.defaultHighlightedIndex},d)},function(){var c=t.getState(),m=c.isOpen,w=c.highlightedIndex;m&&t.getItemCount()>0&&typeof w=="number"&&t.setHighlightedIndex(w,d),tn(f)()})},t.openMenu=function(d){t.internalSetState({isOpen:!0},d)},t.closeMenu=function(d){t.internalSetState({isOpen:!1},d)},t.updateStatus=rt(function(){var d;if((d=t.props)!=null&&(d=d.environment)!=null&&d.document){var f=t.getState(),c=t.items[f.highlightedIndex],m=t.getItemCount(),w=t.props.getA11yStatusMessage(H({itemToString:t.props.itemToString,previousResultCount:t.previousResultCount,resultCount:m,highlightedItem:c},f));t.previousResultCount=m,bn(w,t.props.environment.document)}},200);var a=t.props,u=a.defaultHighlightedIndex,l=a.initialHighlightedIndex,v=l===void 0?u:l,C=a.defaultIsOpen,$=a.initialIsOpen,S=$===void 0?C:$,D=a.initialInputValue,A=D===void 0?"":D,U=a.initialSelectedItem,T=U===void 0?null:U,L=t.getState({highlightedIndex:v,isOpen:S,inputValue:A,selectedItem:T});return L.selectedItem!=null&&t.props.initialInputValue===void 0&&(L.inputValue=t.props.itemToString(L.selectedItem)),t.state=L,t}o(i,"Downshift3"),Sr(i,n);var s=i.prototype;return s.internalClearTimeouts=o(function(){this.timeoutIds.forEach(function(t){clearTimeout(t)}),this.timeoutIds=[]},"internalClearTimeouts"),s.getState=o(function(t){return t===void 0&&(t=this.state),Re(t,this.props)},"getState$1"),s.getItemCount=o(function(){var t=this.items.length;return this.itemCount!=null?t=this.itemCount:this.props.itemCount!==void 0&&(t=this.props.itemCount),t},"getItemCount"),s.getItemNodeFromIndex=o(function(t){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(t)):null},"getItemNodeFromIndex"),s.scrollHighlightedItemIntoView=o(function(){{var t=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(t,this._menuNode)}},"scrollHighlightedItemIntoView"),s.moveHighlightedIndex=o(function(t,a){var u=this.getItemCount(),l=this.getState(),v=l.highlightedIndex;if(u>0){var C=fe(v,t,{length:u},this.isItemDisabled,!0);this.setHighlightedIndex(C,a)}},"moveHighlightedIndex"),s.getStateAndHelpers=o(function(){var t=this.getState(),a=t.highlightedIndex,u=t.inputValue,l=t.selectedItem,v=t.isOpen,C=this.props.itemToString,$=this.id,S=this.getRootProps,D=this.getToggleButtonProps,A=this.getLabelProps,U=this.getMenuProps,T=this.getInputProps,L=this.getItemProps,d=this.openMenu,f=this.closeMenu,c=this.toggleMenu,m=this.selectItem,w=this.selectItemAtIndex,B=this.selectHighlightedItem,k=this.setHighlightedIndex,h=this.clearSelection,b=this.clearItems,O=this.reset,V=this.setItemCount,z=this.unsetItemCount,R=this.internalSetState;return{getRootProps:S,getToggleButtonProps:D,getLabelProps:A,getMenuProps:U,getInputProps:T,getItemProps:L,reset:O,openMenu:d,closeMenu:f,toggleMenu:c,selectItem:m,selectItemAtIndex:w,selectHighlightedItem:B,setHighlightedIndex:k,clearSelection:h,clearItems:b,setItemCount:V,unsetItemCount:z,setState:R,itemToString:C,id:$,highlightedIndex:a,inputValue:u,isOpen:v,selectedItem:l}},"getStateAndHelpers"),s.componentDidMount=o(function(){var t=this;if(!this.props.environment)this.cleanup=function(){t.internalClearTimeouts()};else{var a=o(function(){t.isMouseDown=!0},"onMouseDown2"),u=o(function(D){t.isMouseDown=!1;var A=Le(D.target,[t._rootNode,t._menuNode],t.props.environment);!A&&t.getState().isOpen&&t.reset({type:wn},function(){return t.props.onOuterClick(t.getStateAndHelpers())})},"onMouseUp2"),l=o(function(){t.isTouchMove=!1},"onTouchStart2"),v=o(function(){t.isTouchMove=!0},"onTouchMove2"),C=o(function(D){var A=Le(D.target,[t._rootNode,t._menuNode],t.props.environment,!1);!t.isTouchMove&&!A&&t.getState().isOpen&&t.reset({type:$n},function(){return t.props.onOuterClick(t.getStateAndHelpers())})},"onTouchEnd2"),$=this.props.environment;$.addEventListener("mousedown",a),$.addEventListener("mouseup",u),$.addEventListener("touchstart",l),$.addEventListener("touchmove",v),$.addEventListener("touchend",C),this.cleanup=function(){t.internalClearTimeouts(),t.updateStatus.cancel(),$.removeEventListener("mousedown",a),$.removeEventListener("mouseup",u),$.removeEventListener("touchstart",l),$.removeEventListener("touchmove",v),$.removeEventListener("touchend",C)}}},"componentDidMount"),s.shouldScroll=o(function(t,a){var u=this.props.highlightedIndex===void 0?this.getState():this.props,l=u.highlightedIndex,v=a.highlightedIndex===void 0?t:a,C=v.highlightedIndex,$=l&&this.getState().isOpen&&!t.isOpen,S=l!==C;return $||S},"shouldScroll"),s.componentDidUpdate=o(function(t,a){Fe(this.props,"selectedItem")&&this.props.selectedItemChanged(t.selectedItem,this.props.selectedItem)&&this.internalSetState({type:Pn,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(a,t)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},"componentDidUpdate"),s.componentWillUnmount=o(function(){this.cleanup()},"componentWillUnmount"),s.render=o(function(){var t=rn(this.props.children,ge);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var a=rn(t(this.getStateAndHelpers()));if(!a)return null;if(this.getRootProps.called||this.props.suppressRefError)return a;if(_r(a))return p.cloneElement(a,this.getRootProps(Br(a)))},"render"),i})(p.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:$r,itemToString:o(function(i){return i==null?"":String(i)},"itemToString2"),onStateChange:ge,onInputValueChange:ge,onUserAction:ge,onChange:ge,onSelect:ge,onOuterClick:ge,selectedItemChanged:o(function(i,s){return i!==s},"selectedItemChanged"),environment:typeof window>"u"?void 0:window,stateReducer:o(function(i,s){return s},"stateReducer2"),suppressRefError:!1,scrollIntoView:mn},e.stateChangeTypes=Lr,e})(),_n={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Gr(e,n,i){var s=e.props,r=e.type,t={};Object.keys(n).forEach(function(a){Yr(a,e,n,i),i[a]!==n[a]&&(t[a]=i[a])}),s.onStateChange&&Object.keys(t).length&&s.onStateChange(H({type:r},t))}o(Gr,"callOnChangeProps");function Yr(e,n,i,s){var r=n.props,t=n.type,a="on"+ct(e)+"Change";r[a]&&s[e]!==void 0&&s[e]!==i[e]&&r[a](H({type:t},s))}o(Yr,"invokeOnChangeHandler");function Xr(e,n){return n.changes}o(Xr,"stateReducer");var on=rt(function(e,n){bn(e,n)},200),Jr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect,Bn="useId"in He?o(function(n){var i=n.id,s=n.labelId,r=n.menuId,t=n.getItemId,a=n.toggleButtonId,u=n.inputId,l="downshift-"+He.useId();i||(i=l);var v=p.useRef({labelId:s||i+"-label",menuId:r||i+"-menu",getItemId:t||function(C){return i+"-item-"+C},toggleButtonId:a||i+"-toggle-button",inputId:u||i+"-input"});return v.current},"useElementIds2"):o(function(n){var i=n.id,s=i===void 0?"downshift-"+In():i,r=n.labelId,t=n.menuId,a=n.getItemId,u=n.toggleButtonId,l=n.inputId,v=p.useRef({labelId:r||s+"-label",menuId:t||s+"-menu",getItemId:a||function(C){return s+"-item-"+C},toggleButtonId:u||s+"-toggle-button",inputId:l||s+"-input"});return v.current},"useElementIds3");function dt(e,n,i,s){var r,t;if(e===void 0){if(n===void 0)throw new Error(s);r=i[n],t=n}else t=n===void 0?i.indexOf(e):n,r=e;return[r,t]}o(dt,"getItemAndIndex");function Qr(e){return/^\S{1}$/.test(e)}o(Qr,"isAcceptedCharacterKey");function ct(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}o(ct,"capitalizeString");function it(e){var n=p.useRef(e);return n.current=e,n}o(it,"useLatestRef");function Vn(e,n,i,s){var r=p.useRef(),t=p.useRef(),a=p.useCallback(function(D,A){t.current=A,D=Re(D,A.props);var U=e(D,A),T=A.props.stateReducer(D,H({},A,{changes:U}));return T},[e]),u=p.useReducer(a,n,i),l=u[0],v=u[1],C=it(n),$=p.useCallback(function(D){return v(H({props:C.current},D))},[C]),S=t.current;return p.useEffect(function(){var D=Re(r.current,S==null?void 0:S.props),A=S&&r.current&&!s(D,l);A&&Gr(S,D,l),r.current=l},[l,S,s]),[l,$]}o(Vn,"useEnhancedReducer");function An(e,n,i,s){var r=Vn(e,n,i,s),t=r[0],a=r[1];return[Re(t,n),a]}o(An,"useControlledReducer$1");var Ee={itemToString:o(function(n){return n?String(n):""},"itemToString"),itemToKey:o(function(n){return n},"itemToKey"),stateReducer:Xr,scrollIntoView:mn,environment:typeof window>"u"?void 0:window};function he(e,n,i){i===void 0&&(i=_n);var s=e["default"+ct(n)];return s!==void 0?s:i[n]}o(he,"getDefaultValue$1");function be(e,n,i){i===void 0&&(i=_n);var s=e[n];if(s!==void 0)return s;var r=e["initial"+ct(n)];return r!==void 0?r:he(e,n,i)}o(be,"getInitialValue$1");function Fn(e){var n=be(e,"selectedItem"),i=be(e,"isOpen"),s=Zr(e),r=be(e,"inputValue");return{highlightedIndex:s<0&&n&&i?e.items.findIndex(function(t){return e.itemToKey(t)===e.itemToKey(n)}):s,isOpen:i,selectedItem:n,inputValue:r}}o(Fn,"getInitialState$2");function xe(e,n,i){var s=e.items,r=e.initialHighlightedIndex,t=e.defaultHighlightedIndex,a=e.isItemDisabled,u=e.itemToKey,l=n.selectedItem,v=n.highlightedIndex;return s.length===0?-1:r!==void 0&&v===r&&!a(s[r],r)?r:t!==void 0&&!a(s[t],t)?t:l?s.findIndex(function(C){return u(l)===u(C)}):i<0&&!a(s[s.length-1],s.length-1)?s.length-1:i>0&&!a(s[0],0)?0:-1}o(xe,"getHighlightedIndexOnOpen");function Ln(e,n,i){var s=p.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return p.useEffect(function(){if(!e)return ge;var r=i.map(function(C){return C.current});function t(){s.current.isTouchEnd=!1,s.current.isMouseDown=!0}o(t,"onMouseDown");function a(C){s.current.isMouseDown=!1,Le(C.target,r,e)||n()}o(a,"onMouseUp");function u(){s.current.isTouchEnd=!1,s.current.isTouchMove=!1}o(u,"onTouchStart");function l(){s.current.isTouchMove=!0}o(l,"onTouchMove");function v(C){s.current.isTouchEnd=!0,!s.current.isTouchMove&&!Le(C.target,r,e,!1)&&n()}return o(v,"onTouchEnd"),e.addEventListener("mousedown",t),e.addEventListener("mouseup",a),e.addEventListener("touchstart",u),e.addEventListener("touchmove",l),e.addEventListener("touchend",v),o(function(){e.removeEventListener("mousedown",t),e.removeEventListener("mouseup",a),e.removeEventListener("touchstart",u),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",v)},"cleanup")},[i,e,n]),s.current}o(Ln,"useMouseAndTouchTracker");var ft=o(function(){return ge},"useGetterPropsCalledChecker2");function pt(e,n,i,s){s===void 0&&(s={});var r=s.document,t=ot();p.useEffect(function(){if(!(!e||t||!r)){var a=e(n);on(a,r)}},i),p.useEffect(function(){return function(){on.cancel(),Fr(r)}},[r])}o(pt,"useA11yMessageStatus");function jn(e){var n=e.highlightedIndex,i=e.isOpen,s=e.itemRefs,r=e.getItemNodeFromIndex,t=e.menuElement,a=e.scrollIntoView,u=p.useRef(!0);return Jr(function(){n<0||!i||!Object.keys(s.current).length||(u.current===!1?u.current=!0:a(r(n),t))},[n]),u}o(jn,"useScrollIntoView");function je(e,n,i){var s;i===void 0&&(i=!0);var r=((s=e.items)==null?void 0:s.length)&&n>=0;return H({isOpen:!1,highlightedIndex:-1},r&&H({selectedItem:e.items[n],isOpen:he(e,"isOpen"),highlightedIndex:he(e,"highlightedIndex")},i&&{inputValue:e.itemToString(e.items[n])}))}o(je,"getChangesOnSelection");function Nn(e,n){return e.isOpen===n.isOpen&&e.inputValue===n.inputValue&&e.highlightedIndex===n.highlightedIndex&&e.selectedItem===n.selectedItem}o(Nn,"isDropdownsStateEqual");function ot(){var e=He.useRef(!0);return He.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}o(ot,"useIsInitialMount");function Ne(e){var n=he(e,"highlightedIndex");return n>-1&&e.isItemDisabled(e.items[n],n)?-1:n}o(Ne,"getDefaultHighlightedIndex");function Zr(e){var n=be(e,"highlightedIndex");return n>-1&&e.isItemDisabled(e.items[n],n)?-1:n}o(Zr,"getInitialHighlightedIndex");var Ve={environment:M.shape({addEventListener:M.func.isRequired,removeEventListener:M.func.isRequired,document:M.shape({createElement:M.func.isRequired,getElementById:M.func.isRequired,activeElement:M.any.isRequired,body:M.any.isRequired}).isRequired,Node:M.func.isRequired}),itemToString:M.func,itemToKey:M.func,stateReducer:M.func},Un=H({},Ve,{getA11yStatusMessage:M.func,highlightedIndex:M.number,defaultHighlightedIndex:M.number,initialHighlightedIndex:M.number,isOpen:M.bool,defaultIsOpen:M.bool,initialIsOpen:M.bool,selectedItem:M.any,initialSelectedItem:M.any,defaultSelectedItem:M.any,id:M.string,labelId:M.string,menuId:M.string,getItemId:M.func,toggleButtonId:M.string,onSelectedItemChange:M.func,onHighlightedIndexChange:M.func,onStateChange:M.func,onIsOpenChange:M.func,scrollIntoView:M.func});function Wn(e,n,i){var s=n.type,r=n.props,t;switch(s){case i.ItemMouseMove:t={highlightedIndex:n.disabled?-1:n.index};break;case i.MenuMouseLeave:t={highlightedIndex:-1};break;case i.ToggleButtonClick:case i.FunctionToggleMenu:t={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:xe(r,e,0)};break;case i.FunctionOpenMenu:t={isOpen:!0,highlightedIndex:xe(r,e,0)};break;case i.FunctionCloseMenu:t={isOpen:!1};break;case i.FunctionSetHighlightedIndex:t={highlightedIndex:r.isItemDisabled(r.items[n.highlightedIndex],n.highlightedIndex)?-1:n.highlightedIndex};break;case i.FunctionSetInputValue:t={inputValue:n.inputValue};break;case i.FunctionReset:t={highlightedIndex:Ne(r),isOpen:he(r,"isOpen"),selectedItem:he(r,"selectedItem"),inputValue:he(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return H({},e,t)}o(Wn,"downshiftCommonReducer");function ei(e){for(var n=e.keysSoFar,i=e.highlightedIndex,s=e.items,r=e.itemToString,t=e.isItemDisabled,a=n.toLowerCase(),u=0;u<s.length;u++){var l=(u+i+(n.length<2?1:0))%s.length,v=s[l];if(v!==void 0&&r(v).toLowerCase().startsWith(a)&&!t(v,l))return l}return i}o(ei,"getItemIndexByCharacterKey");De(De({},Un),{items:M.array.isRequired,isItemDisabled:M.func});var ti=De(De({},Ee),{isItemDisabled:o(function(){return!1},"isItemDisabled")}),Ae=0,gt=1,ht=2,Ue=3,vt=4,mt=5,It=6,yt=7,bt=8,xt=9,wt=10,We=11,qn=12,zn=13,Ct=14,Gn=15,Yn=16,Xn=17,Jn=18,St=19,at=20,Qn=21,Zn=Object.freeze({__proto__:null,FunctionCloseMenu:Xn,FunctionOpenMenu:Yn,FunctionReset:Qn,FunctionSelectItem:St,FunctionSetHighlightedIndex:Jn,FunctionSetInputValue:at,FunctionToggleMenu:Gn,ItemClick:Ct,ItemMouseMove:zn,MenuMouseLeave:qn,ToggleButtonBlur:We,ToggleButtonClick:Ae,ToggleButtonKeyDownArrowDown:gt,ToggleButtonKeyDownArrowUp:ht,ToggleButtonKeyDownCharacter:Ue,ToggleButtonKeyDownEnd:It,ToggleButtonKeyDownEnter:yt,ToggleButtonKeyDownEscape:vt,ToggleButtonKeyDownHome:mt,ToggleButtonKeyDownPageDown:wt,ToggleButtonKeyDownPageUp:xt,ToggleButtonKeyDownSpaceButton:bt});function ni(e,n){var i,s=n.type,r=n.props,t=n.altKey,a;switch(s){case Ct:a={isOpen:he(r,"isOpen"),highlightedIndex:Ne(r),selectedItem:r.items[n.index]};break;case Ue:{var u=n.key,l=""+e.inputValue+u,v=!e.isOpen&&e.selectedItem?r.items.findIndex(function(D){return r.itemToKey(D)===r.itemToKey(e.selectedItem)}):e.highlightedIndex,C=ei({keysSoFar:l,highlightedIndex:v,items:r.items,itemToString:r.itemToString,isItemDisabled:r.isItemDisabled});a={inputValue:l,highlightedIndex:C,isOpen:!0}}break;case gt:{var $=e.isOpen?fe(e.highlightedIndex,1,r.items,r.isItemDisabled):t&&e.selectedItem==null?-1:xe(r,e,1);a={highlightedIndex:$,isOpen:!0}}break;case ht:if(e.isOpen&&t)a=je(r,e.highlightedIndex,!1);else{var S=e.isOpen?fe(e.highlightedIndex,-1,r.items,r.isItemDisabled):xe(r,e,-1);a={highlightedIndex:S,isOpen:!0}}break;case yt:case bt:a=je(r,e.highlightedIndex,!1);break;case mt:a={highlightedIndex:me(0,!1,r.items,r.isItemDisabled),isOpen:!0};break;case It:a={highlightedIndex:me(r.items.length-1,!0,r.items,r.isItemDisabled),isOpen:!0};break;case xt:a={highlightedIndex:fe(e.highlightedIndex,-10,r.items,r.isItemDisabled)};break;case wt:a={highlightedIndex:fe(e.highlightedIndex,10,r.items,r.isItemDisabled)};break;case vt:a={isOpen:!1,highlightedIndex:-1};break;case We:a=H({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((i=r.items)==null?void 0:i.length)&&{selectedItem:r.items[e.highlightedIndex]});break;case St:a={selectedItem:n.selectedItem};break;default:return Wn(e,n,Zn)}return H({},e,a)}o(ni,"downshiftSelectReducer");var ri=["onClick"],ii=["onMouseLeave","refKey","ref"],oi=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],si=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];er.stateChangeTypes=Zn;function er(e){e===void 0&&(e={});var n=H({},ti,e),i=n.scrollIntoView,s=n.environment,r=n.getA11yStatusMessage,t=An(ni,n,Fn,Nn),a=t[0],u=t[1],l=a.isOpen,v=a.highlightedIndex,C=a.selectedItem,$=a.inputValue,S=p.useRef(null),D=p.useRef(null),A=p.useRef({}),U=p.useRef(null),T=Bn(n),L=it({state:a,props:n}),d=p.useCallback(function(P){return A.current[T.getItemId(P)]},[T]);pt(r,a,[l,v,C,$],s);var f=jn({menuElement:D.current,highlightedIndex:v,isOpen:l,itemRefs:A,scrollIntoView:i,getItemNodeFromIndex:d});p.useEffect(function(){return U.current=rt(function(P){P({type:at,inputValue:""})},500),function(){U.current.cancel()}},[]),p.useEffect(function(){$&&U.current(u)},[u,$]),p.useEffect(function(){var P=be(n,"isOpen");P&&S.current&&S.current.focus()},[]);var c=Ln(s,p.useCallback(o(function(){L.current.state.isOpen&&u({type:We})},"handleBlur"),[u,L]),p.useMemo(function(){return[D,S]},[D.current,S.current])),m=ft();p.useEffect(function(){l||(A.current={})},[l]);var w=p.useMemo(function(){return{ArrowDown:o(function(_){_.preventDefault(),u({type:gt,altKey:_.altKey})},"ArrowDown"),ArrowUp:o(function(_){_.preventDefault(),u({type:ht,altKey:_.altKey})},"ArrowUp"),Home:o(function(_){_.preventDefault(),u({type:mt})},"Home"),End:o(function(_){_.preventDefault(),u({type:It})},"End"),Escape:o(function(){L.current.state.isOpen&&u({type:vt})},"Escape"),Enter:o(function(_){_.preventDefault(),u({type:L.current.state.isOpen?yt:Ae})},"Enter"),PageUp:o(function(_){L.current.state.isOpen&&(_.preventDefault(),u({type:xt}))},"PageUp"),PageDown:o(function(_){L.current.state.isOpen&&(_.preventDefault(),u({type:wt}))},"PageDown")," ":o(function(_){_.preventDefault();var K=L.current.state;if(!K.isOpen){u({type:Ae});return}K.inputValue?u({type:Ue,key:" "}):u({type:bt})},"_")}},[u,L]),B=p.useCallback(function(){u({type:Gn})},[u]),k=p.useCallback(function(){u({type:Xn})},[u]),h=p.useCallback(function(){u({type:Yn})},[u]),b=p.useCallback(function(P){u({type:Jn,highlightedIndex:P})},[u]),O=p.useCallback(function(P){u({type:St,selectedItem:P})},[u]),V=p.useCallback(function(){u({type:Qn})},[u]),z=p.useCallback(function(P){u({type:at,inputValue:P})},[u]),R=p.useCallback(function(P){var _=P===void 0?{}:P,K=_.onClick,W=ne(_,ri),y=o(function(){var I;(I=S.current)==null||I.focus()},"labelHandleClick2");return H({id:T.labelId,htmlFor:T.toggleButtonId,onClick:N(K,y)},W)},[T]),G=p.useCallback(function(P,_){var K,W=P===void 0?{}:P,y=W.onMouseLeave,x=W.refKey,I=x===void 0?"ref":x,g=W.ref,E=ne(W,ii),F=_===void 0?{}:_;F.suppressRefError;var j=o(function(){u({type:qn})},"menuHandleMouseLeave2");return H((K={},K[I]=ce(g,function(Y){D.current=Y}),K.id=T.menuId,K.role="listbox",K["aria-labelledby"]=E&&E["aria-label"]?void 0:""+T.labelId,K.onMouseLeave=N(y,j),K),E)},[u,m,T]),ee=p.useCallback(function(P,_){var K,W=P===void 0?{}:P,y=W.onBlur,x=W.onClick;W.onPress;var I=W.onKeyDown,g=W.refKey,E=g===void 0?"ref":g,F=W.ref,j=ne(W,oi),Y=_===void 0?{}:_;Y.suppressRefError;var X=L.current.state,Q=o(function(){u({type:Ae})},"toggleButtonHandleClick2"),te=o(function(){X.isOpen&&!c.isMouseDown&&u({type:We})},"toggleButtonHandleBlur2"),le=o(function(J){var re=ke(J);re&&w[re]?w[re](J):Qr(re)&&u({type:Ue,key:re})},"toggleButtonHandleKeyDown2"),oe=H((K={},K[E]=ce(F,function(de){S.current=de}),K["aria-activedescendant"]=X.isOpen&&X.highlightedIndex>-1?T.getItemId(X.highlightedIndex):"",K["aria-controls"]=T.menuId,K["aria-expanded"]=L.current.state.isOpen,K["aria-haspopup"]="listbox",K["aria-labelledby"]=j&&j["aria-label"]?void 0:""+T.labelId,K.id=T.toggleButtonId,K.role="combobox",K.tabIndex=0,K.onBlur=N(y,te),K),j);return j.disabled||(oe.onClick=N(x,Q),oe.onKeyDown=N(I,le)),oe},[u,T,L,c,m,w]),se=p.useCallback(function(P){var _,K=P===void 0?{}:P,W=K.item,y=K.index,x=K.onMouseMove,I=K.onClick,g=K.onMouseDown;K.onPress;var E=K.refKey,F=E===void 0?"ref":E,j=K.disabled,Y=K.ref,X=ne(K,si);j!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var Q=L.current,te=Q.state,le=Q.props,oe=dt(W,y,le.items,"Pass either item or index to getItemProps!"),de=oe[0],J=oe[1],re=le.isItemDisabled(de,J),Ce=o(function(){c.isTouchEnd||J===te.highlightedIndex||(f.current=!1,u({type:zn,index:J,disabled:re}))},"itemHandleMouseMove2"),Se=o(function(){u({type:Ct,index:J})},"itemHandleClick2"),Oe=o(function(pe){return pe.preventDefault()},"itemHandleMouseDown2"),ie=H((_={},_[F]=ce(Y,function(ae){ae&&(A.current[T.getItemId(J)]=ae)}),_["aria-disabled"]=re,_["aria-selected"]=de===te.selectedItem,_.id=T.getItemId(J),_.role="option",_),X);return re||(ie.onClick=N(I,Se)),ie.onMouseMove=N(x,Ce),ie.onMouseDown=N(g,Oe),ie},[L,T,c,f,u]);return{getToggleButtonProps:ee,getLabelProps:R,getMenuProps:G,getItemProps:se,toggleMenu:B,openMenu:h,closeMenu:k,setHighlightedIndex:b,selectItem:O,reset:V,setInputValue:z,highlightedIndex:v,isOpen:l,selectedItem:C,inputValue:$}}o(er,"useSelect$1");var Dt=0,kt=1,Ot=2,Mt=3,Kt=4,Et=5,Ht=6,Rt=7,Tt=8,qe=9,Pt=10,tr=11,nr=12,$t=13,rr=14,ir=15,or=16,sr=17,ar=18,_t=19,ur=20,lr=21,Bt=22,dr=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:Bt,FunctionCloseMenu:sr,FunctionOpenMenu:or,FunctionReset:lr,FunctionSelectItem:_t,FunctionSetHighlightedIndex:ar,FunctionSetInputValue:ur,FunctionToggleMenu:ir,InputBlur:qe,InputChange:Tt,InputClick:Pt,InputKeyDownArrowDown:Dt,InputKeyDownArrowUp:kt,InputKeyDownEnd:Kt,InputKeyDownEnter:Rt,InputKeyDownEscape:Ot,InputKeyDownHome:Mt,InputKeyDownPageDown:Ht,InputKeyDownPageUp:Et,ItemClick:$t,ItemMouseMove:nr,MenuMouseLeave:tr,ToggleButtonClick:rr});function ai(e){var n=Fn(e),i=n.selectedItem,s=n.inputValue;return s===""&&i&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(s=e.itemToString(i)),H({},n,{inputValue:s})}o(ai,"getInitialState$1");H({},Un,{items:M.array.isRequired,isItemDisabled:M.func,inputValue:M.string,defaultInputValue:M.string,initialInputValue:M.string,inputId:M.string,onInputValueChange:M.func});function ui(e,n,i,s){var r=p.useRef(),t=Vn(e,n,i,s),a=t[0],u=t[1],l=ot();return p.useEffect(function(){if(Fe(n,"selectedItem")){if(!l){var v=n.itemToKey(n.selectedItem)!==n.itemToKey(r.current);v&&u({type:Bt,inputValue:n.itemToString(n.selectedItem)})}r.current=a.selectedItem===r.current?n.selectedItem:a.selectedItem}},[a.selectedItem,n.selectedItem]),[Re(a,n),u]}o(ui,"useControlledReducer");var li=H({},Ee,{isItemDisabled:o(function(){return!1},"isItemDisabled")});function di(e,n){var i,s=n.type,r=n.props,t=n.altKey,a;switch(s){case $t:a={isOpen:he(r,"isOpen"),highlightedIndex:Ne(r),selectedItem:r.items[n.index],inputValue:r.itemToString(r.items[n.index])};break;case Dt:e.isOpen?a={highlightedIndex:fe(e.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:a={highlightedIndex:t&&e.selectedItem==null?-1:xe(r,e,1),isOpen:r.items.length>=0};break;case kt:e.isOpen?t?a=je(r,e.highlightedIndex):a={highlightedIndex:fe(e.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:a={highlightedIndex:xe(r,e,-1),isOpen:r.items.length>=0};break;case Rt:a=je(r,e.highlightedIndex);break;case Ot:a=H({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Et:a={highlightedIndex:fe(e.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case Ht:a={highlightedIndex:fe(e.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case Mt:a={highlightedIndex:me(0,!1,r.items,r.isItemDisabled)};break;case Kt:a={highlightedIndex:me(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case qe:a=H({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((i=r.items)==null?void 0:i.length)&&n.selectItem&&{selectedItem:r.items[e.highlightedIndex],inputValue:r.itemToString(r.items[e.highlightedIndex])});break;case Tt:a={isOpen:!0,highlightedIndex:Ne(r),inputValue:n.inputValue};break;case Pt:a={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:xe(r,e,0)};break;case _t:a={selectedItem:n.selectedItem,inputValue:r.itemToString(n.selectedItem)};break;case Bt:a={inputValue:n.inputValue};break;default:return Wn(e,n,dr)}return H({},e,a)}o(di,"downshiftUseComboboxReducer");var ci=["onMouseLeave","refKey","ref"],fi=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],pi=["onClick","onPress","refKey","ref"],gi=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];cr.stateChangeTypes=dr;function cr(e){e===void 0&&(e={});var n=H({},li,e),i=n.items,s=n.scrollIntoView,r=n.environment,t=n.getA11yStatusMessage,a=ui(di,n,ai,Nn),u=a[0],l=a[1],v=u.isOpen,C=u.highlightedIndex,$=u.selectedItem,S=u.inputValue,D=p.useRef(null),A=p.useRef({}),U=p.useRef(null),T=p.useRef(null),L=ot(),d=Bn(n),f=p.useRef(),c=it({state:u,props:n}),m=p.useCallback(function(y){return A.current[d.getItemId(y)]},[d]);pt(t,u,[v,C,$,S],r);var w=jn({menuElement:D.current,highlightedIndex:C,isOpen:v,itemRefs:A,scrollIntoView:s,getItemNodeFromIndex:m});p.useEffect(function(){var y=be(n,"isOpen");y&&U.current&&U.current.focus()},[]),p.useEffect(function(){L||(f.current=i.length)});var B=Ln(r,p.useCallback(o(function(){c.current.state.isOpen&&l({type:qe,selectItem:!1})},"handleBlur"),[l,c]),p.useMemo(function(){return[D,T,U]},[D.current,T.current,U.current])),k=ft();p.useEffect(function(){v||(A.current={})},[v]),p.useEffect(function(){var y;!v||!(r!=null&&r.document)||!(U!=null&&(y=U.current)!=null&&y.focus)||r.document.activeElement!==U.current&&U.current.focus()},[v,r]);var h=p.useMemo(function(){return{ArrowDown:o(function(x){x.preventDefault(),l({type:Dt,altKey:x.altKey})},"ArrowDown"),ArrowUp:o(function(x){x.preventDefault(),l({type:kt,altKey:x.altKey})},"ArrowUp"),Home:o(function(x){c.current.state.isOpen&&(x.preventDefault(),l({type:Mt}))},"Home"),End:o(function(x){c.current.state.isOpen&&(x.preventDefault(),l({type:Kt}))},"End"),Escape:o(function(x){var I=c.current.state;(I.isOpen||I.inputValue||I.selectedItem||I.highlightedIndex>-1)&&(x.preventDefault(),l({type:Ot}))},"Escape"),Enter:o(function(x){var I=c.current.state;!I.isOpen||x.which===229||(x.preventDefault(),l({type:Rt}))},"Enter"),PageUp:o(function(x){c.current.state.isOpen&&(x.preventDefault(),l({type:Et}))},"PageUp"),PageDown:o(function(x){c.current.state.isOpen&&(x.preventDefault(),l({type:Ht}))},"PageDown")}},[l,c]),b=p.useCallback(function(y){return H({id:d.labelId,htmlFor:d.inputId},y)},[d]),O=p.useCallback(function(y,x){var I,g=y===void 0?{}:y,E=g.onMouseLeave,F=g.refKey,j=F===void 0?"ref":F,Y=g.ref,X=ne(g,ci),Q=x===void 0?{}:x;return Q.suppressRefError,H((I={},I[j]=ce(Y,function(te){D.current=te}),I.id=d.menuId,I.role="listbox",I["aria-labelledby"]=X&&X["aria-label"]?void 0:""+d.labelId,I.onMouseLeave=N(E,function(){l({type:tr})}),I),X)},[l,k,d]),V=p.useCallback(function(y){var x,I,g=y===void 0?{}:y,E=g.item,F=g.index,j=g.refKey,Y=j===void 0?"ref":j,X=g.ref,Q=g.onMouseMove,te=g.onMouseDown,le=g.onClick;g.onPress;var oe=g.disabled,de=ne(g,fi);oe!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var J=c.current,re=J.props,Ce=J.state,Se=dt(E,F,re.items,"Pass either item or index to getItemProps!"),Oe=Se[0],ie=Se[1],ae=re.isItemDisabled(Oe,ie),pe="onClick",Ie=le,ve=o(function(){B.isTouchEnd||ie===Ce.highlightedIndex||(w.current=!1,l({type:nr,index:ie,disabled:ae}))},"itemHandleMouseMove2"),ye=o(function(){l({type:$t,index:ie})},"itemHandleClick2"),hr=o(function(vr){return vr.preventDefault()},"itemHandleMouseDown2");return H((x={},x[Y]=ce(X,function(Me){Me&&(A.current[d.getItemId(ie)]=Me)}),x["aria-disabled"]=ae,x["aria-selected"]=ie===Ce.highlightedIndex,x.id=d.getItemId(ie),x.role="option",x),!ae&&(I={},I[pe]=N(Ie,ye),I),{onMouseMove:N(Q,ve),onMouseDown:N(te,hr)},de)},[l,d,c,B,w]),z=p.useCallback(function(y){var x,I=y===void 0?{}:y,g=I.onClick;I.onPress;var E=I.refKey,F=E===void 0?"ref":E,j=I.ref,Y=ne(I,pi),X=c.current.state,Q=o(function(){l({type:rr})},"toggleButtonHandleClick2");return H((x={},x[F]=ce(j,function(te){T.current=te}),x["aria-controls"]=d.menuId,x["aria-expanded"]=X.isOpen,x.id=d.toggleButtonId,x.tabIndex=-1,x),!Y.disabled&&H({},{onClick:N(g,Q)}),Y)},[l,c,d]),R=p.useCallback(function(y,x){var I,g=y===void 0?{}:y,E=g.onKeyDown,F=g.onChange,j=g.onInput,Y=g.onBlur;g.onChangeText;var X=g.onClick,Q=g.refKey,te=Q===void 0?"ref":Q,le=g.ref,oe=ne(g,gi),de=x===void 0?{}:x;de.suppressRefError;var J=c.current.state,re=o(function(ve){var ye=ke(ve);ye&&h[ye]&&h[ye](ve)},"inputHandleKeyDown2"),Ce=o(function(ve){l({type:Tt,inputValue:ve.target.value})},"inputHandleChange2"),Se=o(function(ve){if(r!=null&&r.document&&J.isOpen&&!B.isMouseDown){var ye=ve.relatedTarget===null&&r.document.activeElement!==r.document.body;l({type:qe,selectItem:!ye})}},"inputHandleBlur2"),Oe=o(function(){l({type:Pt})},"inputHandleClick2"),ie="onChange",ae={};if(!oe.disabled){var pe;ae=(pe={},pe[ie]=N(F,j,Ce),pe.onKeyDown=N(E,re),pe.onBlur=N(Y,Se),pe.onClick=N(X,Oe),pe)}return H((I={},I[te]=ce(le,function(Ie){U.current=Ie}),I["aria-activedescendant"]=J.isOpen&&J.highlightedIndex>-1?d.getItemId(J.highlightedIndex):"",I["aria-autocomplete"]="list",I["aria-controls"]=d.menuId,I["aria-expanded"]=J.isOpen,I["aria-labelledby"]=oe&&oe["aria-label"]?void 0:d.labelId,I.autoComplete="off",I.id=d.inputId,I.role="combobox",I.value=J.inputValue,I),ae,oe)},[l,d,r,h,c,B,k]),G=p.useCallback(function(){l({type:ir})},[l]),ee=p.useCallback(function(){l({type:sr})},[l]),se=p.useCallback(function(){l({type:or})},[l]),P=p.useCallback(function(y){l({type:ar,highlightedIndex:y})},[l]),_=p.useCallback(function(y){l({type:_t,selectedItem:y})},[l]),K=p.useCallback(function(y){l({type:ur,inputValue:y})},[l]),W=p.useCallback(function(){l({type:lr})},[l]);return{getItemProps:V,getLabelProps:b,getMenuProps:O,getInputProps:R,getToggleButtonProps:z,toggleMenu:G,openMenu:se,closeMenu:ee,setHighlightedIndex:P,setInputValue:K,selectItem:_,reset:W,highlightedIndex:C,isOpen:v,selectedItem:$,inputValue:S}}o(cr,"useCombobox");var fr={activeIndex:-1,selectedItems:[]};function sn(e,n){return be(e,n,fr)}o(sn,"getInitialValue");function an(e,n){return he(e,n,fr)}o(an,"getDefaultValue");function hi(e){var n=sn(e,"activeIndex"),i=sn(e,"selectedItems");return{activeIndex:n,selectedItems:i}}o(hi,"getInitialState");function un(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var n=e.target;return!(n instanceof HTMLInputElement&&n.value!==""&&(n.selectionStart!==0||n.selectionEnd!==0))}o(un,"isKeyDownOperationPermitted");function vi(e,n){return e.selectedItems===n.selectedItems&&e.activeIndex===n.activeIndex}o(vi,"isStateEqual");Ve.stateReducer,Ve.itemToKey,Ve.environment,M.array,M.array,M.array,M.func,M.number,M.number,M.number,M.func,M.func,M.string,M.string;var mi={itemToKey:Ee.itemToKey,stateReducer:Ee.stateReducer,environment:Ee.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Vt=0,At=1,Ft=2,Lt=3,jt=4,Nt=5,Ut=6,Wt=7,qt=8,zt=9,Gt=10,Yt=11,Xt=12,Ii=Object.freeze({__proto__:null,DropdownClick:Wt,DropdownKeyDownBackspace:Ut,DropdownKeyDownNavigationPrevious:Nt,FunctionAddSelectedItem:qt,FunctionRemoveSelectedItem:zt,FunctionReset:Xt,FunctionSetActiveIndex:Yt,FunctionSetSelectedItems:Gt,SelectedItemClick:Vt,SelectedItemKeyDownBackspace:Ft,SelectedItemKeyDownDelete:At,SelectedItemKeyDownNavigationNext:Lt,SelectedItemKeyDownNavigationPrevious:jt});function yi(e,n){var i=n.type,s=n.index,r=n.props,t=n.selectedItem,a=e.activeIndex,u=e.selectedItems,l;switch(i){case Vt:l={activeIndex:s};break;case jt:l={activeIndex:a-1<0?0:a-1};break;case Lt:l={activeIndex:a+1>=u.length?-1:a+1};break;case Ft:case At:{if(a<0)break;var v=a;u.length===1?v=-1:a===u.length-1&&(v=u.length-2),l=H({selectedItems:[].concat(u.slice(0,a),u.slice(a+1))},{activeIndex:v});break}case Nt:l={activeIndex:u.length-1};break;case Ut:l={selectedItems:u.slice(0,u.length-1)};break;case qt:l={selectedItems:[].concat(u,[t])};break;case Wt:l={activeIndex:-1};break;case zt:{var C=a,$=u.findIndex(function(A){return r.itemToKey(A)===r.itemToKey(t)});if($<0)break;u.length===1?C=-1:$===u.length-1&&(C=u.length-2),l={selectedItems:[].concat(u.slice(0,$),u.slice($+1)),activeIndex:C};break}case Gt:{var S=n.selectedItems;l={selectedItems:S};break}case Yt:{var D=n.activeIndex;l={activeIndex:D};break}case Xt:l={activeIndex:an(r,"activeIndex"),selectedItems:an(r,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return H({},e,l)}o(yi,"downshiftMultipleSelectionReducer");var bi=["refKey","ref","onClick","onKeyDown","selectedItem","index"],xi=["refKey","ref","onKeyDown","onClick","preventKeyAction"];pr.stateChangeTypes=Ii;function pr(e){e===void 0&&(e={});var n=H({},mi,e),i=n.getA11yStatusMessage,s=n.environment,r=n.keyNavigationNext,t=n.keyNavigationPrevious,a=An(yi,n,hi,vi),u=a[0],l=a[1],v=u.activeIndex,C=u.selectedItems,$=ot(),S=p.useRef(null),D=p.useRef();D.current=[];var A=it({state:u,props:n});pt(i,u,[v,C],s),p.useEffect(function(){$||(v===-1&&S.current?S.current.focus():D.current[v]&&D.current[v].focus())},[v]);var U=ft(),T=p.useMemo(function(){var h;return h={},h[t]=function(){l({type:jt})},h[r]=function(){l({type:Lt})},h.Delete=o(function(){l({type:At})},"Delete"),h.Backspace=o(function(){l({type:Ft})},"Backspace"),h},[l,r,t]),L=p.useMemo(function(){var h;return h={},h[t]=function(b){un(b)&&l({type:Nt})},h.Backspace=o(function(O){un(O)&&l({type:Ut})},"Backspace"),h},[l,t]),d=p.useCallback(function(h){var b,O=h===void 0?{}:h,V=O.refKey,z=V===void 0?"ref":V,R=O.ref,G=O.onClick,ee=O.onKeyDown,se=O.selectedItem,P=O.index,_=ne(O,bi),K=A.current.state,W=dt(se,P,K.selectedItems,"Pass either item or index to getSelectedItemProps!"),y=W[1],x=y>-1&&y===K.activeIndex,I=o(function(){l({type:Vt,index:y})},"selectedItemHandleClick2"),g=o(function(F){var j=ke(F);j&&T[j]&&T[j](F)},"selectedItemHandleKeyDown2");return H((b={},b[z]=ce(R,function(E){E&&D.current.push(E)}),b.tabIndex=x?0:-1,b.onClick=N(G,I),b.onKeyDown=N(ee,g),b),_)},[l,A,T]),f=p.useCallback(function(h,b){var O,V=h===void 0?{}:h,z=V.refKey,R=z===void 0?"ref":z,G=V.ref,ee=V.onKeyDown,se=V.onClick,P=V.preventKeyAction,_=P===void 0?!1:P,K=ne(V,xi),W=b===void 0?{}:b;W.suppressRefError;var y=o(function(g){var E=ke(g);E&&L[E]&&L[E](g)},"dropdownHandleKeyDown2"),x=o(function(){l({type:Wt})},"dropdownHandleClick2");return H((O={},O[R]=ce(G,function(I){I&&(S.current=I)}),O),!_&&{onKeyDown:N(ee,y),onClick:N(se,x)},K)},[l,L,U]),c=p.useCallback(function(h){l({type:qt,selectedItem:h})},[l]),m=p.useCallback(function(h){l({type:zt,selectedItem:h})},[l]),w=p.useCallback(function(h){l({type:Gt,selectedItems:h})},[l]),B=p.useCallback(function(h){l({type:Yt,activeIndex:h})},[l]),k=p.useCallback(function(){l({type:Xt})},[l]);return{getSelectedItemProps:d,getDropdownProps:f,addSelectedItem:c,removeSelectedItem:m,setSelectedItems:w,setActiveIndex:B,reset:k,selectedItems:C,activeIndex:v}}o(pr,"useMultipleSelection");const wi=Object.freeze(Object.defineProperty({__proto__:null,default:zr,resetIdCounter:Pr,useCombobox:cr,useMultipleSelection:pr,useSelect:er},Symbol.toStringTag,{value:"Module"})),gr=p.createContext(void 0),Ci=o(()=>{const e=p.useContext(gr);if(!e)throw new Error("useSelectContext must be used within a SelectProvider");return e},"useSelectContext"),Si=o(({children:e,value:n})=>{const{highlightedIndex:i,selectedItems:s,...r}=n,t=o(u=>u===i,"isItemHighlighted"),a=o(u=>!!s.find(l=>l.value===u),"isItemSelected");return Z.jsx(gr.Provider,{value:{isItemHighlighted:t,isItemSelected:a,...r},children:e})},"SelectProvider"),Di=we(Cr)`
  ${({theme:e})=>`
    pointer-events: none;
    padding: ${e.spacing.spacing_40} ${e.spacing.spacing_50};

    &[data-selected="true"] span {
      ${e.fontStyles.bodyMdBold};
    }

    span {
      color: inherit;
    }
  `}
`,ki=o(({dataTestId:e,index:n,children:i,style:s,value:r,isDisabled:t=!1})=>{const{spacing:a}=yr(),{getItemProps:u,isItemHighlighted:l,isItemSelected:v,isMulti:C}=Ci(),$={value:r,isDisabled:t},S=v(r),D=l(n);return Z.jsx(dn.Option,{dataTestId:e,isDisabled:t,isHighlighted:D,isSelected:S,style:{...s,...C?{paddingY:a.spacing_40,paddingX:a.spacing_50}:{}},...u({item:$,index:n}),children:C?Z.jsx(Di,{isChecked:S,isDisabled:t,size:"small",tabIndex:-1,children:i}):i})},"SelectOption"),Oi=we.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.spacing_30};
`,Mi=o((e,n)=>({default:n.palette.surface.default,contrast:n.palette.surface.contrast,light:n.palette.surface.light})[e],"getThemedBackgroundFill"),Ki=we(cn,{shouldForwardProp:o(e=>e!=="scale"&&e!=="isFloatingLabel","shouldForwardProp")})`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  ${({theme:e,scale:n,isFloatingLabel:i})=>{const s=n==="standard"?e.spacing.spacing_50:e.spacing.spacing_40,r=n==="standard"?e.spacing.spacing_30:e.spacing.spacing_20;return`
      ${i?`padding-top: ${s};`:`padding-block: ${r};`}
  `}}
`,Ei=we.div`
  transition: border 0.2s ease-in-out;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;

  ${({theme:e,isOpen:n=!1,variant:i="outlined",fill:s="default",scale:r})=>`
    ${e.fontStyles.bodyMdRegular}
    color: ${e.palette.content.default};
    padding: ${r==="standard"?e.spacing.spacing_40:`${e.spacing.spacing_30} ${e.spacing.spacing_40}`};
    gap: ${e.spacing.spacing_30};
    background-color: ${Mi(s,e)};
    border-radius: ${e.shape.formField};
    cursor: pointer;
    user-select: none;



    border-width: ${i==="outlined"?"1px":"0 0 1px"};
    border-color: ${n?e.palette.informative.default:e.palette.border.medium};
    border-style: solid;

    &:not([disabled]){
      &:focus-visible {
        outline: 2px solid ${e.palette.primary.default};
        outline-offset: 1px; 
      }

      &:not([aria-invalid="true"]){
        &:focus-visible, &:hover {
          border-color: ${e.palette.informative.default};
        }
      }

      &[aria-invalid="true"]{
        border-color: ${e.palette.error.default};

        i {
          color: ${e.palette.error.default}
        } 
      }
    }

    &[disabled] {
      color: ${e.palette.content.light};
      cursor: not-allowed;

      i {
        color: inherit;
      }
    }
  `};
`,Hi=we.div`
  display: flex;

  ${({scale:e,hasItems:n,isFloatingLabel:i,theme:s})=>`
    gap: ${s.spacing.spacing_30};

    ${(!n||!i)&&`padding-block: ${e==="standard"?s.spacing.spacing_20:s.spacing.spacing_10}`}
  `}
`,Ri=we(cn)`
  ${({theme:e})=>`
    padding-left: ${e.spacing.spacing_40};
  `}
`,Ti=we(dn)`
  max-height: 200px;

  ${({theme:e})=>`
    padding: ${e.spacing.spacing_50} ${e.spacing.spacing_0};
    background-color: ${e.palette.surface.contrast};
    border-radius: ${e.shape.dropdown};
    border: 1px solid ${e.palette.border.medium};
  `}
`,{useSelect:Ke}=wi,ln="helper-text-id",Pi=o(({dataTestId:e,style:n,value:i,label:s,isMulti:r,isRequired:t,children:a,isDisabled:u,labelIcon:l,hasError:v=!1,helperText:C="",variant:$="outlined",fill:S="default",isFloatingLabel:D=!0,scale:A="standard",placeholder:U="",onChange:T,onBlur:L,onFocus:d,...f})=>{const c=p.useRef(null),m=o(g=>{(g.code==="Enter"||g.code==="Space")&&w(g)},"handleClearKeyDown"),w=o(g=>{g.stopPropagation(),r&&(T==null||T([]))},"handleClearSelection"),B=p.useMemo(()=>{const g=p.Children.map(a,E=>{var F,j;return p.isValidElement(E)&&E.props.value!=null?{value:E.props.value,isDisabled:E.props.isDisabled,label:((F=E.props)==null?void 0:F.valueLabel)??((j=E.props)==null?void 0:j.children)}:null});return(g==null?void 0:g.filter(Boolean))??[]},[a]),k=p.useMemo(()=>new Set(i?[i].flat():[]),[i]),h=p.useMemo(()=>B.filter(g=>k.has(g.value)),[B,k]),b=!!(h!=null&&h.length),O=!h.length&&!D,V=o(()=>{var g;return O?U:h.length>1?`${h.length} options selected`:(g=h[0])==null?void 0:g.label},"getSelectContainerText"),z=o((g,E)=>{const{changes:F,type:j}=E;switch(j){case Ke.stateChangeTypes.ToggleButtonBlur:return{...F,isOpen:!1,selectedItem:g.selectedItem,highlightedIndex:g.highlightedIndex};case Ke.stateChangeTypes.ItemClick:case Ke.stateChangeTypes.ToggleButtonKeyDownEnter:case Ke.stateChangeTypes.ToggleButtonKeyDownSpaceButton:return r?{...F,isOpen:!0,highlightedIndex:g.highlightedIndex}:F;default:return F}},"selectStateReducer"),R=o(({selectedItem:g})=>{if(g){if(r){const E=Array.isArray(i)?i:[],j=k.has(g.value)?E.filter(Y=>Y!==g.value):[...E,g.value];T==null||T(j);return}T==null||T(g.value)}},"handleSelectedItemChange"),{isOpen:G,closeMenu:ee,getToggleButtonProps:se,getLabelProps:P,getMenuProps:_,highlightedIndex:K,getItemProps:W}=Ke({items:B,isItemDisabled(g){return!!(g!=null&&g.isDisabled)},defaultHighlightedIndex:r||!(h!=null&&h[0])?0:void 0,selectedItem:r?null:(h==null?void 0:h[0])??null,stateReducer:z,onSelectedItemChange:R}),y=u||B.length===1,x=o((g,E)=>g?"content.light":E?"error.default":"content.medium","helperTextColor"),I=se({disabled:y,tabIndex:y?-1:0,ref:c,onBlur:L,onFocus:d});return Z.jsx(Si,{value:{highlightedIndex:K,getItemProps:W,selectedItems:h,isMulti:!!r},children:Z.jsxs(br,{dataTestId:e??"select",style:{alignItems:"start",gap:4,width:"100%",...n},...f,children:[Z.jsxs(Oi,{children:[Z.jsx(wr,{...P(),hasError:v,icon:l,isActive:D?b:G,isCentered:!0,isDisabled:y,isFloating:D,isRequired:t,scale:A,...D&&{style:{pointerEvents:"none"}},children:s}),Z.jsxs(Ei,{...I,...!!C&&{"aria-describedby":ln},...v&&{"aria-invalid":v},"data-testid":"select-container",fill:S,isOpen:G,scale:A,variant:$,children:[Z.jsx(Ki,{color:O?"content.medium":"content.default",dataTestId:"select-value",element:"span",fontStyles:"bodyMdRegular",isFloatingLabel:D,scale:A,...y&&{color:"content.light"},children:V()}),Z.jsxs(Hi,{hasItems:b,isFloatingLabel:D,scale:A,children:[r&&b?Z.jsxs(Qt,{children:[Z.jsx(xr,{dataTestId:"clear-selection",onClick:w,onKeyDown:m,onMouseDown:o(g=>g.preventDefault(),"onMouseDown"),children:Z.jsx(Jt,{code:"close_small"})}),Z.jsx(Qt.Content,{children:"Clear all"})]}):null,Z.jsx(Jt,{code:G?"expand_less":"expand_more"})]})]})]}),C?Z.jsx(Ri,{color:x(!!u,v),dataTestId:"select-helper-text",element:"span",fontStyles:"bodySmRegular",id:ln,children:C}):null,Z.jsx(Ti,{..._({},{suppressRefError:!0}),anchorRef:c,"aria-multiselectable":r,as:"ul",isFocusable:!1,isOpen:G,onClose:ee,children:a})]})})},"Select");Pi.Option=ki;export{Pi as S};
