import{j as T}from"./jsx-runtime-DMAvRu52.js";import"./index-ClqSgfeS.js";import"./index-DCrStp1_.js";import{g as Rt,r as c,R as be}from"./index-Dl6G-zuu.js";import{u as Mt}from"./useClickOutside-CBJSS0tk.js";import{I as et}from"./Icon-BZQueZez.js";import{L as kt}from"./LabelField-xHn0Od6I.js";import{T as tt}from"./Tooltip-D7IaksLn.js";import{T as Bt}from"./Typography-CXjE2RCF.js";import{_ as R,n as N}from"./emotion-styled.browser.esm-DpDeK1WQ.js";import{C as Pt}from"./Checkbox-BQ7mDs7U.js";import{a as Ht}from"./z-index-Ds5QkyqS.js";function he(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var ut={exports:{}},Kt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ft=Kt,Lt=Ft;function at(){}function ct(){}ct.resetWarningCache=at;var At=function(){function e(o,r,s,i,l,g){if(g!==Lt){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ct,resetWarningCache:at};return n.PropTypes=n,n};ut.exports=At();var Vt=ut.exports;const a=Rt(Vt);var x={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ae=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),Oe=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),De=Symbol.for("react.context"),jt=Symbol.for("react.server_context"),Re=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Wt=Symbol.for("react.offscreen"),dt;dt=Symbol.for("react.module.reference");function A(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ae:switch(e=e.type,e){case $e:case Te:case Oe:case Me:case ke:return e;default:switch(e=e&&e.$$typeof,e){case jt:case De:case Re:case Pe:case Be:case Ee:return e;default:return t}}case Ve:return t}}}x.ContextConsumer=De;x.ContextProvider=Ee;x.Element=Ae;x.ForwardRef=Re;x.Fragment=$e;x.Lazy=Pe;x.Memo=Be;x.Portal=Ve;x.Profiler=Te;x.StrictMode=Oe;x.Suspense=Me;x.SuspenseList=ke;x.isAsyncMode=function(){return!1};x.isConcurrentMode=function(){return!1};x.isContextConsumer=function(e){return A(e)===De};x.isContextProvider=function(e){return A(e)===Ee};x.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ae};x.isForwardRef=function(e){return A(e)===Re};x.isFragment=function(e){return A(e)===$e};x.isLazy=function(e){return A(e)===Pe};x.isMemo=function(e){return A(e)===Be};x.isPortal=function(e){return A(e)===Ve};x.isProfiler=function(e){return A(e)===Te};x.isStrictMode=function(e){return A(e)===Oe};x.isSuspense=function(e){return A(e)===Me};x.isSuspenseList=function(e){return A(e)===ke};x.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$e||e===Te||e===Oe||e===Me||e===ke||e===Wt||typeof e=="object"&&e!==null&&(e.$$typeof===Pe||e.$$typeof===Be||e.$$typeof===Ee||e.$$typeof===De||e.$$typeof===Re||e.$$typeof===dt||e.getModuleId!==void 0)};x.typeOf=A;const nt=e=>typeof e=="object"&&e!=null&&e.nodeType===1,rt=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",He=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return rt(n.overflowY,t)||rt(n.overflowX,t)||(o=>{const r=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(o);return!!r&&(r.clientHeight<o.scrollHeight||r.clientWidth<o.scrollWidth)})(e)}return!1},ve=(e,t,n,o,r,s,i,l)=>s<e&&i>t||s>e&&i<t?0:s<=e&&l<=n||i>=t&&l>=n?s-e-o:i>t&&l<n||s<e&&l>n?i-t+r:0,Nt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},qt=(e,t)=>{var n,o,r,s;if(typeof document>"u")return[];const{inline:i,boundary:l,skipOverflowHiddenElements:g}=t,v=typeof l=="function"?l:H=>H!==l;if(!nt(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,E=[];let h=e;for(;nt(h)&&v(h);){if(h=Nt(h),h===m){E.push(h);break}h!=null&&h===document.body&&He(h)&&!He(document.documentElement)||h!=null&&He(h,g)&&E.push(h)}const I=(o=(n=window.visualViewport)==null?void 0:n.width)!=null?o:innerWidth,p=(s=(r=window.visualViewport)==null?void 0:r.height)!=null?s:innerHeight,{scrollX:k,scrollY:w}=window,{height:y,width:q,top:U,right:O,bottom:_,left:P}=e.getBoundingClientRect(),{top:ce,right:ie,left:le}=(H=>{const b=window.getComputedStyle(H);return{top:parseFloat(b.scrollMarginTop)||0,right:parseFloat(b.scrollMarginRight)||0,bottom:parseFloat(b.scrollMarginBottom)||0,left:parseFloat(b.scrollMarginLeft)||0}})(e);let z=U-ce,M=i==="center"?P+q/2-le+ie:i==="end"?O+ie:P-le;const te=[];for(let H=0;H<E.length;H++){const b=E[H],{height:J,width:S,top:C,right:u,bottom:d,left:f}=b.getBoundingClientRect();if(U>=0&&P>=0&&_<=p&&O<=I&&U>=C&&_<=d&&P>=f&&O<=u)return te;const $=getComputedStyle(b),L=parseInt($.borderLeftWidth,10),V=parseInt($.borderTopWidth,10),K=parseInt($.borderRightWidth,10),j=parseInt($.borderBottomWidth,10);let D=0,B=0;const F="offsetWidth"in b?b.offsetWidth-b.clientWidth-L-K:0,X="offsetHeight"in b?b.offsetHeight-b.clientHeight-V-j:0,W="offsetWidth"in b?b.offsetWidth===0?0:S/b.offsetWidth:0,Q="offsetHeight"in b?b.offsetHeight===0?0:J/b.offsetHeight:0;if(m===b)D=ve(w,w+p,p,V,j,w+z,w+z+y,y),B=i==="start"?M:i==="center"?M-I/2:i==="end"?M-I:ve(k,k+I,I,L,K,k+M,k+M+q,q),D=Math.max(0,D+w),B=Math.max(0,B+k);else{D=ve(C,d,J,V,j+X,z,z+y,y),B=i==="start"?M-f-L:i==="center"?M-(f+S/2)+F/2:i==="end"?M-u+K+F:ve(f,u,S,L,K+F,M,M+q,q);const{scrollLeft:ne,scrollTop:re}=b;D=Q===0?0:Math.max(0,Math.min(re+D/Q,b.scrollHeight-J/Q+X)),B=W===0?0:Math.max(0,Math.min(ne+B/W,b.scrollWidth-S/W+F)),z+=re-D,M+=ne-B}te.push({el:b,top:D,left:B})}return te};var ae=function(){return ae=Object.assign||function(t){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ae.apply(this,arguments)};var Ut=0;function ft(){}function _t(e,t){if(e){var n=qt(e,{boundary:t});n.forEach(function(o){var r=o.el,s=o.top,i=o.left;r.scrollTop=s,r.scrollLeft=i})}}function ot(e,t,n){var o=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return o}function je(e,t){var n;function o(){n&&clearTimeout(n)}function r(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];o(),n=setTimeout(function(){n=null,e.apply(void 0,i)},t)}return r.cancel=o,r}function ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return t.some(function(l){return l&&l.apply(void 0,[o].concat(s)),o.preventDownshiftDefault||o.hasOwnProperty("nativeEvent")&&o.nativeEvent.preventDownshiftDefault})}}function Ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){t.forEach(function(r){typeof r=="function"?r(o):r&&(r.current=o)})}}function zt(){return String(Ut++)}function Fe(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,o){return n[o]=Xt(t,o)?t[o]:e[o],n},{})}function Xt(e,t){return e[t]!==void 0}function Gt(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function me(e,t,n,o,r){r===void 0&&(r=!1);var s=n.length;if(s===0)return-1;var i=s-1;(typeof e!="number"||e<0||e>i)&&(e=t>0?-1:i+1);var l=e+t;l<0?l=r?i:0:l>i&&(l=r?0:i);var g=xe(l,t<0,n,o,r);return g===-1?e>=s?-1:e:g}function xe(e,t,n,o,r){r===void 0&&(r=!1);var s=n.length;if(t){for(var i=e;i>=0;i--)if(!o(n[i],i))return i}else for(var l=e;l<s;l++)if(!o(n[l],l))return l;return r?xe(t?s-1:0,t,n,o):-1}function it(e,t,n,o){return o===void 0&&(o=!0),n&&t.some(function(r){return r&&(ot(r,e,n)||o&&ot(r,n.document.activeElement,n))})}var Yt=je(function(e){gt(e).textContent=""},500);function gt(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Zt(e,t){if(!(!e||!t)){var n=gt(t);n.textContent=e,Yt(t)}}function Jt(e){var t=e==null?void 0:e.getElementById("a11y-status-message");t&&t.remove()}var pt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Qt(e,t,n){var o=e.props,r=e.type,s={};Object.keys(t).forEach(function(i){en(i,e,t,n),n[i]!==t[i]&&(s[i]=n[i])}),o.onStateChange&&Object.keys(s).length&&o.onStateChange(R({type:r},s))}function en(e,t,n,o){var r=t.props,s=t.type,i="on"+We(e)+"Change";r[i]&&o[e]!==void 0&&o[e]!==n[e]&&r[i](R({type:s},o))}function tn(e,t){return t.changes}var lt=je(function(e,t){Zt(e,t)},200),nn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect,rn="useId"in be?function(t){var n=t.id,o=t.labelId,r=t.menuId,s=t.getItemId,i=t.toggleButtonId,l=t.inputId,g="downshift-"+be.useId();n||(n=g);var v=c.useRef({labelId:o||n+"-label",menuId:r||n+"-menu",getItemId:s||function(m){return n+"-item-"+m},toggleButtonId:i||n+"-toggle-button",inputId:l||n+"-input"});return v.current}:function(t){var n=t.id,o=n===void 0?"downshift-"+zt():n,r=t.labelId,s=t.menuId,i=t.getItemId,l=t.toggleButtonId,g=t.inputId,v=c.useRef({labelId:r||o+"-label",menuId:s||o+"-menu",getItemId:i||function(m){return o+"-item-"+m},toggleButtonId:l||o+"-toggle-button",inputId:g||o+"-input"});return v.current};function on(e,t,n,o){var r,s;if(e===void 0){if(t===void 0)throw new Error(o);r=n[t],s=t}else s=t===void 0?n.indexOf(e):t,r=e;return[r,s]}function ln(e){return/^\S{1}$/.test(e)}function We(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ht(e){var t=c.useRef(e);return t.current=e,t}function sn(e,t,n,o){var r=c.useRef(),s=c.useRef(),i=c.useCallback(function(I,p){s.current=p,I=Fe(I,p.props);var k=e(I,p),w=p.props.stateReducer(I,R({},p,{changes:k}));return w},[e]),l=c.useReducer(i,t,n),g=l[0],v=l[1],m=ht(t),E=c.useCallback(function(I){return v(R({props:m.current},I))},[m]),h=s.current;return c.useEffect(function(){var I=Fe(r.current,h==null?void 0:h.props),p=h&&r.current&&!o(I,g);p&&Qt(h,I,g),r.current=g},[g,h,o]),[g,E]}function un(e,t,n,o){var r=sn(e,t,n,o),s=r[0],i=r[1];return[Fe(s,t),i]}var ge={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:tn,scrollIntoView:_t,environment:typeof window>"u"?void 0:window};function Z(e,t,n){n===void 0&&(n=pt);var o=e["default"+We(t)];return o!==void 0?o:n[t]}function fe(e,t,n){n===void 0&&(n=pt);var o=e[t];if(o!==void 0)return o;var r=e["initial"+We(t)];return r!==void 0?r:Z(e,t,n)}function an(e){var t=fe(e,"selectedItem"),n=fe(e,"isOpen"),o=fe(e,"highlightedIndex"),r=fe(e,"inputValue");return{highlightedIndex:o<0&&t&&n?e.items.findIndex(function(s){return e.itemToKey(s)===e.itemToKey(t)}):o,isOpen:n,selectedItem:t,inputValue:r}}function we(e,t,n){var o=e.items,r=e.initialHighlightedIndex,s=e.defaultHighlightedIndex,i=e.isItemDisabled,l=e.itemToKey,g=t.selectedItem,v=t.highlightedIndex;return o.length===0?-1:r!==void 0&&v===r&&!i(o[r])?r:s!==void 0&&!i(o[s])?s:g?o.findIndex(function(m){return l(g)===l(m)}):n<0&&!i(o[o.length-1])?o.length-1:n>0&&!i(o[0])?0:-1}function cn(e,t,n){var o=c.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return c.useEffect(function(){if(!e)return ft;var r=t.map(function(m){return m.current});function s(){o.current.isTouchEnd=!1,o.current.isMouseDown=!0}function i(m){o.current.isMouseDown=!1,it(m.target,r,e)||n()}function l(){o.current.isTouchEnd=!1,o.current.isTouchMove=!1}function g(){o.current.isTouchMove=!0}function v(m){o.current.isTouchEnd=!0,!o.current.isTouchMove&&!it(m.target,r,e,!1)&&n()}return e.addEventListener("mousedown",s),e.addEventListener("mouseup",i),e.addEventListener("touchstart",l),e.addEventListener("touchmove",g),e.addEventListener("touchend",v),function(){e.removeEventListener("mousedown",s),e.removeEventListener("mouseup",i),e.removeEventListener("touchstart",l),e.removeEventListener("touchmove",g),e.removeEventListener("touchend",v)}},[e,n]),o.current}var dn=function(){return ft};function fn(e,t,n,o){o===void 0&&(o={});var r=o.document,s=hn();c.useEffect(function(){if(!(!e||s||!r)){var i=e(t);lt(i,r)}},n),c.useEffect(function(){return function(){lt.cancel(),Jt(r)}},[r])}function gn(e){var t=e.highlightedIndex,n=e.isOpen,o=e.itemRefs,r=e.getItemNodeFromIndex,s=e.menuElement,i=e.scrollIntoView,l=c.useRef(!0);return nn(function(){t<0||!n||!Object.keys(o.current).length||(l.current===!1?l.current=!0:i(r(t),s))},[t]),l}function st(e,t,n){var o,r=((o=e.items)==null?void 0:o.length)&&t>=0;return R({isOpen:!1,highlightedIndex:-1},r&&R({selectedItem:e.items[t],isOpen:Z(e,"isOpen"),highlightedIndex:Z(e,"highlightedIndex")},n))}function pn(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function hn(){var e=be.useRef(!0);return be.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}var Ie={environment:a.shape({addEventListener:a.func.isRequired,removeEventListener:a.func.isRequired,document:a.shape({createElement:a.func.isRequired,getElementById:a.func.isRequired,activeElement:a.any.isRequired,body:a.any.isRequired}).isRequired,Node:a.func.isRequired}),itemToString:a.func,itemToKey:a.func,stateReducer:a.func},vt=R({},Ie,{getA11yStatusMessage:a.func,highlightedIndex:a.number,defaultHighlightedIndex:a.number,initialHighlightedIndex:a.number,isOpen:a.bool,defaultIsOpen:a.bool,initialIsOpen:a.bool,selectedItem:a.any,initialSelectedItem:a.any,defaultSelectedItem:a.any,id:a.string,labelId:a.string,menuId:a.string,getItemId:a.func,toggleButtonId:a.string,onSelectedItemChange:a.func,onHighlightedIndexChange:a.func,onStateChange:a.func,onIsOpenChange:a.func,scrollIntoView:a.func});function vn(e,t,n){var o=t.type,r=t.props,s;switch(o){case n.ItemMouseMove:s={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:s={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:s={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:we(r,e,0)};break;case n.FunctionOpenMenu:s={isOpen:!0,highlightedIndex:we(r,e,0)};break;case n.FunctionCloseMenu:s={isOpen:!1};break;case n.FunctionSetHighlightedIndex:s={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:s={inputValue:t.inputValue};break;case n.FunctionReset:s={highlightedIndex:Z(r,"highlightedIndex"),isOpen:Z(r,"isOpen"),selectedItem:Z(r,"selectedItem"),inputValue:Z(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return R({},e,s)}function mn(e){for(var t=e.keysSoFar,n=e.highlightedIndex,o=e.items,r=e.itemToString,s=e.isItemDisabled,i=t.toLowerCase(),l=0;l<o.length;l++){var g=(l+n+(t.length<2?1:0))%o.length,v=o[g];if(v!==void 0&&r(v).toLowerCase().startsWith(i)&&!s(v,g))return g}return n}ae(ae({},vt),{items:a.array.isRequired,isItemDisabled:a.func});var In=ae(ae({},ge),{isItemDisabled:function(){return!1}}),ye=0,Ne=1,qe=2,Se=3,Ue=4,_e=5,ze=6,Xe=7,Ge=8,Ye=9,Ze=10,Ce=11,mt=12,It=13,Je=14,yt=15,bt=16,xt=17,wt=18,Qe=19,Le=20,St=21,Ct=Object.freeze({__proto__:null,ToggleButtonClick:ye,ToggleButtonKeyDownArrowDown:Ne,ToggleButtonKeyDownArrowUp:qe,ToggleButtonKeyDownCharacter:Se,ToggleButtonKeyDownEscape:Ue,ToggleButtonKeyDownHome:_e,ToggleButtonKeyDownEnd:ze,ToggleButtonKeyDownEnter:Xe,ToggleButtonKeyDownSpaceButton:Ge,ToggleButtonKeyDownPageUp:Ye,ToggleButtonKeyDownPageDown:Ze,ToggleButtonBlur:Ce,MenuMouseLeave:mt,ItemMouseMove:It,ItemClick:Je,FunctionToggleMenu:yt,FunctionOpenMenu:bt,FunctionCloseMenu:xt,FunctionSetHighlightedIndex:wt,FunctionSelectItem:Qe,FunctionSetInputValue:Le,FunctionReset:St});function yn(e,t){var n,o=t.type,r=t.props,s=t.altKey,i;switch(o){case Je:i={isOpen:Z(r,"isOpen"),highlightedIndex:Z(r,"highlightedIndex"),selectedItem:r.items[t.index]};break;case Se:{var l=t.key,g=""+e.inputValue+l,v=!e.isOpen&&e.selectedItem?r.items.findIndex(function(I){return r.itemToKey(I)===r.itemToKey(e.selectedItem)}):e.highlightedIndex,m=mn({keysSoFar:g,highlightedIndex:v,items:r.items,itemToString:r.itemToString,isItemDisabled:r.isItemDisabled});i={inputValue:g,highlightedIndex:m,isOpen:!0}}break;case Ne:{var E=e.isOpen?me(e.highlightedIndex,1,r.items,r.isItemDisabled):s&&e.selectedItem==null?-1:we(r,e,1);i={highlightedIndex:E,isOpen:!0}}break;case qe:if(e.isOpen&&s)i=st(r,e.highlightedIndex,!1);else{var h=e.isOpen?me(e.highlightedIndex,-1,r.items,r.isItemDisabled):we(r,e,-1);i={highlightedIndex:h,isOpen:!0}}break;case Xe:case Ge:i=st(r,e.highlightedIndex,!1);break;case _e:i={highlightedIndex:xe(0,!1,r.items,r.isItemDisabled),isOpen:!0};break;case ze:i={highlightedIndex:xe(r.items.length-1,!0,r.items,r.isItemDisabled),isOpen:!0};break;case Ye:i={highlightedIndex:me(e.highlightedIndex,-10,r.items,r.isItemDisabled)};break;case Ze:i={highlightedIndex:me(e.highlightedIndex,10,r.items,r.isItemDisabled)};break;case Ue:i={isOpen:!1,highlightedIndex:-1};break;case Ce:i=R({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&{selectedItem:r.items[e.highlightedIndex]});break;case Qe:i={selectedItem:t.selectedItem};break;default:return vn(e,t,Ct)}return R({},e,i)}var bn=["onClick"],xn=["onMouseLeave","refKey","ref"],wn=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],Sn=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];ue.stateChangeTypes=Ct;function ue(e){e===void 0&&(e={});var t=R({},In,e),n=t.scrollIntoView,o=t.environment,r=t.getA11yStatusMessage,s=un(yn,t,an,pn),i=s[0],l=s[1],g=i.isOpen,v=i.highlightedIndex,m=i.selectedItem,E=i.inputValue,h=c.useRef(null),I=c.useRef(null),p=c.useRef({}),k=c.useRef(null),w=rn(t),y=ht({state:i,props:t}),q=c.useCallback(function(u){return p.current[w.getItemId(u)]},[w]);fn(r,i,[g,v,m,E],o);var U=gn({menuElement:I.current,highlightedIndex:v,isOpen:g,itemRefs:p,scrollIntoView:n,getItemNodeFromIndex:q});c.useEffect(function(){return k.current=je(function(u){u({type:Le,inputValue:""})},500),function(){k.current.cancel()}},[]),c.useEffect(function(){E&&k.current(l)},[l,E]),c.useEffect(function(){var u=fe(t,"isOpen");u&&h.current&&h.current.focus()},[]);var O=cn(o,[h,I],c.useCallback(function(){y.current.state.isOpen&&l({type:Ce})},[l,y])),_=dn();c.useEffect(function(){g||(p.current={})},[g]);var P=c.useMemo(function(){return{ArrowDown:function(d){d.preventDefault(),l({type:Ne,altKey:d.altKey})},ArrowUp:function(d){d.preventDefault(),l({type:qe,altKey:d.altKey})},Home:function(d){d.preventDefault(),l({type:_e})},End:function(d){d.preventDefault(),l({type:ze})},Escape:function(){y.current.state.isOpen&&l({type:Ue})},Enter:function(d){d.preventDefault(),l({type:y.current.state.isOpen?Xe:ye})},PageUp:function(d){y.current.state.isOpen&&(d.preventDefault(),l({type:Ye}))},PageDown:function(d){y.current.state.isOpen&&(d.preventDefault(),l({type:Ze}))}," ":function(d){d.preventDefault();var f=y.current.state;if(!f.isOpen){l({type:ye});return}f.inputValue?l({type:Se,key:" "}):l({type:Ge})}}},[l,y]),ce=c.useCallback(function(){l({type:yt})},[l]),ie=c.useCallback(function(){l({type:xt})},[l]),le=c.useCallback(function(){l({type:bt})},[l]),z=c.useCallback(function(u){l({type:wt,highlightedIndex:u})},[l]),M=c.useCallback(function(u){l({type:Qe,selectedItem:u})},[l]),te=c.useCallback(function(){l({type:St})},[l]),H=c.useCallback(function(u){l({type:Le,inputValue:u})},[l]),b=c.useCallback(function(u){var d=u===void 0?{}:u,f=d.onClick,$=he(d,bn),L=function(){var K;(K=h.current)==null||K.focus()};return R({id:w.labelId,htmlFor:w.toggleButtonId,onClick:ee(f,L)},$)},[w]),J=c.useCallback(function(u,d){var f,$=u===void 0?{}:u,L=$.onMouseLeave,V=$.refKey,K=V===void 0?"ref":V,j=$.ref,D=he($,xn),B=d===void 0?{}:d;B.suppressRefError;var F=function(){l({type:mt})};return R((f={},f[K]=Ke(j,function(X){I.current=X}),f.id=w.menuId,f.role="listbox",f["aria-labelledby"]=D&&D["aria-label"]?void 0:""+w.labelId,f.onMouseLeave=ee(L,F),f),D)},[l,_,w]),S=c.useCallback(function(u,d){var f,$=u===void 0?{}:u,L=$.onBlur,V=$.onClick;$.onPress;var K=$.onKeyDown,j=$.refKey,D=j===void 0?"ref":j,B=$.ref,F=he($,wn),X=d===void 0?{}:d;X.suppressRefError;var W=y.current.state,Q=function(){l({type:ye})},ne=function(){W.isOpen&&!O.isMouseDown&&l({type:Ce})},re=function(G){var Y=Gt(G);Y&&P[Y]?P[Y](G):ln(Y)&&l({type:Se,key:Y})},se=R((f={},f[D]=Ke(B,function(oe){h.current=oe}),f["aria-activedescendant"]=W.isOpen&&W.highlightedIndex>-1?w.getItemId(W.highlightedIndex):"",f["aria-controls"]=w.menuId,f["aria-expanded"]=y.current.state.isOpen,f["aria-haspopup"]="listbox",f["aria-labelledby"]=F&&F["aria-label"]?void 0:""+w.labelId,f.id=w.toggleButtonId,f.role="combobox",f.tabIndex=0,f.onBlur=ee(L,ne),f),F);return F.disabled||(se.onClick=ee(V,Q),se.onKeyDown=ee(K,re)),se},[l,w,y,O,_,P]),C=c.useCallback(function(u){var d,f=u===void 0?{}:u,$=f.item,L=f.index,V=f.onMouseMove,K=f.onClick,j=f.onMouseDown;f.onPress;var D=f.refKey,B=D===void 0?"ref":D,F=f.disabled,X=f.ref,W=he(f,Sn);F!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var Q=y.current,ne=Q.state,re=Q.props,se=on($,L,re.items,"Pass either item or index to getItemProps!"),oe=se[0],G=se[1],Y=re.isItemDisabled(oe,G),Ot=function(){O.isTouchEnd||G===ne.highlightedIndex||(U.current=!1,l({type:It,index:G,disabled:Y}))},Tt=function(){l({type:Je,index:G})},Et=function(Dt){return Dt.preventDefault()},pe=R((d={},d[B]=Ke(X,function(de){de&&(p.current[w.getItemId(G)]=de)}),d["aria-disabled"]=Y,d["aria-selected"]=""+(oe===ne.selectedItem),d.id=w.getItemId(G),d.role="option",d),W);return Y||(pe.onClick=ee(K,Tt)),pe.onMouseMove=ee(V,Ot),pe.onMouseDown=ee(j,Et),pe},[y,w,O,U,l]);return{getToggleButtonProps:S,getLabelProps:b,getMenuProps:J,getItemProps:C,toggleMenu:ce,openMenu:le,closeMenu:ie,setHighlightedIndex:z,selectItem:M,reset:te,setInputValue:H,highlightedIndex:v,isOpen:g,selectedItem:m,inputValue:E}}R({},vt,{items:a.array.isRequired,isItemDisabled:a.func,inputValue:a.string,defaultInputValue:a.string,initialInputValue:a.string,inputId:a.string,onInputValueChange:a.func});R({},ge,{isItemDisabled:function(){return!1}});Ie.stateReducer,Ie.itemToKey,Ie.environment,a.array,a.array,a.array,a.func,a.number,a.number,a.number,a.func,a.func,a.string,a.string;ge.itemToKey,ge.stateReducer,ge.environment;const $t=c.createContext(void 0),Cn=()=>{const e=c.useContext($t);if(!e)throw new Error("useSelectContext must be used within a SelectProvider");return e},$n=({children:e,value:t})=>{const{highlightedIndex:n,selectedItems:o,...r}=t,s=l=>l===n,i=l=>!!o.find(g=>g.value===l.value);return T.jsx($t.Provider,{value:{isItemHighlighted:s,isItemSelected:i,...r},children:e})},On=N.li`
  display: flex;

  ${({theme:e,isMulti:t,isHighlighted:n})=>`
    cursor:pointer;
    align-items: center;
    ${!t&&`padding: ${e.spacing["4xs"]} ${e.spacing["2xs"]}`};
    gap: ${t?e.spacing["4xs"]:e.spacing["5xs"]};
    background-color: ${n&&!t?e.palette.primary.light:e.palette.surface.contrast};

    color: ${e.palette.content.default};
    ${e.fontStyles.body2}

    & > label {
      ${t&&`padding: ${e.spacing["4xs"]} ${e.spacing["2xs"]}`};
    }
    
    &:hover,&:focus-within {
      background-color: ${e.palette.primary.light};
    }

    &[aria-disabled="true"] {
      cursor: not-allowed;
      color: ${e.palette.content.light};
      &:hover {
        background-color: ${e.palette.surface.contrast};
      }
    }
  `}
`,Tn=N.div`
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  width: 100%;

  ${({theme:e,isSelected:t})=>`
    ${e.fontStyles[t?"body2Bold":"body2"]};
  `}
`,En=({dataTestId:e,index:t,children:n,style:o,value:r,label:s,disabled:i})=>{const{getItemProps:l,isItemHighlighted:g,isItemSelected:v,isMulti:m}=Cn(),E={value:r,label:s,disabled:!!i},h=v(E),I=g(t),p=l({item:E,index:t});return T.jsx(On,{"aria-disabled":p["aria-disabled"],"data-testid":e,isHighlighted:I,isMulti:m,style:o,...!m&&{...p,"aria-selected":h},children:m?T.jsx(Pt,{isChecked:h,isDisabled:p["aria-disabled"],...p,children:n||s||r}):T.jsx(Tn,{isSelected:h,children:n||s||r})})},Dn=N.div`
  position: relative;
  width: 100%;
`,Rn=(e,t)=>({default:t.palette.surface.default,contrast:t.palette.surface.contrast,light:t.palette.surface.light})[e],Mn=N.div`
  display: flex;
  height: auto;
  width: 100%;
  position: relative;
  flex-direction: column;
  overflow: hidden;
`,kn=N.ul`
  list-style-type: none;
  position: absolute;
  z-index: ${Ht};
  width: 100%;
  max-height: 180px;
  overflow: auto;

  ${({isOpen:e,theme:t})=>`
    margin-top:${t.spacing["5xs"]};
    padding:  ${t.spacing["2xs"]} ${t.spacing.none};
    background-color: ${t.palette.surface.contrast};
    display: ${e?"block":"none"};
    border-radius: ${t.shape.formField};
    box-shadow: ${t.shadows.s};
  `}
`,Bn=N.div`
  display: flex;
  flex: 1;
  align-self: end;
  overflow: hidden;
`,Pn=N.div`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  ${({theme:e})=>`
    ${e.fontStyles.body2}
    color: ${e.palette.content.default};
  `}
`,Hn=N.div`
  transition: all 0.2s ease-in-out;
  width: 100%;
  height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;

  ${({theme:e,hasError:t,disabled:n,isOpen:o=!1,variant:r="outlined",fill:s="default"})=>`
    ${e.fontStyles.body2}
    color: ${n?e.palette.content.light:e.palette.content.default};
    padding: ${e.spacing["4xs"]} ${e.spacing["3xs"]};
    gap: ${e.spacing["4xs"]} ;
    background-color: ${Rn(s,e)};
    border-radius: ${e.shape.formField};
    cursor: ${n?"not-allowed":"pointer"};

    border-width: ${r==="outlined"?"1px":"0 0 1px"};
      border-color: ${o?e.palette.content.dark:e.palette.border.medium};
      border-style: solid;

      &:focus, &:hover {
        border-color: ${t?e.palette.error.default:e.palette.content.dark};
      }

      ${t&&`border-color: ${e.palette.error.default}`};
  `};
`,Kn=N.div`
  display: flex;
`,Fn=N.div`
  ${({theme:e})=>`
    padding-left: ${e.spacing["2xs"]};
  `}
`,Ln=e=>({value:e.props.value,label:e.props.label,disabled:!!e.props.disabled}),An=e=>e?e.label||e.value:"",Vn=({dataTestId:e,style:t,helperText:n="",hasError:o=!1,initialValue:r="",label:s,isMulti:i=!1,isRequired:l,errorMessage:g,children:v,isDisabled:m,variant:E="outlined",fill:h="default",onChange:I})=>{const[p,k]=c.useState([]),w=c.useRef(null),y=c.useCallback((S,C=!1)=>{var u;if(k(S),I&&!C)if(i){const d=S.map(f=>f.value).filter(f=>!!f);I(d)}else{const d=((u=S[0])==null?void 0:u.value)||"";I(d)}},[k,i,I]),q=S=>{S.stopPropagation(),y([])},U=o&&g?g:n,O=c.useMemo(()=>{const S=c.Children.map(v,C=>c.isValidElement(C)&&C.props.value!=null?Ln(C):null);return S?S.filter(Boolean):[]},[v]),_=c.useMemo(()=>{const S=C=>!!O.find(u=>u.value===C.value);return p.filter(S)},[O,p]);c.useEffect(()=>{const C=Array.isArray(r)?r.map(u=>O.find(d=>d.value===u)).filter(u=>!!u):O.find(u=>u.value===r);!r||!C||Array.isArray(C)&&C.length===0?y([],!0):Array.isArray(C)?y(i?C:[C[0]],!0):y([C],!0)},[i,r,O,y]),c.useEffect(()=>{O.length===1&&p.length===0&&y([O[0]]),_.length!==p.length&&y(_)},[O,p,_,y]);const{isOpen:P,closeMenu:ce,getToggleButtonProps:ie,getLabelProps:le,getMenuProps:z,highlightedIndex:M,getItemProps:te}=ue({items:O,isItemDisabled(S){return!!S.disabled},itemToString:An,stateReducer:(S,C)=>{const{changes:u,type:d}=C;switch(d){case ue.stateChangeTypes.ToggleButtonKeyDownEnter:case ue.stateChangeTypes.ToggleButtonKeyDownSpaceButton:case ue.stateChangeTypes.ItemClick:case ue.stateChangeTypes.ToggleButtonBlur:return{...u,isOpen:i,highlightedIndex:S.highlightedIndex};default:return u}},selectedItem:null,onSelectedItemChange:({selectedItem:S})=>{let C=[];i?p.includes(S)?C=p.filter(u=>u!==S):C=[...p,S]:C=[S],y(C)}}),H=!!p&&!!p.length,b=()=>p.length>1?`${p.length} options selected`:p[0].label||p[0].value;Mt({ref:w,handler:()=>ce()});const J=m||O.length===1;return T.jsx($n,{value:{highlightedIndex:M,getItemProps:te,selectedItems:p,isMulti:i},children:T.jsxs(Dn,{"data-testid":e,ref:w,style:t,children:[T.jsx(Mn,{children:T.jsxs(Hn,{...ie({disabled:J}),"data-testid":"select-container",fill:h,hasError:o,isOpen:P,variant:E,children:[T.jsxs(Bn,{children:[T.jsx(kt,{...le(),hasError:o,isActive:H,isDisabled:J,isRequired:l,children:s}),H?T.jsx(Pn,{children:b()}):null]}),T.jsxs(Kn,{children:[i&&H?T.jsxs(tt,{children:[T.jsx(et,{code:"close",dataTestId:"clear-selection",onClick:q,size:"s"}),T.jsx(tt.Content,{children:"Clear all"})]}):null,T.jsx(et,{code:P?"expand_less":"expand_more",size:"s"})]})]})}),T.jsx(kn,{...z(),"aria-multiselectable":i,isOpen:P,children:P?v:null}),U?T.jsx(Fn,{children:T.jsx(Bt,{color:o?"error.default":"content.light",element:"span",fontStyles:"body3",children:U})}):null]})})};Vn.Option=En;export{Vn as S};
