import{j as s}from"./jsx-runtime-DMAvRu52.js";import{T as m}from"./Tooltip-OievAhLb.js";import{r as g}from"./index-Dl6G-zuu.js";import{C as B}from"./Close-mVzWqPf0.js";import{n as y}from"./emotion-styled.browser.esm-Dv69Fly8.js";const E=(t,r,o,n)=>{const a=n==="primary"?"accent":n;if(t==="solid"){const e=r.palette[a];return{bgColor:o?e.light:e.default,hoveredBgColor:e.dark}}if(t==="outlined"){const e=r.palette[a];return{bgColor:e.light,hoveredBgColor:e.medium,borderTextColor:o?e.medium:e.default,hoveredBorderTextColor:e.dark}}},O=({theme:t,color:r,variant:o,hasHover:n,isDisabled:a})=>{const e=E(o,t,a,r);return{solid:{border:t.spacing.none,color:t.palette.content.contrast,backgroundColor:e==null?void 0:e.bgColor,...n&&{"&:hover":{backgroundColor:e==null?void 0:e.hoveredBgColor,color:t.palette.content.contrast}}},outlined:{border:`1px solid ${e==null?void 0:e.borderTextColor}`,color:e==null?void 0:e.borderTextColor,backgroundColor:e==null?void 0:e.bgColor,...n&&{"&:hover":{borderColor:e==null?void 0:e.hoveredBorderTextColor,color:e==null?void 0:e.hoveredBorderTextColor,backgroundColor:e==null?void 0:e.hoveredBgColor}}}}[o]},I=(t,r)=>({medium:{fontSize:"0.75rem",fontWeight:"700",lineHeight:"1rem",padding:`${t.spacing["4xs"]} ${t.spacing["3xs"]}`,height:"32px"},small:{fontSize:"0.625rem",fontWeight:"700",lineHeight:"0.875rem",padding:`${t.spacing["6xs"]} ${t.spacing["4xs"]}`,height:"18px"}})[r],R=y.div(({theme:t,border:r,isDisabled:o,isClickable:n,isDismissible:a,size:e,variant:f,color:i,hasHover:l})=>({...I(t,e),...O({theme:t,variant:f,color:i,hasHover:l,isDisabled:o}),display:"flex",textTransform:"uppercase",alignItems:"center",maxWidth:"max-content",gap:t.spacing["5xs"],borderRadius:t.radius[r==="rounded"?"s":"none"],width:"150px","> :first-child":{whiteSpace:"nowrap",display:"block",overflow:"hidden",textOverflow:"ellipsis"},...(n||a)&&{userSelect:"none"},...n&&{cursor:"pointer"},...o&&{cursor:"not-allowed"},"&:focus-visible":{outline:`2px solid ${t.palette.border.dark}`,outlineOffset:"1px"}})),W=y.button`
  ${({theme:t})=>({backgroundColor:"transparent",color:"currentColor",display:"inherit",border:0,cursor:"pointer","&:disabled":{cursor:"not-allowed"},"&:focus-visible":{outline:`2px solid ${t.palette.border.dark}`,outlineOffset:"1px"}})}
`,V=g.forwardRef(({style:t,children:r,dataTestId:o,variant:n="solid",color:a="primary",border:e="squared",size:f="small",isClickable:i=!1,isDisabled:l=!1,onClick:u,onClose:c,tooltipVariant:T="opacity"},v)=>{const h=o??"tag",p=!!c,b=!l&&(!!u||i||p),w=!p&&b,C=d=>{l||p||u==null||u(d)},x=g.useRef(null),[S,k]=g.useState(!1),$=d=>{d.code==="Enter"&&C(d)},j=d=>{d.code==="Enter"&&(c==null||c(d))};return g.useEffect(()=>{if(x.current){const{current:d}=x;k(d.scrollWidth>d.clientWidth)}},[r]),s.jsxs(m,{children:[s.jsxs(R,{"aria-disabled":l,border:e,color:a,"data-testid":h,hasHover:b,isClickable:w,isDisabled:l,isDismissible:p,onClick:C,...i&&{onKeyDown:$},ref:v,size:f,style:t,...i&&{tabIndex:0},variant:n,children:[s.jsx("span",{ref:x,children:r}),p?s.jsx(W,{"aria-disabled":l,color:a,"data-testid":`${h}-close-button`,disabled:l,onClick:c,onKeyDown:j,tabIndex:0,children:s.jsx(B,{height:12,width:12})}):null]}),s.jsx(m.Content,{background:T,children:S?r:""})]})});export{V as T};
