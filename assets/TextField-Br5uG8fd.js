import{j as o}from"./jsx-runtime-CB_V9I5Y.js";import{I as _}from"./Icon-DG6KDu5A.js";import{I as L}from"./IconButton-C_mszqXk.js";import{L as b}from"./LabelField-x8FAhJm0.js";import{T as f}from"./Typography-DHEP7O00.js";import{r as a}from"./index-CTjT7uj6.js";import{T as P,I as x,a as nn,b as sn,c as tn,d as on,e as en}from"./TextField.styled-Dy6mViiV.js";const hn=({dataTestId:v,hasError:A=!1,extraPrefix:n,extraSuffix:s,label:p,labelIcon:B,isFloatingLabel:l=!0,name:D,id:$,required:C,requiredMessage:q,style:K,children:H,initialValue:i,inputRef:M,message:E="",type:j="text",variant:S="outlined",scale:k="standard",backgroundFill:W="default",disabled:u=!1,onChange:T=()=>null,onResetInput:z=()=>null,...c})=>{const[g,m]=a.useState(!1),[e,d]=a.useState(""),[F,h]=a.useState(!1),I=$??p.replaceAll(" ","-").toLowerCase(),y=v??`${p.replaceAll(" ","-").toLowerCase()}-text-field`;a.useEffect(()=>{i?(d(i),h(!1)):d("")},[i]);const G=t=>{d(t.target.value),h(!1),T&&T(t)},J=t=>{c.readOnly||m(!0),c.onFocus&&c.onFocus(t)},N=t=>{m(!1),t.currentTarget.value.trim().length===0&&C&&h(!0),c.onBlur&&c.onBlur(t)},Q=()=>{d(""),m(!1),z()},U=t=>t.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(e),V=t=>t.code==="Enter"&&(s==null?void 0:s.onClick)&&s.onClick(e),X=u?"content.light":"content.medium",r=A||F,O=F?q??E:E,Y=g||!!e.trim(),Z=j==="search",R=n!=null&&n.onClick?n.onClick:null,w=s!=null&&s.onClick?s.onClick:null;return o.jsxs(P,{"data-testid":y,hasPrefix:!!n,isFloatingLabel:l,style:K,children:[o.jsxs(x,{isFloatingLabel:l,children:[o.jsx(b,{hasError:r,htmlFor:I,icon:B,isActive:g,isCentered:!Y&&l,isDisabled:u,isFloating:l,isInputFilled:!!e,isRequired:C,scale:k,children:p}),o.jsxs(nn,{backgroundFill:W,"data-testid":`${y}-wrapper`,hasError:r,isFloatingLabel:l,variant:S,children:[n!=null&&n.component?o.jsx(sn,{"data-testid":"extra-preffix",...!!R&&{tabIndex:0,onClick:()=>R(e),onKeyDown:U},children:n.component}):null,o.jsx(tn,{"data-error":r,"data-testid":`${y}-input`,disabled:u,id:I,isFloatingLabel:l,name:D??I,ref:M,scale:k,type:j,value:e,...c,onBlur:N,onChange:G,onFocus:J}),Z&&e?o.jsx(L,{dataTestId:"reset-icon",onClick:Q,style:{marginRight:12},children:o.jsx(_,{code:"close"})}):null,s!=null&&s.component?o.jsx(on,{"data-testid":"extra-suffix",...!!w&&{tabIndex:0,onClick:()=>w(e),onKeyDown:V},children:s.component}):null]})]}),O?o.jsx(en,{children:o.jsx(f,{color:r?"error.default":X,element:"span",fontStyles:"bodySmRegular",children:O})}):null,H]})};export{hn as T};
