var L=Object.defineProperty;var t=(i,u)=>L(i,"name",{value:u,configurable:!0});import{j as e}from"./jsx-runtime-Cgz2XvFB.js";import{I as b}from"./Icon-BrO18bYS.js";import{I as f}from"./IconButton-BxQ2uS0G.js";import{L as P}from"./LabelField-Drl51Bjy.js";import{T as x}from"./Typography-CEwLj33J.js";import{r as p}from"./index-CwbBKW39.js";import{T as nn,I as sn,a as tn,b as on,c as en,d as ln,e as cn}from"./TextField.styled-OOGGIgin.js";const Cn=t(({dataTestId:i,hasError:u=!1,extraPrefix:n,extraSuffix:s,label:m,labelIcon:D,isFloatingLabel:c=!0,name:$,id:q,required:k,requiredMessage:K,style:H,children:M,initialValue:h,inputRef:S,message:T="",type:g="text",variant:W="outlined",scale:F="standard",backgroundFill:z="default",disabled:I=!1,onChange:O=t(()=>null,"onChange"),onResetInput:G=t(()=>null,"onResetInput"),...d})=>{const[R,y]=p.useState(!1),[l,r]=p.useState(""),[w,C]=p.useState(!1),E=q??m.replaceAll(" ","-").toLowerCase(),j=i??`${m.replaceAll(" ","-").toLowerCase()}-text-field`;p.useEffect(()=>{h?(r(h),C(!1)):r("")},[h]);const J=t(o=>{r(o.target.value),C(!1),O&&O(o)},"handleChange"),N=t(o=>{d.readOnly||y(!0),d.onFocus&&d.onFocus(o)},"onFocus"),Q=t(o=>{y(!1),o.currentTarget.value.trim().length===0&&k&&C(!0),d.onBlur&&d.onBlur(o)},"onBlur"),U=t(()=>{r(""),y(!1),G()},"handleResetInput"),V=t(o=>o.code==="Enter"&&(n==null?void 0:n.onClick)&&n.onClick(l),"handleExtraPreffixEnter"),X=t(o=>o.code==="Enter"&&(s==null?void 0:s.onClick)&&s.onClick(l),"handleExtraSuffixEnter"),Y=I?"content.light":"content.medium",a=u||w,v=w?K??T:T,Z=R||!!l.trim(),_=g==="search",A=n!=null&&n.onClick?n.onClick:null,B=s!=null&&s.onClick?s.onClick:null;return e.jsxs(nn,{"data-testid":j,hasPrefix:!!n,isFloatingLabel:c,style:H,children:[e.jsxs(sn,{isFloatingLabel:c,children:[e.jsx(P,{hasError:a,htmlFor:E,icon:D,isActive:R,isCentered:!Z&&c,isDisabled:I,isFloating:c,isInputFilled:!!l,isRequired:k,scale:F,children:m}),e.jsxs(tn,{backgroundFill:z,"data-testid":`${j}-wrapper`,hasError:a,isFloatingLabel:c,variant:W,children:[n!=null&&n.component?e.jsx(on,{"data-testid":"extra-preffix",...!!A&&{tabIndex:0,onClick:t(()=>A(l),"onClick"),onKeyDown:V},children:n.component}):null,e.jsx(en,{"data-error":a,"data-testid":`${j}-input`,disabled:I,id:E,isFloatingLabel:c,name:$??E,ref:S,scale:F,type:g,value:l,...d,onBlur:Q,onChange:J,onFocus:N}),_&&l?e.jsx(f,{dataTestId:"reset-icon",onClick:U,style:{marginRight:12},children:e.jsx(b,{code:"close"})}):null,s!=null&&s.component?e.jsx(ln,{"data-testid":"extra-suffix",...!!B&&{tabIndex:0,onClick:t(()=>B(l),"onClick"),onKeyDown:X},children:s.component}):null]})]}),v?e.jsx(cn,{children:e.jsx(x,{color:a?"error.default":Y,fontStyles:"bodySmRegular",children:v})}):null,M]})},"TextField");export{Cn as T};
