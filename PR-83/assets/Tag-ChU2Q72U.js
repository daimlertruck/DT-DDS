import{j as s}from"./jsx-runtime-CB_V9I5Y.js";import{T as m}from"./Tooltip-DrGyVi5e.js";import{r as g}from"./index-CTjT7uj6.js";import{C as B}from"./Close-BgpoXZkN.js";import{f as y}from"./emotion-styled.browser.esm-DBghOYGd.js";const _=(r,t,o,n)=>{const d=n==="primary"?"accent":n;if(r==="solid"){const e=t.palette[d];return{bgColor:o?e.light:e.default,hoveredBgColor:e.dark}}if(r==="outlined"){const e=t.palette[d];return{bgColor:e.light,hoveredBgColor:e.medium,borderTextColor:o?e.medium:e.default,hoveredBorderTextColor:e.dark}}},E=({theme:r,color:t,variant:o,hasHover:n,isDisabled:d})=>{const e=_(o,r,d,t);return{solid:{border:r.spacing.spacing_0,color:r.palette.content.contrast,backgroundColor:e==null?void 0:e.bgColor,...n&&{"&:hover":{backgroundColor:e==null?void 0:e.hoveredBgColor,color:r.palette.content.contrast}}},outlined:{border:`1px solid ${e==null?void 0:e.borderTextColor}`,color:e==null?void 0:e.borderTextColor,backgroundColor:e==null?void 0:e.bgColor,...n&&{"&:hover":{borderColor:e==null?void 0:e.hoveredBorderTextColor,color:e==null?void 0:e.hoveredBorderTextColor,backgroundColor:e==null?void 0:e.hoveredBgColor}}}}[o]},O=(r,t)=>({medium:{fontSize:"0.75rem",fontWeight:"700",lineHeight:"1rem",padding:`${r.spacing.spacing_30} ${r.spacing.spacing_40}`,height:"32px"},small:{fontSize:"0.625rem",fontWeight:"700",lineHeight:"0.875rem",padding:`${r.spacing.spacing_10} ${r.spacing.spacing_30}`,height:"18px"}})[t],I=y.div(({theme:r,border:t,isDisabled:o,isClickable:n,isDismissible:d,size:e,variant:f,color:l,hasHover:i})=>({...O(r,e),...E({theme:r,variant:f,color:l,hasHover:i,isDisabled:o}),display:"flex",textTransform:"uppercase",alignItems:"center",maxWidth:"max-content",gap:r.spacing.spacing_20,borderRadius:r.radius[t==="rounded"?"radius_70":"radius_0"],width:"150px","> :first-child":{whiteSpace:"nowrap",display:"block",overflow:"hidden",textOverflow:"ellipsis"},...(n||d)&&{userSelect:"none"},...n&&{cursor:"pointer"},...o&&{cursor:"not-allowed"},"&:focus-visible":{outline:`2px solid ${r.palette.border.dark}`,outlineOffset:"1px"}})),R=y.button`
  ${({theme:r})=>({backgroundColor:"transparent",color:"currentColor",display:"inherit",border:0,cursor:"pointer","&:disabled":{cursor:"not-allowed"},"&:focus-visible":{outline:`2px solid ${r.palette.border.dark}`,outlineOffset:"1px"}})}
`,N=g.forwardRef(({style:r,children:t,dataTestId:o,variant:n="solid",color:d="primary",border:e="squared",size:f="small",isClickable:l=!1,isDisabled:i=!1,onClick:u,onClose:c,tooltipVariant:T="opacity"},v)=>{const h=o??"tag",p=!!c,b=!i&&(!!u||l||p),w=!p&&b,C=a=>{i||p||u==null||u(a)},x=g.useRef(null),[S,k]=g.useState(!1),$=a=>{a.code==="Enter"&&C(a)},j=a=>{a.code==="Enter"&&(c==null||c(a))};return g.useEffect(()=>{if(x.current){const{current:a}=x;k(a.scrollWidth>a.clientWidth)}},[t]),s.jsxs(m,{children:[s.jsxs(I,{"aria-disabled":i,border:e,color:d,"data-testid":h,hasHover:b,isClickable:w,isDisabled:i,isDismissible:p,onClick:C,...l&&{onKeyDown:$},ref:v,size:f,style:r,...l&&{tabIndex:0},variant:n,children:[s.jsx("span",{ref:x,children:t}),p?s.jsx(R,{"aria-disabled":i,color:d,"data-testid":`${h}-close-button`,disabled:i,onClick:c,onKeyDown:j,tabIndex:0,children:s.jsx(B,{height:12,width:12})}):null]}),s.jsx(m.Content,{background:T,children:S?t:""})]})});export{N as T};
